import{e as va}from"../chunks/ft-thZGf.js";import{n as ca,d as ma,t as pa,b as ua,a1 as fa,a2 as ha,a3 as _a,I as z}from"../chunks/Don2Ydo1.js";import{m as ga}from"../chunks/BhEwWWID.js";import"../chunks/DsnmJJEf.js";import{f as ba,a as I,p as ja,H as O,I as C,G as y,b as Ia,g as a,u as n,ar as t,ap as o,J as e,at as xa,F as ya,L as K,aJ as U}from"../chunks/BwdvgNQo.js";import{s as j}from"../chunks/HTLptRgQ.js";import{s as $a}from"../chunks/DYy3QkOc.js";import{r as Ma,i as Y}from"../chunks/CKH9F0ww.js";import{c as wa}from"../chunks/CaPT1Hnn.js";import{t as Ha,f as Ta}from"../chunks/BjiNJ5CV.js";import{a as Sa,t as za}from"../chunks/C6sIn56-.js";import{a as Ca,s as Oa,c as Q,b as Ra}from"../chunks/08d27X49.js";import{I as ka}from"../chunks/Dd2ii0q1.js";import{L as Fa}from"../chunks/Cwb1OXsJ.js";import{S as Aa}from"../chunks/BUsPvKjg.js";import{r as La}from"../chunks/BRmTdaxr.js";import{p as W}from"../chunks/BzM0mbGE.js";import{I as Na}from"../chunks/DGHPOcQf.js";import{I as Pa}from"../chunks/BWUfZxGx.js";import{a as Va}from"../chunks/CEoeiZ5P.js";import{T as Da}from"../chunks/BxmDjSVm.js";import{u as Ea}from"../chunks/B16Yv5G0.js";async function Ja({params:p,parent:l,depends:v}){const s=await l(),c=ca(s.id,p.metadata);v(ma("Metadata",c));const x=await pa.Metadata.get(c),b=ua("js");x||va(404,b(498,[c,s.id]));const u=await fa().count("MetadataOption",ga(s.id,p.metadata));return{protocol:s,metadata:x,optionsCount:u}}const _t=Object.freeze(Object.defineProperty({__proto__:null,load:Ja},Symbol.toStringTag,{value:"Module"}));var qa=ba('<svg><path fill="currentColor" d="M10 2a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H8v2h5V9a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-1H8v6h5v-1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-1H7a1 1 0 0 1-1-1V8H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm9 16h-4v2h4zm0-8h-4v2h4zM9 4H5v2h4z"></path></svg>');function Ba(p,l){const v=Ma(l,["$$slots","$$events","$$legacy"]);var s=qa();Ca(s,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...v})),I(p,s)}var Ga=O('<code class="badge svelte-h9jg4i"> </code>'),Ka=O("<a><!> <!></a>"),Ua=O('<div class="header-and-scrollable svelte-h9jg4i"><header class="svelte-h9jg4i"><div class="text svelte-h9jg4i"><span class="supertitle svelte-h9jg4i"> </span> <h2 class="svelte-h9jg4i"><span class="title svelte-h9jg4i"><!></span></h2> <code class="id svelte-h9jg4i"><!></code> <div class="datatype svelte-h9jg4i"><!> </div></div> <nav class="svelte-h9jg4i"><!> <!> <!> <!></nav></header> <div><!></div></div>');function gt(p,l){ja(l,!0);const v=n(()=>Ra("main")),s=n(()=>l.data.metadata),c=n(()=>a(s).id),x=n(()=>a(s).label),b=n(()=>a(s).type);var u=Ua(),$=t(u),M=t($),w=t(M),X=t(w,!0);e(w);var H=o(w,2),R=t(H),Z=t(R);{let i=n(()=>a(v)(221)),r=n(()=>a(x)||z(a(c))),f=n(()=>Ea(async(h,_)=>{_&&(h.label=_)}));Pa(Z,{discreet:!0,get help(){return a(i)},get value(){return a(r)},get onblur(){return a(f)}})}e(R),e(H);var T=o(H,2),aa=t(T);{let i=n(()=>a(v)(289));Da(aa,{get text(){return a(i)},children:(r,f)=>{xa();var h=ya();y(_=>j(h,_),[()=>z(a(c))]),I(r,h)},$$slots:{default:!0}})}e(T);var k=o(T,2),F=t(k);Na(F,{get type(){return a(b)}});var ta=o(F);e(k),e(M);var A=o(M,2);{const i=(r,f=C,h=C,_=C,D)=>{let oa=K(()=>U(D?.(),()=>({}),!0).help),E=K(()=>U(D?.(),()=>({}),!0).count);const J=n(()=>La(`/(app)/protocols/[id]/metadata/[metadata]/${f()}`,{id:l.data.protocol.id,metadata:z(a(c))}));var g=Ka();let q;var B=t(g);wa(B,_,(d,m)=>{m(d,{})});var G=o(B),ia=o(G);{var na=d=>{var m=Ga(),la=t(m,!0);e(m),y(da=>j(la,da),[()=>Intl.NumberFormat(Va().language).format(a(E))]),I(d,m)};Y(ia,d=>{a(E)&&d(na)})}e(g),Sa(g,(d,m)=>za?.(d,m),()=>a(oa)),y(d=>{Oa(g,"href",a(J)),q=Q(g,1,"svelte-h9jg4i",null,q,d),j(G,` ${h()??""} `)},[()=>({active:W.url.pathname.includes(`/${a(J)}`)})]),I(r,g)};var L=t(A);i(L,()=>"infos",()=>"Informations",()=>ka);var N=o(L,2);{var ea=r=>{i(r,()=>"options",()=>"Options",()=>Fa,()=>({count:l.data.optionsCount}))};Y(N,r=>{a(b)==="enum"&&r(ea)})}var P=o(N,2);i(P,()=>"inference",()=>"Inférence",()=>Aa);var sa=o(P,2);i(sa,()=>"cascades",()=>"Cascades",()=>Ba,()=>({help:"Changer les valeurs d'autres métadonnées en fonction de celle-ci"})),e(A)}e($);var S=o($,2);let V;var ra=t(S);$a(ra,()=>l.children),e(S),e(u),y((i,r,f)=>{j(X,i),j(ta,` ${r??""}`),V=Q(S,1,"scrollable svelte-h9jg4i",null,V,f)},[()=>a(v)(288),()=>ha(_a[a(b)].label??""),()=>({padded:!W.route.id?.includes("/options")})]),Ha(1,u,()=>Ta,()=>({duration:100})),I(p,u),Ia()}export{gt as component,_t as universal};
