import"../chunks/DsnmJJEf.js";import{f as Ct,a as r,p as Tt,H as _,D as H,ar as v,g as t,J as n,ap as J,u as l,G as A,I as _t,b as Bt,C as N,L as Ht,aJ as qt,b2 as Ut,F as mt,aR as Wt,at as Lt}from"../chunks/BwdvgNQo.js";import{s as D}from"../chunks/HTLptRgQ.js";import{a as $t}from"../chunks/DbetVW2v.js";import{r as Rt,i as T,s as Gt}from"../chunks/CKH9F0ww.js";import{c as Jt}from"../chunks/CxwMZO45.js";import{t as jt,f as Et}from"../chunks/BjiNJ5CV.js";import{a as Dt,c as ft,s as gt,b as It,d as Nt}from"../chunks/08d27X49.js";import{ah as Kt,f as Ft,t as St,Y as Qt,O as Yt,a7 as Xt,C as Zt,F as te,r as ee,D as re}from"../chunks/Don2Ydo1.js";import{C as ae}from"../chunks/DZRaQp3m.js";import{T as yt}from"../chunks/vSpkE5AR.js";import{p as zt}from"../chunks/BzM0mbGE.js";import{B as bt}from"../chunks/DfpvCGjf.js";import{B as se}from"../chunks/Bga-pN0V.js";import{F as oe}from"../chunks/CfpiF-ni.js";import{E as le,F as ne}from"../chunks/D5nc91ck.js";import{I as ve}from"../chunks/BWUfZxGx.js";import{L as ie}from"../chunks/DkW1Bdbi.js";import{L as de}from"../chunks/72YJCPe-.js";import{h as pe}from"../chunks/Xiow3_xo.js";import{u as ct}from"../chunks/B6HkNRPu.js";import{e as ut,i as At}from"../chunks/CuPIRSst.js";import{A as _e}from"../chunks/BsYyX4S0.js";import{A as ce}from"../chunks/CkHS13jn.js";import{D as ue}from"../chunks/DBaFXsNm.js";import{P as fe}from"../chunks/BLgTCby7.js";import{B as ge}from"../chunks/LNwaZJFt.js";import"../chunks/BDV6zAFm.js";import{r as Ot}from"../chunks/BRmTdaxr.js";import"../chunks/BUApaBEI.js";import{R as Z}from"../chunks/DWCXZatK.js";var me=Ct('<svg><path fill="currentColor" d="m3.515 2.1l19.092 19.092l-1.415 1.415l-2.014-2.015A6 6 0 0 1 17 21H7A6 6 0 0 1 5.008 9.339a7 7 0 0 1 .353-2.563L2.1 3.514zM7 9q0 .122.006.243l.07 1.488l-1.404.494A4.002 4.002 0 0 0 7 19h10q.28 0 .548-.037L7.03 8.445Q7 8.718 7 9m5-7a7 7 0 0 1 6.992 7.339a6.003 6.003 0 0 1 3.212 8.65l-1.493-1.494a3.999 3.999 0 0 0-5.207-5.206L14.01 9.796A6 6 0 0 1 17 9a5 5 0 0 0-7.876-4.09l-1.43-1.43A6.97 6.97 0 0 1 12 2"></path></svg>');function he(Q,f){const s=Rt(f,["$$slots","$$events","$$legacy"]);var d=me();Dt(d,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...s})),r(Q,d)}var kt,Pt;function xe(){if(Pt)return kt;Pt=1;var Q={diffString:function(f,s){var d=this.diff(f.split(/\s+/),s.split(/\s+/)),h=[],e=0,w=0,C,a=f.match(/\s+/g);a==null?a=[""]:a.push("");var B=s.match(/\s+/g);for(B==null?B=[""]:B.push("");e<d.o.length||w<d.n.length;){for(C={remove:"",add:""};e<d.o.length&&d.o[e].text==null;)C.remove+=d.o[e]+a[e],e++;for(;w<d.n.length&&d.n[w].text==null;)C.add+=d.n[w]+B[w],w++;for((C.add||C.remove)&&h.push(C),C={text:""};e<d.o.length&&w<d.n.length&&d.o[e].text!=null&&d.n[w].text!=null;)C.text+=d.o[e].text+a[e],e++,w++;C.text&&h.push(C)}return h},diff:function(f,s){for(var d=new Object,h=new Object,e=0;e<s.length;e++)d[s[e]]==null&&(d[s[e]]={rows:new Array,o:null}),d[s[e]].rows.push(e);for(var e=0;e<f.length;e++)h[f[e]]==null&&(h[f[e]]={rows:new Array,n:null}),h[f[e]].rows.push(e);for(var e in d)d[e].rows.length==1&&typeof h[e]<"u"&&h[e].rows.length==1&&(s[d[e].rows[0]]={text:s[d[e].rows[0]],row:h[e].rows[0]},f[h[e].rows[0]]={text:f[h[e].rows[0]],row:d[e].rows[0]});for(var e=0;e<s.length-1;e++)s[e].text!=null&&s[e+1].text==null&&s[e].row+1<f.length&&f[s[e].row+1].text==null&&s[e+1]==f[s[e].row+1]&&(s[e+1]={text:s[e+1],row:s[e].row+1},f[s[e].row+1]={text:f[s[e].row+1],row:e+1});for(var e=s.length-1;e>0;e--)s[e].text!=null&&s[e-1].text==null&&s[e].row>0&&f[s[e].row-1].text==null&&s[e-1]==f[s[e].row-1]&&(s[e-1]={text:s[e-1],row:s[e].row-1},f[s[e].row-1]={text:f[s[e].row-1],row:e-1});return{o:f,n:s}}};return kt=Q,kt}var we=xe();const ye=Kt(we);var be=Ct('<svg><path fill="currentColor" d="m8.369 12l4.747-8.968l1.768.936L10.632 12l4.252 8.032l-1.768.936z"></path></svg>');function ke(Q,f){const s=Rt(f,["$$slots","$$events","$$legacy"]);var d=be();Dt(d,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...s})),r(Q,d)}var $e=Ct('<svg><path fill="currentColor" d="m15.632 12l-4.748-8.968l-1.768.936L13.368 12l-4.252 8.032l1.768.936z"></path></svg>');function je(Q,f){const s=Rt(f,["$$slots","$$events","$$legacy"]);var d=$e();Dt(d,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...s})),r(Q,d)}const Ee=(Q,f=_t)=>{var s=N(),d=H(s);ut(d,17,f,At,(h,e)=>{var w=N(),C=H(w);{var a=O=>{var I=Ne(),W=v(I,!0);n(I),A(()=>D(W,t(e).text)),r(O,I)},B=O=>{var I=Ye(),W=H(I);{var tt=m=>{var k=Ke(),R=v(k,!0);n(k),A(()=>D(R,t(e).remove)),r(m,k)};T(W,m=>{t(e).remove&&m(tt)})}var nt=J(W,2);{var et=m=>{var k=Qe(),R=v(k,!0);n(k),A(()=>D(R,t(e).add)),r(m,k)};T(nt,m=>{t(e).add&&m(et)})}r(O,I)};T(C,O=>{t(e).text?O(a):O(B,!1)})}r(h,w)}),r(Q,s)};var ze=_('<span class="separator svelte-dmhzg9" aria-hidden="true"><!></span>'),Ae=_("<a> </a>"),Ce=_("<a> </a>"),Re=_("<span> </span>"),De=_("<span> </span>"),Me=_('<span class="index"><!></span>'),Ve=_("<span> </span>"),Le=_("<!> <!>",1),Oe=_('<span class="root">/</span>'),Pe=_('<div class="string url svelte-dmhzg9"> <!></div>'),Te=_("<span><!></span>"),Be=_('<span class="number svelte-dmhzg9"> </span>'),Ie=_('<span class="boolean svelte-dmhzg9"> </span>'),Fe=_('<span class="null svelte-dmhzg9">null</span>'),Se=_("<li><!></li>"),He=_('<ul class="array svelte-dmhzg9"></ul>'),qe=_('<div class="array empty svelte-dmhzg9"> </div>'),Ue=_('<dt class="key svelte-dmhzg9"> </dt> <dd class="svelte-dmhzg9"><!></dd>',1),We=_("<dl></dl>"),Ge=_('<span class="undefined">undefined</span>'),Je=_('<span class="unknown"> </span>'),Ne=_("<span> </span>"),Ke=_('<span class="removed svelte-dmhzg9"> </span>'),Qe=_('<span class="added svelte-dmhzg9"> </span>'),Ye=_("<!> <!>",1),Xe=_('<dl class="changed"><dt class="svelte-dmhzg9"><!></dt> <dd class="svelte-dmhzg9"><!></dd> <dt class="svelte-dmhzg9"><!></dt> <dd class="svelte-dmhzg9"><!></dd></dl>'),Ze=_('<dt><div class="icon svelte-dmhzg9"><!></div> <div class="path svelte-dmhzg9"><!></div></dt> <dd><!></dd>',1),tr=_("<dl></dl>");function er(Q,f){Tt(f,!0);const s=(C,a=_t,B)=>{let O=Ht(()=>qt(B?.(),void 0));const I=l(()=>a()[0]==="metadata"?St.Metadata.getFromState(a()[1].toString()):void 0),W=l(()=>t(I)&&a()[2]==="options"&&t(O)?Qt("MetadataOption",Yt(t(I).id,t(O))):void 0);var tt=N(),nt=H(tt);ut(nt,17,a,At,(et,m,k)=>{var R=Le(),q=H(R);{var K=i=>{var u=ze(),x=v(u);ce(x,{}),n(u),r(i,u)};T(q,i=>{k>0&&i(K)})}var rt=J(q,2);{var c=i=>{const u=l(()=>Xt(t(I).id));var x=N(),y=H(x);{var o=M=>{var z=Ae(),at=v(z,!0);n(z),A((F,V)=>{gt(z,"title",F),gt(z,"href",V),D(at,t(I).label||t(u).id)},[()=>t(h)(283),()=>Ot("/(app)/protocols/[id]/metadata/[metadata]",{id:t(u).namespace??zt.params.id??"",metadata:t(u).id})]),r(M,z)},$=M=>{var z=N(),at=H(z);$t(at,()=>t(W),null,(F,V)=>{var st=N(),Y=H(st);{var U=b=>{var j=Ce(),L=v(j,!0);n(j),A((G,S)=>{gt(j,"title",G),gt(j,"href",S),D(L,t(V).label||t(V).key)},[()=>t(h)(284),()=>Ot("/(app)/protocols/[id]/metadata/[metadata]/options/[option]",{id:t(u).namespace??zt.params.id??"",metadata:t(u).id,option:t(V).key})]),r(b,j)},E=b=>{var j=Re(),L=v(j,!0);n(j),A(()=>D(L,t(m))),r(b,j)};T(Y,b=>{t(V)?b(U):b(E,!1)})}r(F,st)}),r(M,z)},P=M=>{var z=De(),at=v(z,!0);n(z),A(()=>D(at,t(m))),r(M,z)};T(y,M=>{k===1&&typeof t(m)=="string"?M(o):k===3&&t(W)?M($,1):M(P,!1)})}r(i,x)},p=i=>{var u=Me(),x=v(u);{let y=l(()=>t(h).c(285)),o=l(()=>[t(m)+1]);Z(x,{get x(){return t(y)},get a(){return t(o)}})}n(u),r(i,u)},g=i=>{var u=Ve(),x=v(u,!0);n(u),A(()=>D(x,t(m))),r(i,u)};T(rt,i=>{t(I)?i(c):typeof t(m)=="number"?i(p,1):i(g,!1)})}r(et,R)},et=>{var m=Oe();r(et,m)}),r(C,tt)},d=(C,a=_t)=>{var B=N(),O=H(B);{var I=c=>{var p=Pe(),g=v(p),i=J(g);{let u=l(()=>t(h)(286));ge(i,{get help(){return t(u)},onclick:()=>window.open(a(),"_blank","noopener"),children:(x,y)=>{le(x,{})},$$slots:{default:!0}})}n(p),A(()=>D(g,`${a()??""} `)),r(c,p)},W=l(()=>typeof a()=="string"&&URL.canParse(a())),tt=c=>{var p=Te();let g;var i=v(p);{var u=y=>{var o=mt();A($=>D(o,$),[()=>t(h)(287)]),r(y,o)},x=y=>{var o=mt();A(()=>D(o,a())),r(y,o)};T(i,y=>{a().length===0?y(u):y(x,!1)})}n(p),A(()=>g=ft(p,1,"string svelte-dmhzg9",null,g,{empty:a().length===0})),r(c,p)},nt=c=>{var p=Be(),g=v(p,!0);n(p),A(()=>D(g,a())),r(c,p)},et=c=>{var p=Ie(),g=v(p,!0);n(p),A(()=>D(g,a()?"true":"false")),r(c,p)},m=c=>{var p=Fe();r(c,p)},k=c=>{var p=N(),g=H(p);{var i=x=>{var y=He();ut(y,21,a,At,(o,$)=>{var P=Se(),M=v(P);d(M,()=>t($)),n(P),r(o,P)}),n(y),r(x,y)},u=x=>{var y=qe(),o=v(y,!0);n(y),A($=>D(o,$),[()=>t(h)(287)]),r(x,y)};T(g,x=>{a().length>0?x(i):x(u,!1)})}r(c,p)},R=l(()=>Array.isArray(a())),q=c=>{var p=We();let g;ut(p,21,()=>Zt(a()),([i,u])=>i,(i,u)=>{var x=l(()=>Ut(t(u),2));let y=()=>t(x)[0],o=()=>t(x)[1];var $=Ue(),P=H($),M=v(P,!0);n(P);var z=J(P,2),at=v(z);d(at,o),n(z),A(()=>D(M,y())),r(i,$)}),n(p),A(i=>g=ft(p,1,"object svelte-dmhzg9",null,g,i),[()=>({nested:Object.values(a()).some(i=>typeof i=="object"&&i!==null)})]),r(c,p)},K=c=>{var p=Ge();r(c,p)},rt=c=>{var p=Je(),g=v(p,!0);n(p),A(()=>D(g,a())),r(c,p)};T(O,c=>{t(W)?c(I):typeof a()=="string"?c(tt,1):typeof a()=="number"?c(nt,2):typeof a()=="boolean"?c(et,3):a()===null?c(m,4):t(R)?c(k,5):typeof a()=="object"?c(q,6):typeof a()>"u"?c(K,7):c(rt,!1)})}r(C,B)},h=l(()=>It("main")),e=Ft({value:{key:"string | number"}});var w=tr();ut(w,21,()=>f.changes,C=>C.path.join("."),(C,a)=>{var B=Ze(),O=H(B);let I;var W=v(O),tt=v(W);{var nt=o=>{ue(o,{})},et=o=>{_e(o,{})},m=o=>{fe(o,{})};T(tt,o=>{t(a).type==="REMOVE"?o(nt):t(a).type==="CREATE"?o(et,1):o(m,!1)})}n(W);var k=J(W,2),R=v(k);{var q=o=>{s(o,()=>t(a).path,()=>t(a).value.key)},K=l(()=>e.allows(t(a))),rt=o=>{s(o,()=>t(a).path)};T(R,o=>{t(K)?o(q):o(rt,!1)})}n(k),n(O);var c=J(O,2);let p;var g=v(c);{var i=o=>{d(o,()=>t(a).value)},u=o=>{d(o,()=>t(a).oldValue)},x=o=>{{let $=l(()=>ye.diffString(t(a).oldValue,t(a).value));Ee(o,()=>t($))}},y=o=>{var $=Xe(),P=v($);{const U=E=>{ke(E,{})};var M=v(P);{let E=l(()=>[U]),b=l(()=>t(h).c(281));Z(M,{get t(){return t(E)},get x(){return t(b)}})}n(P)}var z=J(P,2),at=v(z);d(at,()=>t(a).oldValue),n(z);var F=J(z,2);{const U=E=>{je(E,{})};var V=v(F);{let E=l(()=>[U]),b=l(()=>t(h).c(282));Z(V,{get t(){return t(E)},get x(){return t(b)}})}n(F)}var st=J(F,2),Y=v(st);d(Y,()=>t(a).value),n(st),n($),r(o,$)};T(g,o=>{t(a).type==="CREATE"?o(i):t(a).type==="REMOVE"?o(u,1):t(a).type==="CHANGE"&&typeof t(a).oldValue=="string"&&typeof t(a).value=="string"?o(x,2):t(a).type==="CHANGE"&&o(y,3)})}n(c),A(()=>{I=ft(O,1,"svelte-dmhzg9",null,I,{"removed-key":t(a).type==="REMOVE","added-key":t(a).type==="CREATE","changed-key":t(a).type==="CHANGE"}),p=ft(c,1,"svelte-dmhzg9",null,p,{removed:t(a).type==="REMOVE","removed-value":t(a).type==="REMOVE","added-value":t(a).type==="CREATE"})}),r(C,B)}),n(w),jt(1,w,()=>Et),r(Q,w),Bt()}var rr=_("<strong><!></strong>"),ar=_('<div class="action svelte-1cdpxjs"><!></div>'),sr=_('<div class="upgrade-check notice svelte-1cdpxjs"><!></div>'),or=_('<div class="action svelte-1cdpxjs"><!></div>'),lr=_('<div class="upgrade-check warning svelte-1cdpxjs"><!></div>'),nr=_('<div class="upgrade-check ok svelte-1cdpxjs"><!></div>'),vr=_('<div class="upgrade-check warning svelte-1cdpxjs"><!></div>'),ir=_('<div class="upgrade-check loading svelte-1cdpxjs"><!></div>'),dr=_('<div class="action svelte-1cdpxjs"><!></div>'),pr=_('<div class="upgrade-check warning svelte-1cdpxjs"><!></div>'),_r=_('<span class="differences-count svelte-1cdpxjs"> </span>'),cr=_('<div class="loading svelte-1cdpxjs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <div class="text"><p> </p> <code> </code></div></div>'),ur=_('<section class="changes-with-remote svelte-1cdpxjs"><h3 class="svelte-1cdpxjs"><!></h3> <!></section>'),fr=_('<main class="svelte-1cdpxjs"><h2> </h2> <!> <!> <!></main>');function Nr(Q,f){Tt(f,!0);const s=l(()=>It("main")),d=l(()=>typeof f.data.source=="string"?f.data.source:f.data.source?.url);let h=l(()=>f.data.version),e=l(()=>f.data.id),w=Wt({hasMore:!1,changes:[],progress:0,get loading(){return this.progress>.02&&this.progress<1}});async function C(){const{changes:m,dirty:k}=await zt.data.swarpc.diffProtocolWithRemote.once({protocolId:t(e)},R=>{w.progress=R});return w.hasMore=m.length>100,w.changes=m.slice(0,100),w.progress=1,await St.Protocol.update(t(e),"dirty",k),w.changes}const a={checking:"",upgrading:"Mise à jour...",uptodate:"",available:"Mise à jour disponible",error:"Erreur lors de la mise à jour"};var B=fr(),O=v(B),I=v(O,!0);n(O);var W=J(O,2);{let m=l(()=>t(s)(272)),k=l(()=>t(d)??""),R=l(()=>ct((q,K)=>{K?q.source=K:delete q.source}));ne(W,{check:!0,get label(){return t(m)},get value(){return t(k)},get onblur(){return t(R)}})}var tt=J(W,2);{const m=R=>{var q=N(),K=H(q);{var rt=c=>{var p=N(),g=H(p);$t(g,()=>pe({version:t(h),source:t(d),id:t(e)}),null,(i,u)=>{var x=l(()=>{var{upToDate:F,newVersion:V}=t(u);return{upToDate:F,newVersion:V}}),y=l(()=>t(x).upToDate),o=l(()=>t(x).newVersion),$=N(),P=H($);{var M=F=>{var V=sr();{const Y=b=>{he(b,{})},U=(b,j=_t)=>{var L=rr(),G=v(L);{let S=l(()=>[t(o)]);Z(G,{get x(){return j()},n:!0,get a(){return t(S)}})}n(L),r(b,L)},E=(b,j=_t)=>{var L=ar(),G=v(L);{let S=l(()=>ct(X=>{X.version=t(o)}));bt(G,{get onclick(){return t(S)},children:(X,vt)=>{Lt();var lt=mt();A(ot=>D(lt,ot),[()=>t(s).x(j())]),r(X,lt)},$$slots:{default:!0}})}n(L),r(b,L)};var st=v(V);{let b=l(()=>[Y,U,E]),j=l(()=>t(s).c(334));Z(st,{get t(){return t(b)},get x(){return t(j)}})}n(V)}r(F,V)},z=F=>{var V=N(),st=H(V);$t(st,C,Y=>{var U=ir();{const b=j=>{ie(j,{get progress(){return w.progress}})};var E=v(U);{let j=l(()=>[b]),L=l(()=>t(s).c(276));Z(E,{get t(){return t(j)},get x(){return t(L)}})}n(U)}r(Y,U)},(Y,U)=>{var E=N(),b=H(E);{var j=G=>{var S=lr();{const vt=ot=>{yt(ot,{})},lt=(ot,dt=_t)=>{var pt=or(),ht=v(pt);{let xt=l(()=>ct(it=>{it.version=t(h)+1,close?.()}));bt(ht,{get onclick(){return t(xt)},children:(it,Mt)=>{{let wt=l(()=>[t(h)+1]);Z(it,{get x(){return dt()},n:!0,get a(){return t(wt)}})}},$$slots:{default:!0}})}n(pt),r(ot,pt)};var X=v(S);{let ot=l(()=>[vt,lt]),dt=l(()=>t(s).c(335));Z(X,{get t(){return t(ot)},get x(){return t(dt)}})}n(S)}r(G,S)},L=G=>{var S=nr();{const vt=lt=>{ae(lt,{})};var X=v(S);{let lt=l(()=>[vt]),ot=l(()=>t(s).c(275));Z(X,{get t(){return t(lt)},get x(){return t(ot)}})}n(S)}r(G,S)};T(b,G=>{t(U).length>0?G(j):G(L,!1)})}r(Y,E)},(Y,U)=>{var E=vr();{const j=L=>{yt(L,{})};var b=v(E);{let L=l(()=>[j]),G=l(()=>t(s).c(277)),S=l(()=>[t(U).message]);Z(b,{get t(){return t(L)},get x(){return t(G)},get a(){return t(S)}})}n(E)}r(Y,E)}),r(F,V)},at=F=>{var V=pr();{const Y=E=>{yt(E,{})},U=E=>{var b=dr(),j=v(b);{const L=(S,X)=>{let vt=()=>X?.().state,lt=()=>X?.().help,ot=()=>X?.().onclick;const dt=l(()=>a[vt()]);var pt=N(),ht=H(pt);{var xt=it=>{{let Mt=l(()=>vt()==="upgrading");bt(it,{get disabled(){return t(Mt)},get help(){return lt()},get onclick(){return ot()},children:(wt,gr)=>{Lt();var Vt=mt();A(()=>D(Vt,t(dt))),r(wt,Vt)},$$slots:{default:!0}})}};T(ht,it=>{t(dt)&&it(xt)})}r(S,pt)};let G=l(()=>ct((S,X)=>{S.version=X}));se(j,Gt(()=>({id:t(e),version:t(h),source:t(d)}),{get onupgrade(){return t(G)},button:L,$$slots:{button:!0}}))}n(b),r(E,b)};var st=v(V);{let E=l(()=>[Y,U]),b=l(()=>t(s).c(278)),j=l(()=>[t(o)]);Z(st,{get t(){return t(E)},get x(){return t(b)},get a(){return t(j)}})}n(V)}r(F,V)};T(P,F=>{t(h)>t(o)?F(M):t(y)?F(z,1):F(at,!1)})}r(i,$)}),r(c,p)};T(K,c=>{t(d)&&t(h)&&c(rt)})}r(R,q)};let k=l(()=>t(s)(273));oe(tt,{get label(){return t(k)},hint:m,children:(R,q)=>{{let K=l(()=>t(s)(274)),rt=l(()=>Ft("string.integer.parse")),c=l(()=>t(h)?.toString()??""),p=l(()=>ct((g,i)=>{i!==void 0?g.version=i:delete g.version}));ve(R,{monospace:!0,get label(){return t(K)},get Type(){return t(rt)},get value(){return t(c)},get onblur(){return t(p)}})}},$$slots:{hint:!0,default:!0}})}var nt=J(tt,2);{var et=m=>{const k=l(()=>{const{changes:g,hasMore:i}=w;return{changes:g,hasMore:i}});var R=ur(),q=v(R);{const g=i=>{var u=N(),x=H(u);{var y=o=>{var $=_r();let P;var M=v($);n($),A(z=>{P=Nt($,"",P,z),D(M,`${t(k).changes.length??""}${t(k).hasMore?"+":""}`)},[()=>({color:te(ee(t(k).changes.length/20,0,1),"fg-neutral","fg-warning","fg-error")})]),r(o,$)};T(x,o=>{w.progress>=1&&o(y)})}r(i,u)};var K=v(q);{let i=l(()=>[g]),u=l(()=>t(s).c(279));Z(K,{get t(){return t(i)},get x(){return t(u)}})}n(q)}var rt=J(q,2);{var c=g=>{var i=cr(),u=v(i);Jt(u,()=>({"--size":"5rem"})),de(u.lastChild,{get drawpercent(){return w.progress}}),n(u);var x=J(u,2),y=v(x),o=v(y,!0);n(y);var $=J(y,2),P=v($,!0);n($),n(x),n(i),A((M,z)=>{D(o,M),D(P,z)},[()=>t(s)(280),()=>re(w.progress)]),jt(1,i,()=>Et,()=>({duration:100})),r(g,i)},p=g=>{er(g,{get changes(){return t(k).changes}})};T(rt,g=>{w.progress<1?g(c):g(p,!1)})}n(R),r(m,R)};T(nt,m=>{t(h)!==void 0&&(w.changes.length>0||w.loading)&&m(et)})}n(B),A(m=>D(I,m),[()=>t(s)(271)]),jt(1,B,()=>Et,()=>({duration:100})),r(Q,B),Bt()}export{Nr as component};
