import"./DsnmJJEf.js";import{p as H,H as m,a as b,b as K,g as s,aq as w,ap as h,ar as c,as as l,J as f}from"./BwdvgNQo.js";import{s as E}from"./DYy3QkOc.js";import{p as n,i as u,r as J}from"./CKH9F0ww.js";import{a as j,t as z,K as D}from"./C6sIn56-.js";import{a as F,C as G}from"./08d27X49.js";import{L as I}from"./DkW1Bdbi.js";var M=m('<div class="loading-spinner svelte-1q9lvcx"><!></div>'),N=m('<div class="tooltip-container svelte-1q9lvcx"><button><!> <!> <!></button></div>');function W(y,a){H(a,!0);let k=n(a,"disabled",3,!1),_=n(a,"danger",3,!1),r=n(a,"loading",3,!1),S=n(a,"tight",3,!1),x=J(a,["$$slots","$$events","$$legacy","children","onclick","disabled","danger","help","keyboard","submits","testid","loading","tight"]),e=w(!1);var d=N(),o=c(d),q=async t=>{if(a.onclick){r()&&!a.onclick.toString().includes("loadingStarted")&&l(e,!0);try{await a.onclick(t,{loadingStarted:()=>{l(e,!0)},loadingEnded:()=>{l(e,!1)}})}finally{r()&&l(e,!1)}}};F(o,t=>({"data-tooltip-content":t,type:a.submits?"submit":"button",disabled:k()||s(e),...x,onclick:q,"data-testid":a.testid||void 0,[G]:{tight:S(),danger:_()}}),[()=>typeof a.help=="string"?a.help:Array.isArray(a.help)?a.help[0]:`${a.help?.text} ${a.help?.keyboard??""}`],void 0,void 0,"svelte-1q9lvcx");var v=c(o);{var L=t=>{var i=M(),C=c(i);I(C,{}),f(i),b(t,i)};u(v,t=>{s(e)&&t(L)})}var g=h(v,2);E(g,()=>a.children,()=>({loading:s(e)&&r()!==!1}));var A=h(g,2);{var B=t=>{D(t,{get shortcut(){return a.keyboard}})};u(A,t=>{a.keyboard&&t(B)})}f(o),f(d),j(d,(t,i)=>z?.(t,i),()=>typeof a.help=="string"&&a.keyboard?{text:a.help,keyboard:a.keyboard}:a.help),b(y,d),K()}export{W as B};
