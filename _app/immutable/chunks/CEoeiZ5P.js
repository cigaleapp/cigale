import{g as a,u as r}from"./BwdvgNQo.js";import{t as e}from"./Don2Ydo1.js";const i=r(()=>e.Settings.state.find(t=>t.id==="user")??e.Settings.state.find(t=>t.id==="defaults"));function g(){return a(i)}function c(){return a(i).theme==="auto"?"light dark":a(i).theme}async function d(t,s){console.debug("setSetting",t,s);const n=await e.Settings.get("user")??await e.Settings.get("defaults");if(!n)throw new Error("Les réglages par défaut n'ont pas été initialisés. Rechargez la page.");return e.Settings.set({...n,id:"user",[t]:s})}async function f(t,{fallback:s}={}){const n=await e.Settings.get("user")??await e.Settings.get("defaults");if(!n){if(s!==void 0)return s;throw new Error("Les réglages par défaut n'ont pas été initialisés. Rechargez la page.")}return n[t]}async function l(t){const s=await e.Settings.get("user")??await e.Settings.get("defaults");if(!s)throw new Error("Les réglages par défaut n'ont pas été initialisés. Rechargez la page.");return e.Settings.set({...s,id:"user",[t]:!s[t]})}function S(){return g().showTechnicalMetadata}export{g as a,c as b,f as g,S as i,d as s,l as t};
