import"./DsnmJJEf.js";import"./69_IOA4Y.js";import{o as Q}from"./CNplBLUs.js";import{z as S,A as U,Z as W,aX as Y,k as j,t as J,aZ as q,a_ as $,g as s,a$ as x,aL as tt,p as et,b0 as C,b1 as st,c as K,aa as it,a as B,b as lt,ay as D,R as y,i as p,r as E,a8 as N,a9 as at}from"./Bn_ZbADV.js";import{e as nt}from"./C0Q0tU0C.js";import{e as ot}from"./WunZNVQx.js";import{b as R,c as F}from"./ByTqR5TD.js";import{b as rt}from"./DqeZ7boJ.js";import{b as G}from"./CoBO7ZM6.js";import{p as T}from"./dHQvgpC_.js";function ft(g,a,i,_,r){S&&U();var t=a.$$slots?.[i],o=!1;t===!0&&(t=a.children,o=!0),t===void 0?r!==null&&r(g):t(g,o?()=>_:_)}function ct(g=!1){const a=W,i=a.l.u;if(!i)return;let _=()=>x(a.s);if(g){let r=0,t={};const o=tt(()=>{let c=!1;const f=a.s;for(const h in f)f[h]!==t[h]&&(t[h]=f[h],c=!0);return c&&r++,r});_=()=>s(o)}i.b.length&&Y(()=>{I(a,_),q(i.b)}),j(()=>{const r=J(()=>i.m.map($));return()=>{for(const t of r)typeof t=="function"&&t()}}),i.a.length&&j(()=>{I(a,_),q(i.a)})}function I(g,a){if(g.l.s)for(const i of g.l.s)s(i);a()}var ht=K("<svelte-virtual-list-row><!></svelte-virtual-list-row>",2),vt=K("<svelte-virtual-list-viewport><svelte-virtual-list-contents></svelte-virtual-list-contents></svelte-virtual-list-viewport>",2);function kt(g,a){et(a,!1);let i=T(a,"items",8),_=T(a,"height",8,"100%"),r=T(a,"itemHeight",8,void 0),t=T(a,"start",12,0),o=T(a,"end",12,0),c=[],f,h=y(),V=y(),z=y(0),X=y(),Z=y(),L=y(0),A=y(0),d;async function O(l,u,n){const{scrollTop:v}=s(h);await N();let w=s(L)-v,e=t();for(;w<u&&e<l.length;){let H=f[e-t()];H||(o(e+1),await N(),H=f[e-t()]);const b=c[e]=n||H.offsetHeight;w+=b,e+=1}o(e);const M=l.length-o();d=(s(L)+w)/o(),p(A,M*d),c.length=l.length}async function P(){const{scrollTop:l}=s(h),u=t();for(let e=0;e<f.length;e+=1)c[t()+e]=r()||f[e].offsetHeight;let n=0,v=0;for(;n<i().length;){const e=c[n]||d;if(v+e>l){t(n),p(L,v);break}v+=e,n+=1}for(;n<i().length&&(v+=c[n]||d,n+=1,!(v>l+s(z))););o(n);const w=i().length-o();for(d=v/o();n<i().length;)c[n++]=d;if(p(A,w*d),t()<u){await N();let e=0,M=0;for(let b=t();b<u;b+=1)f[b-t()]&&(e+=c[b],M+=r()||f[b-t()].offsetHeight);const H=M-e;s(h).scrollTo(0,l+H)}}Q(()=>{f=s(V).getElementsByTagName("svelte-virtual-list-row"),p(Z,!0)}),C(()=>(x(i()),x(t()),x(o())),()=>{p(X,i().slice(t(),o()).map((l,u)=>({index:u+t(),data:l})))}),C(()=>(s(Z),x(i()),s(z),x(r())),()=>{s(Z)&&O(i(),s(z),r())}),st(),ct();var m=vt();R(m,1,"svelte-m5no5e");var k=D(m);R(k,1,"svelte-m5no5e"),ot(k,5,()=>s(X),l=>l.index,(l,u)=>{var n=ht();R(n,1,"svelte-m5no5e");var v=D(n);ft(v,a,"default",{get item(){return s(u),J(()=>s(u).data)}},w=>{var e=at("Missing template");B(w,e)}),E(n),B(l,n)}),E(k),G(k,l=>p(V,l),()=>s(V)),E(m),G(m,l=>p(h,l),()=>s(h)),it(()=>{F(m,`height: ${_()??""};`),F(k,`padding-top: ${s(L)??""}px; padding-bottom: ${s(A)??""}px;`)}),rt(m,"offsetHeight",l=>p(z,l)),nt("scroll",m,P),B(g,m),lt()}export{kt as V};
