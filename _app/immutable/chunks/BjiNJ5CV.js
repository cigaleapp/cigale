import{a9 as S,E as R,b4 as z,b5 as L,w as M,b6 as U,aX as W,z as q,I as w,b7 as x,y as B,b8 as P,b9 as j}from"./BwdvgNQo.js";import{f as G}from"./HTLptRgQ.js";const K=()=>performance.now(),m={tick:r=>requestAnimationFrame(r),now:()=>K(),tasks:new Set};function O(){const r=m.now();m.tasks.forEach(t=>{t.c(r)||(m.tasks.delete(t),t.f())}),m.tasks.size!==0&&m.tick(O)}function X(r){let t;return m.tasks.size===0&&m.tick(O),{promise:new Promise(e=>{m.tasks.add(t={c:r,f:e})}),abort(){m.tasks.delete(t)}}}function k(r,t){x(()=>{r.dispatchEvent(new CustomEvent(t))})}function D(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(e=>e[0].toUpperCase()+e.slice(1)).join("")}function I(r){const t={},e=r.split(";");for(const o of e){const[n,a]=o.split(":");if(!n||a===void 0)break;const d=D(n.trim());t[d]=a.trim()}return t}const H=r=>r;function Z(r,t,e,o){var n=(r&P)!==0,a=(r&j)!==0,d=n&&a,l=(r&U)!==0,y=d?"both":n?"in":"out",s,f=t.inert,$=t.style.overflow,p,v;function h(){return x(()=>s??=e()(t,o?.()??{},{direction:y}))}var c={is_global:l,in(){if(t.inert=f,!n){v?.abort(),v?.reset?.();return}a||p?.abort(),p=T(t,h(),v,1,()=>{k(t,"introend"),p?.abort(),p=s=void 0,t.style.overflow=$})},out(b){if(!a){b?.(),s=void 0;return}t.inert=!0,v=T(t,h(),p,0,()=>{k(t,"outroend"),b?.()})},stop:()=>{p?.abort(),v?.abort()}},_=S;if((_.nodes.t??=[]).push(c),n&&G){var i=l;if(!i){for(var u=_.parent;u&&(u.f&R)!==0;)for(;(u=u.parent)&&(u.f&z)===0;);i=!u||(u.f&L)!==0}i&&M(()=>{B(()=>c.in())})}}function T(r,t,e,o,n){var a=o===1;if(W(t)){var d,l=!1;return q(()=>{if(!l){var _=t({direction:a?"in":"out"});d=T(r,_,e,o,n)}}),{abort:()=>{l=!0,d?.abort()},deactivate:()=>d.deactivate(),reset:()=>d.reset(),t:()=>d.t()}}if(e?.deactivate(),!t?.duration&&!t?.delay)return k(r,a?"introstart":"outrostart"),n(),{abort:w,deactivate:w,reset:w,t:()=>o};const{delay:y=0,css:s,tick:f,easing:$=H}=t;var p=[];if(a&&e===void 0&&(f&&f(0,1),s)){var v=I(s(0,1));p.push(v,v)}var h=()=>1-o,c=r.animate(p,{duration:y,fill:"forwards"});return c.onfinish=()=>{c.cancel(),k(r,a?"introstart":"outrostart");var _=e?.t()??1-o;e?.abort();var i=o-_,u=t.duration*Math.abs(i),b=[];if(u>0){var N=!1;if(s)for(var E=Math.ceil(u/16.666666666666668),F=0;F<=E;F+=1){var A=_+i*$(F/E),C=I(s(A,1-A));b.push(C),N||=C.overflow==="hidden"}N&&(r.style.overflow="hidden"),h=()=>{var g=c.currentTime;return _+i*$(g/u)},f&&X(()=>{if(c.playState!=="running")return!1;var g=h();return f(g,1-g),!0})}c=r.animate(b,{duration:u,fill:"forwards"}),c.onfinish=()=>{h=()=>o,f?.(o,1-o),n()}},{abort:()=>{c&&(c.cancel(),c.effect=null,c.onfinish=w)},deactivate:()=>{n=w},reset:()=>{o===0&&f?.(1,0)},t:()=>h()}}const J=r=>r;function Q(r){const t=r-1;return t*t*t+1}function tt(r,{delay:t=0,duration:e=400,easing:o=J}={}){const n=+getComputedStyle(r).opacity;return{delay:t,duration:e,easing:o,css:a=>`opacity: ${a*n}`}}function rt(r,{delay:t=0,duration:e=400,easing:o=Q,axis:n="y"}={}){const a=getComputedStyle(r),d=+a.opacity,l=n==="y"?"height":"width",y=parseFloat(a[l]),s=n==="y"?["top","bottom"]:["left","right"],f=s.map(i=>`${i[0].toUpperCase()}${i.slice(1)}`),$=parseFloat(a[`padding${f[0]}`]),p=parseFloat(a[`padding${f[1]}`]),v=parseFloat(a[`margin${f[0]}`]),h=parseFloat(a[`margin${f[1]}`]),c=parseFloat(a[`border${f[0]}Width`]),_=parseFloat(a[`border${f[1]}Width`]);return{delay:t,duration:e,easing:o,css:i=>`overflow: hidden;opacity: ${Math.min(i*20,1)*d};${l}: ${i*y}px;padding-${s[0]}: ${i*$}px;padding-${s[1]}: ${i*p}px;margin-${s[0]}: ${i*v}px;margin-${s[1]}: ${i*h}px;border-${s[0]}-width: ${i*c}px;border-${s[1]}-width: ${i*_}px;min-${l}: 0`}}export{tt as f,rt as s,Z as t};
