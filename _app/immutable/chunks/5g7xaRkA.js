import"./DsnmJJEf.js";import{a as re,s as E,d as U,b as ne}from"./08d27X49.js";import{f as ie,a as i,H as q,ar as v,C as F,D as G,g as m,J as l,ap as C,G as P,at as L,F as O,p as Y,b as Z,ao as W,aq as le,u as K,as as ce}from"./BwdvgNQo.js";import{d as $,s as z,b as ee,e as ve}from"./HTLptRgQ.js";import{s as N}from"./DYy3QkOc.js";import{r as de,p as B,i as A}from"./CKH9F0ww.js";import{b as ue}from"./DB45Zn9a.js";import{C as V}from"./D0DqjGxz.js";import{c as S}from"./BDV6zAFm.js";import{p as Q}from"./BzM0mbGE.js";import{t as j}from"./BYqiwRWy.js";import{B as fe}from"./LNwaZJFt.js";import{a as te}from"./DbetVW2v.js";import{e as me}from"./CuPIRSst.js";import{c as ae}from"./CaPT1Hnn.js";import{C as he}from"./DZRaQp3m.js";import{I as _e}from"./Dd2ii0q1.js";import{T as ge}from"./vSpkE5AR.js";import{t as X,s as ye,f as be}from"./BjiNJ5CV.js";import{B as D}from"./DfpvCGjf.js";import{b as we}from"./CEoeiZ5P.js";import{ad as ke}from"./Don2Ydo1.js";var xe=ie('<svg><path fill="currentColor" d="M10.562 4.148a7 7 0 0 1 2.876 0l1.683-1.684l1.414 1.415l-1.05 1.05A7.03 7.03 0 0 1 18.327 8H21v2h-2.07q.07.49.07 1v1h2v2h-2v1q0 .51-.07 1H21v2h-2.674a7 7 0 0 1-12.652 0H3v-2h2.07A7 7 0 0 1 5 15v-1H3v-2h2v-1q0-.51.07-1H3V8h2.674a7.03 7.03 0 0 1 2.84-3.072l-1.05-1.05L8.88 2.465zM12 6a5 5 0 0 0-5 5v4a5 5 0 0 0 10 0v-4a5 5 0 0 0-5-5m-3 8h6v2H9zm0-4h6v2H9z"></path></svg>');function Ce(c,e){const d=de(e,["$$slots","$$events","$$legacy"]);var r=xe();re(r,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...d})),i(c,r)}function se(c){switch(c){case"info":return _e;case"success":return he;case"warning":return ge;case"error":return V;case"debug":return Ce}}function J(c){switch(c){case"info":return"primary";case"success":return"success";case"warning":return"warning";case"error":return"error";case"debug":return"secondary"}}var pe=q('<button class="svelte-1q6vvua"><!></button>'),Be=q('<article class="toast svelte-1q6vvua"><div class="icon svelte-1q6vvua"><!></div> <p class="svelte-1q6vvua"> </p> <section class="actions svelte-1q6vvua"><!> <!></section></article>');function et(c,e){const d=B(e,"ondismiss",3,()=>{});var r=Be();let u;var y=v(r),k=v(y);te(k,()=>se(e.type),null,(t,n)=>{var w=F(),f=G(w);ae(f,()=>m(n),(R,g)=>{g(R,{})}),i(t,w)}),l(y);var b=C(y,2),h=v(b,!0);l(b);var _=C(b,2),o=v(_);{var H=t=>{var n=F(),w=G(n);{var f=g=>{D(g,{get href(){return e.onaction},children:(T,s)=>{L();var a=O();P(()=>z(a,e.action)),i(T,a)},$$slots:{default:!0}})},R=g=>{D(g,{get onclick(){return e.onaction},children:(T,s)=>{L();var a=O();P(()=>z(a,e.action)),i(T,a)},$$slots:{default:!0}})};A(w,g=>{e.onaction instanceof URL?g(f):e.onaction&&g(R,1)})}i(t,n)};A(o,t=>{e.action&&t(H)})}var x=C(o,2);{var p=t=>{D(t,{get onclick(){return d()},children:(n,w)=>{L();var f=O();P(()=>z(f,e.dismiss)),i(n,f)},$$slots:{default:!0}})},I=t=>{var n=pe(),w=v(n);V(w,{}),l(n),ee("click",n,function(...f){d()?.apply(this,f)}),i(t,n)};A(x,t=>{e.dismiss?t(p):t(I,!1)})}l(_),l(r),P(t=>{E(r,"data-type",e.type),u=U(r,"",u,t),z(h,e.message)},[()=>({"--bg":`var(--bg-${J(e.type)??""})`,"--fg":`var(--fg-${J(e.type)??""})`})]),X(1,r,()=>ye,()=>({axis:"y",duration:200})),X(2,r,()=>be,()=>({duration:200})),i(c,r)}$(["click"]);var qe=q('<li class="svelte-18zhjb0"><!> </li>'),He=q('<section class="toasts svelte-18zhjb0"><ul class="svelte-18zhjb0"></ul></section>');function Me(c,e){Y(e,!0);var d=He(),r=v(d);me(r,21,()=>j.items(e.pool),u=>u.id,(u,y)=>{var k=qe();let b;var h=v(k);te(h,()=>se(m(y).type),null,(o,H)=>{var x=F(),p=G(x);ae(p,()=>m(H),(I,t)=>{t(I,{})}),i(o,x)});var _=C(h);l(k),P(o=>{b=U(k,"",b,o),z(_,` ${m(y).message??""}`)},[()=>({color:`var(--fg-${J(m(y).type)??""})`})]),i(u,k)}),l(r),l(d),i(c,d),Z()}function tt(c){return Object.entries(c.state).some(([e,d])=>e.startsWith("modal_")&&d)}var Pe=q('<section class="toasts svelte-5awcn0"><!></section>'),ze=q('<footer class="svelte-5awcn0"><!></footer>'),Ie=q('<dialog class="svelte-5awcn0"><header class="svelte-5awcn0"><h1 class="svelte-5awcn0"> </h1> <!></header> <main class="svelte-5awcn0"><!></main> <!> <!></dialog>');function at(c,e){Y(e,!0);const d=K(()=>ne("main"));let r=B(e,"open",15,void 0),u=B(e,"close",15,void 0),y=B(e,"onclose",3,void 0),k=B(e,"onopen",3,void 0),b=B(e,"footer",3,void 0),h=B(e,"toasts",3,void 0);W(()=>{console.debug(`Binding functions to ${e.key} `),r(()=>{k()?.(),h()&&(j.setCurrentPool(h()),j.clear()),S("",{[e.key]:!0})}),u(()=>{y()?.(),h()&&(j.setCurrentPool("default"),j.clear()),S("",{[e.key]:!1})})});let _=le(void 0);W(()=>{m(_)&&(Q.state[e.key]?m(_).showModal():m(_).close())});var o=Ie();let H;var x=v(o),p=v(x),I=v(p,!0);l(p);var t=C(p,2);{let s=K(()=>m(d)(92));fe(t,{get help(){return m(s)},onclick:()=>{u()?.()},children:(a,M)=>{V(a,{})},$$slots:{default:!0}})}l(x);var n=C(x,2),w=v(n);N(w,()=>e.children,()=>({close:u()})),l(n);var f=C(n,2);{var R=s=>{var a=Pe(),M=v(a);Me(M,{get pool(){return h()}}),l(a),i(s,a)};A(f,s=>{h()&&s(R)})}var g=C(f,2);{var T=s=>{var a=ze(),M=v(a);N(M,b,()=>({close:u()})),l(a),i(s,a)};A(g,s=>{b()&&s(T)})}l(o),ue(o,s=>ce(_,s),()=>m(_)),P(s=>{E(o,"data-key",e.key),E(o,"aria-hidden",!Q.state[e.key]),H=U(o,"",H,s),z(I,e.title)},[()=>({"color-scheme":we()})]),ve("close",o,()=>{S("",{[e.key]:!1})}),ee("mousedown",o,({target:s,currentTarget:a,offsetX:M,offsetY:oe})=>{ke({offsetX:M,offsetY:oe},a.getBoundingClientRect(),20)||s===a&&u()?.()}),i(c,o),Z()}$(["mousedown"]);export{Ce as B,at as M,et as T,tt as h,se as t};
