import{ac as B,c as w,h as n,d as x,ad as I,N as A,B as D,O as S,P as c,z as H,T as v,W as T,X as E,ae as L,af as O,ag as P,ah as R,ai as j,aj as q}from"./BwdvgNQo.js";import{B as z}from"./BAzx51sg.js";const b=0,_=1;function U(h,g,m,r,l){n&&x();var y=B(),t=q,i=y?T(t):E(t,!1,!1),f=y?T(t):E(t,!1,!1),a=new z(h);w(()=>{var u=g(),d=!1;let N=n&&I(u)===(h.data===A);if(N&&(D(S()),c(!1)),I(u)){var k=L(),p=!1;const s=e=>{if(!d){p=!0,k(!1),O.ensure(),n&&c(!1);try{e()}finally{P(),R||j()}}};u.then(e=>{s(()=>{v(i,e),a.ensure(_,r&&(o=>r(o,i)))})},e=>{s(()=>{if(v(f,e),a.ensure(_,l&&(o=>l(o,f))),!l)throw f.v})}),n?a.ensure(b,m):H(()=>{p||s(()=>{a.ensure(b,m)})})}else v(i,u),a.ensure(_,r&&(s=>r(s,i)));return N&&c(!0),()=>{d=!0}})}export{U as a};
