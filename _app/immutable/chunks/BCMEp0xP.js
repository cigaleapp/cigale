import"./DsnmJJEf.js";import"./69_IOA4Y.js";import{o as S}from"./BXq8bD8b.js";import{h as U,d as W,ax as Y,b3 as Z,ao as Q,y as K,ba as X,bb as $,g as s,bc as x,aQ as tt,p as et,bd as j,be as st,H as O,G as it,a as G,b as lt,ar as q,as as d,X as y,J as I,aI as J,F as at}from"./BwdvgNQo.js";import{e as nt}from"./HTLptRgQ.js";import{e as ot}from"./CuPIRSst.js";import{c as L,d as A}from"./08d27X49.js";import{a as rt}from"./lhkQGyGN.js";import{b as C}from"./DB45Zn9a.js";import{p as T}from"./CKH9F0ww.js";function ft(g,a,i,m,r){U&&W();var t=a.$$slots?.[i],o=!1;t===!0&&(t=a.children,o=!0),t===void 0?r!==null&&r(g):t(g,o?()=>m:m)}function ct(g=!1){const a=Y,i=a.l.u;if(!i)return;let m=()=>x(a.s);if(g){let r=0,t={};const o=tt(()=>{let c=!1;const f=a.s;for(const h in f)f[h]!==t[h]&&(t[h]=f[h],c=!0);return c&&r++,r});m=()=>s(o)}i.b.length&&Z(()=>{D(a,m),X(i.b)}),Q(()=>{const r=K(()=>i.m.map($));return()=>{for(const t of r)typeof t=="function"&&t()}}),i.a.length&&Q(()=>{D(a,m),X(i.a)})}function D(g,a){if(g.l.s)for(const i of g.l.s)s(i);a()}var ht=O("<svelte-virtual-list-row><!></svelte-virtual-list-row>",2),vt=O("<svelte-virtual-list-viewport><svelte-virtual-list-contents></svelte-virtual-list-contents></svelte-virtual-list-viewport>",2);function Ht(g,a){et(a,!1);let i=T(a,"items",8),m=T(a,"height",8,"100%"),r=T(a,"itemHeight",8,void 0),t=T(a,"start",12,0),o=T(a,"end",12,0),c=[],f,h=y(),B=y(),M=y(0),N=y(),E=y(),V=y(0),F=y(0),p;async function P(l,u,n){const{scrollTop:v}=s(h);await J();let b=s(V)-v,e=t();for(;b<u&&e<l.length;){let k=f[e-t()];k||(o(e+1),await J(),k=f[e-t()]);const w=c[e]=n||k.offsetHeight;b+=w,e+=1}o(e);const z=l.length-o();p=(s(V)+b)/o(),d(F,z*p),c.length=l.length}async function R(){const{scrollTop:l}=s(h),u=t();for(let e=0;e<f.length;e+=1)c[t()+e]=r()||f[e].offsetHeight;let n=0,v=0;for(;n<i().length;){const e=c[n]||p;if(v+e>l){t(n),d(V,v);break}v+=e,n+=1}for(;n<i().length&&(v+=c[n]||p,n+=1,!(v>l+s(M))););o(n);const b=i().length-o();for(p=v/o();n<i().length;)c[n++]=p;if(d(F,b*p),t()<u){await J();let e=0,z=0;for(let w=t();w<u;w+=1)f[w-t()]&&(e+=c[w],z+=r()||f[w-t()].offsetHeight);const k=z-e;s(h).scrollTo(0,l+k)}}S(()=>{f=s(B).getElementsByTagName("svelte-virtual-list-row"),d(E,!0)}),j(()=>(x(i()),x(t()),x(o())),()=>{d(N,i().slice(t(),o()).map((l,u)=>({index:u+t(),data:l})))}),j(()=>(s(E),x(i()),s(M),x(r())),()=>{s(E)&&P(i(),s(M),r())}),st(),ct();var _=vt();L(_,1,"svelte-m5no5e");var H=q(_);L(H,1,"svelte-m5no5e"),ot(H,5,()=>s(N),l=>l.index,(l,u)=>{var n=ht();L(n,1,"svelte-m5no5e");var v=q(n);ft(v,a,"default",{get item(){return s(u),K(()=>s(u).data)}},b=>{var e=at("Missing template");G(b,e)}),I(n),G(l,n)}),I(H),C(H,l=>d(B,l),()=>s(B)),I(_),C(_,l=>d(h,l),()=>s(h)),it(()=>{A(_,`height: ${m()??""};`),A(H,`padding-top: ${s(V)??""}px; padding-bottom: ${s(F)??""}px;`)}),rt(_,"offsetHeight",l=>d(M,l)),nt("scroll",_,R),G(g,_),lt()}export{Ht as V};
