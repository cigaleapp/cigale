import{t as s,n as i,e as m,A as f,d as g}from"./Don2Ydo1.js";import{i as w}from"./BDV6zAFm.js";import{p as a}from"./BzM0mbGE.js";import{t as n}from"./BYqiwRWy.js";import{g as e}from"./08d27X49.js";function A(o){return e("main"),async d=>{if(!a.params.metadata||!a.params.id)return;const t=await s.Metadata.raw.get(i(a.params.id,a.params.metadata));if(!t)return;const p=structuredClone(t),u=e("main");try{await o(t,d)}catch(r){n.error(u(362,[r instanceof f?r.summary:m(r)]));return}JSON.stringify(p)!==JSON.stringify(t)&&(await s.Metadata.set(t).catch(r=>{const c=e("main");n.error(c(224,[m(r)]))}),await w(g("Metadata",i(a.params.id,a.params.metadata))))}}export{A as u};
