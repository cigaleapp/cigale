import"./DsnmJJEf.js";import{A as re,a as $,B as oe,J as H,G as F,F as j,i as b,g as l,D as _,aB as k,aA as B,K as L,t as ne,aV as ln,aC as z,aM as nt,aD as E,u as Sr,b as Yt,a1 as _r,_ as Fo,Z as Wn,$ as Io,I as ee,Y as ko,bA as Ar,aF as ue,aE as ge,h as Qe}from"./DLg_PPZ_.js";import{s as ie,c as Er,o as ae,m as Do,u as Ro,d as wn,e as Lo,k as No}from"./9TbOa8jV.js";import{s as te}from"./USdlu_3B.js";import{e as ft}from"./C4hQLFL9.js";import{e as rn,a as ve,s as ce,b as Nt,c as Pr,r as Bo}from"./BNnFn6yw.js";import{p as C,i as q,s as He,r as fe}from"./D67Hg_eN.js";import{B as Te,a as Wo,r as Hn}from"./BPUwB5iN.js";import{p as rt}from"./BGdIILBs.js";import{c as Bt,K as Ho,a as Or,t as Cr}from"./Cmdet9fQ.js";import{h as Kn,M as Zt,k as Ko,a as Uo,d as zo,A as Vo,t as jo,T as Go}from"./CaI1kqC-.js";import{q as yn,i as Wt,S as bn,l as qo,u as Q,g as we,s as qe}from"./yjQBtq-m.js";import{e as Un,c as Mr,n as cn,x as Xo,p as Yo}from"./Csf0LG85.js";import{g as Zo,c as At,u as Jo,v as Qo,j as zn,a1 as Vn,a2 as Tt,a0 as $o,a3 as Ne,a as ei,t as ot,p as ti,Y as ni}from"./BCT7fajR.js";import{o as yt,f as un}from"./BbY4Fv7Y.js";import{g as Rt,e as ri,h as oi}from"./hwqyxWC0.js";import{t as xe}from"./BVoxKip6.js";import{w as Tr}from"./B6p9bkuE.js";import{e as ii,b as jn}from"./eMcr3I6C.js";import{B as Lt,C as si}from"./DceiQKom.js";import{c as Be}from"./Dm35MxJ2.js";import{o as Fr}from"./D6ilWQdm.js";import{L as ai}from"./Bx3yqWKm.js";import{g as ut,h as et}from"./pFYPpK6n.js";import{P as xn}from"./BidjZCUT.js";import{S as Gn,C as Ft}from"./BVbUXEB0.js";import{D as Ir}from"./DBsR0Uxn.js";import{a as tt}from"./C_q2VfFz.js";import{R as li,I as ci,b as ui}from"./JIaph16c.js";import{L as kr}from"./jGhSvLm_.js";import{b as di}from"./BEYaBP-8.js";import{B as qn}from"./67TCgbdO.js";import{m as Xn}from"./C8qYVKmu.js";function fi(t){return Zo(t,Date.now())}function hi(t,e,n){const[r,o]=yn(n?.in,t,e),s=r.getFullYear()-o.getFullYear(),i=r.getMonth()-o.getMonth();return s*12+i}function gi(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function vi(t,e){return+At(t)-+At(e)}function pi(t,e){const n=At(t,e?.in);return n.setHours(23,59,59,999),n}function mi(t,e){const n=At(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function wi(t,e){const n=At(t,e?.in);return+pi(n,e)==+mi(n,e)}function yi(t,e,n){const[r,o,s]=yn(n?.in,t,t,e),i=Rt(o,s),a=Math.abs(hi(o,s));if(a<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-i*a);let c=Rt(o,s)===-i;wi(r)&&a===1&&Rt(r,s)===1&&(c=!1);const f=i*(a-+c);return f===0?0:f}function bi(t,e,n){const r=vi(t,e)/1e3;return gi(n?.roundingMethod)(r)}function xi(t,e,n){const r=Jo(),o=n?.locale??r.locale??Qo,s=2520,i=Rt(t,e);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:i}),[c,f]=yn(n?.in,...i>0?[e,t]:[t,e]),d=bi(f,c),u=(zn(f)-zn(c))/1e3,h=Math.round((d-u)/60);let g;if(h<2)return n?.includeSeconds?d<5?o.formatDistance("lessThanXSeconds",5,a):d<10?o.formatDistance("lessThanXSeconds",10,a):d<20?o.formatDistance("lessThanXSeconds",20,a):d<40?o.formatDistance("halfAMinute",0,a):d<60?o.formatDistance("lessThanXMinutes",1,a):o.formatDistance("xMinutes",1,a):h===0?o.formatDistance("lessThanXMinutes",1,a):o.formatDistance("xMinutes",h,a);if(h<45)return o.formatDistance("xMinutes",h,a);if(h<90)return o.formatDistance("aboutXHours",1,a);if(h<Vn){const m=Math.round(h/60);return o.formatDistance("aboutXHours",m,a)}else{if(h<s)return o.formatDistance("xDays",1,a);if(h<Tt){const m=Math.round(h/Vn);return o.formatDistance("xDays",m,a)}else if(h<Tt*2)return g=Math.round(h/Tt),o.formatDistance("aboutXMonths",g,a)}if(g=yi(f,c),g<12){const m=Math.round(h/Tt);return o.formatDistance("xMonths",m,a)}else{const m=g%12,p=Math.trunc(g/12);return m<3?o.formatDistance("aboutXYears",p,a):m<9?o.formatDistance("overXYears",p,a):o.formatDistance("almostXYears",p+1,a)}}function Si(t,e){return xi(t,fi(t),e)}var _i=["Shift","Meta","Alt","Control"],Dr=typeof navigator=="object"?navigator.platform:"",Rr=/Mac|iPod|iPhone|iPad/.test(Dr),Ai=Rr?"Meta":"Control",Ei=Dr==="Win32"?["Control","Alt"]:Rr?["Alt"]:[];function dn(t,e){return typeof t.getModifierState=="function"&&(t.getModifierState(e)||Ei.includes(e)&&t.getModifierState("AltGraph"))}function Pi(t){return t.trim().split(" ").map(function(e){var n=e.split(/\b\+/),r=n.pop(),o=r.match(/^\((.+)\)$/);return o&&(r=new RegExp("^"+o[1]+"$")),[n=n.map(function(s){return s==="$mod"?Ai:s}),r]})}function Oi(t,e){var n=e[0],r=e[1];return!((r instanceof RegExp?!r.test(t.key)&&!r.test(t.code):r.toUpperCase()!==t.key.toUpperCase()&&r!==t.code)||n.find(function(o){return!dn(t,o)})||_i.find(function(o){return!n.includes(o)&&r!==o&&dn(t,o)}))}function Ci(t,e){var n;e===void 0&&(e={});var r=(n=e.timeout)!=null?n:1e3,o=Object.keys(t).map(function(a){return[Pi(a),t[a]]}),s=new Map,i=null;return function(a){a instanceof KeyboardEvent&&(o.forEach(function(c){var f=c[0],d=c[1],u=s.get(f)||f;Oi(a,u[0])?u.length>1?s.set(f,u.slice(1)):(s.delete(f),d(a)):dn(a,a.key)||s.delete(f)}),i&&clearTimeout(i),i=setTimeout(s.clear.bind(s),r))}}function Mi(t,e,n){var r={},o=r.event,s=o===void 0?"keydown":o,i=r.capture,a=Ci(e,{timeout:r.timeout});return t.addEventListener(s,a,i),function(){t.removeEventListener(s,a,i)}}var Ti=j('<h2 class="svelte-6wpiuz"> </h2>'),Fi=j('<dt class="svelte-6wpiuz"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></dt> <dd class="svelte-6wpiuz"> </dd>',1),Ii=j('<!> <dl class="svelte-6wpiuz"></dl>',1),ki=j('<dl class="svelte-6wpiuz"><div class="empty svelte-6wpiuz"><div class="sad svelte-6wpiuz">¯\\_(ツ)_/¯</div> <p>Aucun raccouci clavier pour cette page</p></div></dl>');function Di(t,e){re(e,!0);let n=C(e,"openHelp",15),r=C(e,"preventDefault",3,!1);const o=a=>(a instanceof KeyboardEvent||a instanceof MouseEvent)&&(a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement);$(()=>Mi(window,Object.fromEntries(Object.entries(e.binds).flatMap(([a,c])=>{if(a.startsWith("Digit")&&!a.includes(" ")){const f=a.replace("Digit","");return[[a,c],[f,c],[`Shift+${f}`,c]]}return[[a,c]]}).map(([a,c])=>[a,async f=>{if(!c?.allowInModals&&Kn(rt)){console.warn(`a modal is open, ignoring keybinding ${a}`,rt.state);return}if(o(f)&&!a.startsWith("$mod+")){console.warn(`in input, ignoring keybinding ${a}`,f.target);return}c.when&&!c.when(f)||c.debug&&!Wt()||(r()&&f.preventDefault(),await c.do(f))}]))));const s=["Recadrage","Observations","Général","Navigation","Debug mode"],i=_(()=>Un(Un(e.binds).reduce((a,[c,f])=>{if(f.hidden||f.debug&&!Wt())return a;const d=f.group??"Général";return a[d]||(a[d]=[]),a[d].push([c,f]),a},{})).toSorted(([a],[c])=>s.indexOf(a)-s.indexOf(c)));$(()=>{const a=c=>{c.key==="?"&&!o(c)&&!Kn(rt)&&n()?.()};return window.addEventListener("keyup",a),()=>window.removeEventListener("keyup",a)}),Zt(t,{key:"modal_keyboard_shortcuts_help",title:"Raccourcis clavier",get open(){return n()},set open(a){n(a)},children:(a,c)=>{var f=H(),d=F(f);ft(d,17,()=>l(i),([u,h])=>u,(u,h,g,m)=>{var p=_(()=>ln(l(h),2));let x=()=>l(p)[0],w=()=>l(p)[1];var v=Ii(),y=F(v);{var S=O=>{var I=Ti(),D=B(I,!0);L(I),ne(()=>ie(D,x())),b(O,I)};q(y,O=>{l(i).length>=2&&O(S)})}var A=k(y,2);ft(A,21,w,([O,{help:I}])=>O,(O,I)=>{var D=_(()=>ln(l(I),2));let U=()=>l(D)[0],W=()=>l(D)[1].help;var X=Fi(),V=F(X),R=B(V);Bt(R,()=>({"--size":"1.2em"})),Ho(R.lastChild,{get shortcut(){return U()},get help(){return W()}}),L(R),L(V);var M=k(V,2),N=B(M,!0);L(M),ne(()=>ie(N,W())),b(O,X)}),L(A),b(u,v)},u=>{var h=ki();b(u,h)}),b(a,f)},$$slots:{default:!0}}),oe()}function Ri(t){return typeof t=="function"}function Li(t){return t!==null&&typeof t=="object"}const Ni=["string","number","bigint","boolean"];function fn(t){return t==null||Ni.includes(typeof t)?!0:Array.isArray(t)?t.every(e=>fn(e)):typeof t=="object"?Object.getPrototypeOf(t)===Object.prototype:!1}const Et=Symbol("box"),Sn=Symbol("is-writable");function Bi(t){return Li(t)&&Et in t}function Wi(t){return P.isBox(t)&&Sn in t}function P(t){let e=z(nt(t));return{[Et]:!0,[Sn]:!0,get current(){return l(e)},set current(n){E(e,n,!0)}}}function Hi(t,e){const n=_(t);return e?{[Et]:!0,[Sn]:!0,get current(){return l(n)},set current(r){e(r)}}:{[Et]:!0,get current(){return t()}}}function Ki(t){return P.isBox(t)?t:Ri(t)?P.with(t):P(t)}function Ui(t){return Object.entries(t).reduce((e,[n,r])=>P.isBox(r)?(P.isWritableBox(r)?Object.defineProperty(e,n,{get(){return r.current},set(o){r.current=o}}):Object.defineProperty(e,n,{get(){return r.current}}),e):Object.assign(e,{[n]:r}),{})}function zi(t){return P.isWritableBox(t)?{[Et]:!0,get current(){return t.current}}:t}P.from=Ki;P.with=Hi;P.flatten=Ui;P.readonly=zi;P.isBox=Bi;P.isWritableBox=Wi;function Lr(...t){return function(e){for(const n of t)if(n){if(e.defaultPrevented)return;typeof n=="function"?n.call(this,e):n.current?.call(this,e)}}}var ct={},on,Yn;function Vi(){if(Yn)return on;Yn=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,i=/^[;\s]*/,a=/^\s+|\s+$/g,c=`
`,f="/",d="*",u="",h="comment",g="declaration";on=function(p,x){if(typeof p!="string")throw new TypeError("First argument must be a string");if(!p)return[];x=x||{};var w=1,v=1;function y(R){var M=R.match(e);M&&(w+=M.length);var N=R.lastIndexOf(c);v=~N?R.length-N:v+R.length}function S(){var R={line:w,column:v};return function(M){return M.position=new A(R),D(),M}}function A(R){this.start=R,this.end={line:w,column:v},this.source=x.source}A.prototype.content=p;function O(R){var M=new Error(x.source+":"+w+":"+v+": "+R);if(M.reason=R,M.filename=x.source,M.line=w,M.column=v,M.source=p,!x.silent)throw M}function I(R){var M=R.exec(p);if(M){var N=M[0];return y(N),p=p.slice(N.length),M}}function D(){I(n)}function U(R){var M;for(R=R||[];M=W();)M!==!1&&R.push(M);return R}function W(){var R=S();if(!(f!=p.charAt(0)||d!=p.charAt(1))){for(var M=2;u!=p.charAt(M)&&(d!=p.charAt(M)||f!=p.charAt(M+1));)++M;if(M+=2,u===p.charAt(M-1))return O("End of comment missing");var N=p.slice(2,M-2);return v+=2,y(N),p=p.slice(M),v+=2,R({type:h,comment:N})}}function X(){var R=S(),M=I(r);if(M){if(W(),!I(o))return O("property missing ':'");var N=I(s),Z=R({type:g,property:m(M[0].replace(t,u)),value:N?m(N[0].replace(t,u)):u});return I(i),Z}}function V(){var R=[];U(R);for(var M;M=X();)M!==!1&&(R.push(M),U(R));return R}return D(),V()};function m(p){return p?p.replace(a,u):u}return on}var Zn;function ji(){if(Zn)return ct;Zn=1;var t=ct&&ct.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ct,"__esModule",{value:!0}),ct.default=n;var e=t(Vi());function n(r,o){var s=null;if(!r||typeof r!="string")return s;var i=(0,e.default)(r),a=typeof o=="function";return i.forEach(function(c){if(c.type==="declaration"){var f=c.property,d=c.value;a?o(f,d,c):d&&(s=s||{},s[f]=d)}}),s}return ct}var Gi=ji();const Jn=$o(Gi),qi=Jn.default||Jn,Xi=/\d/,Yi=["-","_","/","."];function Zi(t=""){if(!Xi.test(t))return t!==t.toLowerCase()}function Ji(t){const e=[];let n="",r,o;for(const s of t){const i=Yi.includes(s);if(i===!0){e.push(n),n="",r=void 0;continue}const a=Zi(s);if(o===!1){if(r===!1&&a===!0){e.push(n),n=s,r=a;continue}if(r===!0&&a===!1&&n.length>1){const c=n.at(-1);e.push(n.slice(0,Math.max(0,n.length-1))),n=c+s,r=a;continue}}n+=s,r=a,o=i}return e.push(n),e}function Nr(t){return t?Ji(t).map(e=>$i(e)).join(""):""}function Qi(t){return es(Nr(t||""))}function $i(t){return t?t[0].toUpperCase()+t.slice(1):""}function es(t){return t?t[0].toLowerCase()+t.slice(1):""}function St(t){if(!t)return{};const e={};function n(r,o){if(r.startsWith("-moz-")||r.startsWith("-webkit-")||r.startsWith("-ms-")||r.startsWith("-o-")){e[Nr(r)]=o;return}if(r.startsWith("--")){e[r]=o;return}e[Qi(r)]=o}return qi(t,n),e}function We(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function ts(t,e){const n=RegExp(t,"g");return r=>{if(typeof r!="string")throw new TypeError(`expected an argument of type string, but got ${typeof r}`);return r.match(n)?r.replace(n,e):r}}const ns=ts(/[A-Z]/,t=>`-${t.toLowerCase()}`);function rs(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${ns(e)}: ${t[e]};`).join(`
`)}function _n(t={}){return rs(t).replace(`
`," ")}const os={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"},Cd=_n(os);function is(t){return t.length>2&&t.startsWith("on")&&t[2]===t[2]?.toLowerCase()}function Ie(...t){const e={...t[0]};for(let n=1;n<t.length;n++){const r=t[n];for(const o in r){const s=e[o],i=r[o],a=typeof s=="function",c=typeof i=="function";if(a&&is(o)){const f=s,d=i;e[o]=Lr(f,d)}else if(a&&c)e[o]=We(s,i);else if(o==="class"){const f=fn(s),d=fn(i);f&&d?e[o]=rn(s,i):f?e[o]=rn(s):d&&(e[o]=rn(i))}else if(o==="style"){const f=typeof s=="object",d=typeof i=="object",u=typeof s=="string",h=typeof i=="string";if(f&&d)e[o]={...s,...i};else if(f&&h){const g=St(i);e[o]={...s,...g}}else if(u&&d){const g=St(s);e[o]={...g,...i}}else if(u&&h){const g=St(s),m=St(i);e[o]={...g,...m}}else f?e[o]=s:d?e[o]=i:u?e[o]=s:h&&(e[o]=i)}else e[o]=i!==void 0?i:s}}return typeof e.style=="object"&&(e.style=_n(e.style).replaceAll(`
`," ")),e.hidden!==!0&&(e.hidden=void 0,delete e.hidden),e.disabled!==!0&&(e.disabled=void 0,delete e.disabled),e}const ss=typeof window<"u"?window:void 0;function as(t){let e=t.activeElement;for(;e?.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}let ls=class{#e;#t;constructor(e={}){const{window:n=ss,document:r=n?.document}=e;n!==void 0&&(this.#e=r,this.#t=Er(o=>{const s=ae(n,"focusin",o),i=ae(n,"focusout",o);return()=>{s(),i()}}))}get current(){return this.#t?.(),this.#e?as(this.#e):null}};new ls;function cs(t,e){switch(t){case"post":$(e);break;case"pre":Sr(e);break}}function Br(t,e,n,r={}){const{lazy:o=!1}=r;let s=!o,i=Array.isArray(t)?[]:void 0;cs(e,()=>{const a=Array.isArray(t)?t.map(f=>f()):t();if(!s){s=!0,i=a;return}const c=Yt(()=>n(a,i));return i=a,c})}function Wr(t,e,n){Br(t,"post",e,n)}function us(t,e,n){Br(t,"pre",e,n)}Wr.pre=us;function Hr(t){$(()=>()=>{t()})}function Pe({id:t,ref:e,deps:n=()=>!0,onRefChange:r,getRootNode:o}){Wr([()=>t.current,n],([s])=>{const a=(o?.()??document)?.getElementById(s);a?e.current=a:e.current=null,r?.(e.current)}),Hr(()=>{e.current=null,r?.(null)})}function An(t,e){return setTimeout(e,t)}function Ee(t){_r().then(t)}function ds(t){$(()=>Yt(()=>t()))}const Kr=typeof window<"u"?window:void 0;function fs(t){let e=t.activeElement;for(;e?.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}class hs{#e;#t;constructor(e={}){const{window:n=Kr,document:r=n?.document}=e;n!==void 0&&(this.#e=r,this.#t=Er(o=>{const s=ae(n,"focusin",o),i=ae(n,"focusout",o);return()=>{s(),i()}}))}get current(){return this.#t?.(),this.#e?fs(this.#e):null}}new hs;function gs(t){return typeof t=="function"}function vs(t,e){switch(t){case"post":$(e);break;case"pre":Sr(e);break}}function Ur(t,e,n,r={}){const{lazy:o=!1}=r;let s=!o,i=Array.isArray(t)?[]:void 0;vs(e,()=>{const a=Array.isArray(t)?t.map(f=>f()):t();if(!s){s=!0,i=a;return}const c=Yt(()=>n(a,i));return i=a,c})}function pe(t,e,n){Ur(t,"post",e,n)}function ps(t,e,n){Ur(t,"pre",e,n)}pe.pre=ps;function ms(t){return gs(t)?t():t}class ws{#e=z(nt({width:0,height:0}));constructor(e,n={box:"border-box"}){const r=n.window??Kr;E(this.#e,{width:n.initialSize?.width??0,height:n.initialSize?.height??0},!0),$(()=>{if(!r)return;const o=ms(e);if(!o)return;const s=new r.ResizeObserver(i=>{for(const a of i){const c=n.box==="content-box"?a.contentBoxSize:a.borderBoxSize,f=Array.isArray(c)?c:[c];l(this.#e).width=f.reduce((d,u)=>Math.max(d,u.inlineSize),0),l(this.#e).height=f.reduce((d,u)=>Math.max(d,u.blockSize),0)}});return s.observe(o),()=>{s.disconnect()}})}get current(){return l(this.#e)}get width(){return l(this.#e).width}get height(){return l(this.#e).height}}class ys{#e=z(void 0);#t;constructor(e){$(()=>{E(this.#e,this.#t,!0),this.#t=e()})}get current(){return l(this.#e)}}class Ve{#e;#t;constructor(e){this.#e=e,this.#t=Symbol(e)}get key(){return this.#t}exists(){return Fo(this.#t)}get(){const e=Wn(this.#t);if(e===void 0)throw new Error(`Context "${this.#e}" not found`);return e}getOr(e){const n=Wn(this.#t);return n===void 0?e:n}set(e){return Io(this.#t,e)}}function zr(t){return t?"open":"closed"}function bs(t){return t?"true":"false"}function xs(t){return t?"true":"false"}function Vr(t){return t?"":void 0}function Td(t){return t?!0:void 0}function Fd(t){return t?!0:void 0}const Id="Alt",Pt="ArrowDown",En="ArrowLeft",Pn="ArrowRight",Ht="ArrowUp",kd="Backspace",Dd="CapsLock",Rd="Control",jr="End",Gr="Enter",Ss="Escape",Ld="F1",Nd="F10",Bd="F11",Wd="F12",Hd="F2",Kd="F3",Ud="F4",zd="F5",Vd="F6",jd="F7",Gd="F8",qd="F9",qr="Home",Xd="Meta",_s="PageDown",As="PageUp",Yd="Shift",On=" ",Xr="Tab";function Es(t){return window.getComputedStyle(t).getPropertyValue("direction")}function Ps(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?En:Pn,vertical:Pt}[e]}function Os(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?Pn:En,vertical:Ht}[e]}function Cs(t="ltr",e="horizontal"){return["ltr","rtl"].includes(t)||(t="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:Ps(t,e),prevKey:Os(t,e)}}const Jt=typeof document<"u",Qn=Ms();function Ms(){return Jt&&window?.navigator?.userAgent&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||window?.navigator?.maxTouchPoints>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function Ke(t){return t instanceof HTMLElement}function Kt(t){return t instanceof Element}function Ts(t){return t instanceof Element||t instanceof SVGElement}function Fs(t){return t!==null}function Is(t){return t instanceof HTMLInputElement&&"select"in t}function ks(t,e){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ds(t){const e=P(null);function n(){if(!Jt)return[];const i=document.getElementById(t.rootNodeId.current);return i?t.candidateSelector?Array.from(i.querySelectorAll(t.candidateSelector)):t.candidateAttr?Array.from(i.querySelectorAll(`[${t.candidateAttr}]:not([data-disabled])`)):[]:[]}function r(){const i=n();i.length&&i[0]?.focus()}function o(i,a,c=!1){const f=document.getElementById(t.rootNodeId.current);if(!f||!i)return;const d=n();if(!d.length)return;const u=d.indexOf(i),h=Es(f),{nextKey:g,prevKey:m}=Cs(h,t.orientation.current),p=t.loop.current,x={[g]:u+1,[m]:u-1,[qr]:0,[jr]:d.length-1};if(c){const y=g===Pt?Pn:Pt,S=m===Ht?En:Ht;x[y]=u+1,x[S]=u-1}let w=x[a.key];if(w===void 0)return;a.preventDefault(),w<0&&p?w=d.length-1:w===d.length&&p&&(w=0);const v=d[w];if(v)return v.focus(),e.current=v.id,t.onCandidateFocus?.(v),v}function s(i){const a=n(),c=e.current!==null;return i&&!c&&a[0]===i?(e.current=i.id,0):i?.id===e.current?0:-1}return{setCurrentTabStopId(i){e.current=i},getTabIndex:s,handleKeydown:o,focusFirstCandidate:r,currentTabStopId:e}}globalThis.bitsIdCounter??={current:0};function je(t="bits"){return globalThis.bitsIdCounter.current++,`${t}-${globalThis.bitsIdCounter.current}`}function de(){}function Rs(t,e){const n=P(t);function r(s){return e[n.current][s]??n.current}return{state:n,dispatch:s=>{n.current=r(s)}}}function Ls(t,e){let n=z(nt({})),r=z("none");const o=t.current?"mounted":"unmounted";let s=z(null);const i=new ys(()=>t.current);pe([()=>e.current,()=>t.current],([h,g])=>{!h||!g||Ee(()=>{E(s,document.getElementById(h),!0)})});const{state:a,dispatch:c}=Rs(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});pe(()=>t.current,h=>{if(l(s)||E(s,document.getElementById(e.current),!0),!l(s)||!(h!==i.current))return;const m=l(r),p=It(l(s));h?c("MOUNT"):p==="none"||l(n).display==="none"?c("UNMOUNT"):c(i&&m!==p?"ANIMATION_OUT":"UNMOUNT")});function f(h){if(l(s)||E(s,document.getElementById(e.current),!0),!l(s))return;const g=It(l(s)),m=g.includes(h.animationName)||g==="none";h.target===l(s)&&m&&c("ANIMATION_END")}function d(h){l(s)||E(s,document.getElementById(e.current),!0),l(s)&&h.target===l(s)&&E(r,It(l(s)),!0)}pe(()=>a.current,()=>{if(l(s)||E(s,document.getElementById(e.current),!0),!l(s))return;const h=It(l(s));E(r,a.current==="mounted"?h:"none",!0)}),pe(()=>l(s),h=>{if(h)return E(n,getComputedStyle(h),!0),We(ae(h,"animationstart",d),ae(h,"animationcancel",f),ae(h,"animationend",f))});const u=_(()=>["mounted","unmountSuspended"].includes(a.current));return{get current(){return l(u)}}}function It(t){return t&&getComputedStyle(t).animationName||"none"}function Ns(t,e){re(e,!0);const n=Ls(P.with(()=>e.present),P.with(()=>e.id));var r=H(),o=F(r);{var s=i=>{var a=H(),c=F(a);te(c,()=>e.presence??ee,()=>({present:n})),b(i,a)};q(o,i=>{(e.forceMount||e.present||n.current)&&i(s)})}b(t,r),oe()}function Bs(t,e){var n=H(),r=F(n);Ko(r,()=>e.children,o=>{var s=H(),i=F(s);te(i,()=>e.children??ee),b(o,s)}),b(t,n)}function Ws(t,e){re(e,!0);let n=C(e,"to",3,"body");const r=ko();let o=_(s);function s(){if(!Jt||e.disabled)return null;let u=null;return typeof n()=="string"?u=document.querySelector(n()):(n()instanceof HTMLElement||n()instanceof DocumentFragment)&&(u=n()),u}let i;function a(){i&&(Ro(i),i=null)}pe([()=>l(o),()=>e.disabled],([u,h])=>{if(!u||h){a();return}return i=Do(Bs,{target:u,props:{children:e.children},context:r}),()=>{a()}});var c=H(),f=F(c);{var d=u=>{var h=H(),g=F(h);te(g,()=>e.children??ee),b(u,h)};q(f,u=>{e.disabled&&u(d)})}b(t,c),oe()}function Yr(t,e,n,r){const o=Array.isArray(e)?e:[e];return o.forEach(s=>t.addEventListener(s,n,r)),()=>{o.forEach(s=>t.removeEventListener(s,n,r))}}class Cn{eventName;options;constructor(e,n={bubbles:!0,cancelable:!0}){this.eventName=e,this.options=n}createEvent(e){return new CustomEvent(this.eventName,{...this.options,detail:e})}dispatch(e,n){const r=this.createEvent(n);return e.dispatchEvent(r),r}listen(e,n,r){const o=s=>{n(s)};return ae(e,this.eventName,o,r)}}function $n(t,e=500){let n=null;const r=(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...o)},e)};return r.destroy=()=>{n!==null&&(clearTimeout(n),n=null)},r}function Mn(t,e){return t===e||t.contains(e)}function Zr(t){return t?.ownerDocument??document}function Jr(t){return t?.ownerDocument??document}function Hs(t,e){const{clientX:n,clientY:r}=t,o=e.getBoundingClientRect();return n<o.left||n>o.right||r<o.top||r>o.bottom}globalThis.bitsDismissableLayers??=new Map;class Ks{opts;#e;#t;#n={pointerdown:!1};#i=!1;#r=!1;node=P(null);#s=void 0;#a;#l=z(null);get currNode(){return l(this.#l)}set currNode(e){E(this.#l,e,!0)}#o=de;constructor(e){this.opts=e,Pe({id:e.id,ref:this.node,deps:()=>e.enabled.current,onRefChange:o=>{this.currNode=o}}),this.#t=e.interactOutsideBehavior,this.#e=e.onInteractOutside,this.#a=e.onFocusOutside,$(()=>{this.#s=Zr(this.currNode)});let n=de;const r=()=>{this.#u(),globalThis.bitsDismissableLayers.delete(this),this.#c.destroy(),n()};pe([()=>this.opts.enabled.current,()=>this.currNode],([o,s])=>{if(!(!o||!s))return An(1,()=>{this.currNode&&(globalThis.bitsDismissableLayers.set(this,this.#t),n(),n=this.#f())}),r}),Hr(()=>{this.#u.destroy(),globalThis.bitsDismissableLayers.delete(this),this.#c.destroy(),this.#o(),n()})}#d=e=>{e.defaultPrevented||this.currNode&&Ee(()=>{!this.currNode||this.#m(e.target)||e.target&&!this.#r&&this.#a.current?.(e)})};#f(){return We(ae(this.#s,"pointerdown",We(this.#g,this.#p),{capture:!0}),ae(this.#s,"pointerdown",We(this.#v,this.#c)),ae(this.#s,"focusin",this.#d))}#h=e=>{let n=e;n.defaultPrevented&&(n=er(e)),this.#e.current(e)};#c=$n(e=>{if(!this.currNode){this.#o();return}const n=this.opts.isValidEvent.current(e,this.currNode)||js(e,this.currNode);if(!this.#i||this.#w()||!n){this.#o();return}let r=e;if(r.defaultPrevented&&(r=er(r)),this.#t.current!=="close"&&this.#t.current!=="defer-otherwise-close"){this.#o();return}e.pointerType==="touch"?(this.#o(),this.#o=Yr(this.#s,"click",this.#h,{once:!0})):this.#e.current(r)},10);#g=e=>{this.#n[e.type]=!0};#v=e=>{this.#n[e.type]=!1};#p=()=>{this.node.current&&(this.#i=Vs(this.node.current))};#m=e=>this.node.current?Mn(this.node.current,e):!1;#u=$n(()=>{for(const e in this.#n)this.#n[e]=!1;this.#i=!1},20);#w(){return Object.values(this.#n).some(Boolean)}#y=()=>{this.#r=!0};#b=()=>{this.#r=!1};props={onfocuscapture:this.#y,onblurcapture:this.#b}}function Us(t){return new Ks(t)}function zs(t){return t.findLast(([e,{current:n}])=>n==="close"||n==="ignore")}function Vs(t){const e=[...globalThis.bitsDismissableLayers],n=zs(e);if(n)return n[0].node.current===t;const[r]=e[0];return r.node.current===t}function js(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;return Kt(n)?Zr(n).documentElement.contains(n)&&!Mn(e,n)&&Hs(t,e):!1}function er(t){const e=t.currentTarget,n=t.target;let r;t instanceof PointerEvent?r=new PointerEvent(t.type,t):r=new PointerEvent("pointerdown",t);let o=!1;return new Proxy(r,{get:(i,a)=>a==="currentTarget"?e:a==="target"?n:a==="preventDefault"?()=>{o=!0,typeof i.preventDefault=="function"&&i.preventDefault()}:a==="defaultPrevented"?o:a in i?i[a]:t[a]})}function Gs(t,e){re(e,!0);let n=C(e,"interactOutsideBehavior",3,"close"),r=C(e,"onInteractOutside",3,de),o=C(e,"onFocusOutside",3,de),s=C(e,"isValidEvent",3,()=>!1);const i=Us({id:P.with(()=>e.id),interactOutsideBehavior:P.with(()=>n()),onInteractOutside:P.with(()=>r()),enabled:P.with(()=>e.enabled),onFocusOutside:P.with(()=>o()),isValidEvent:P.with(()=>s())});var a=H(),c=F(a);te(c,()=>e.children??ee,()=>({props:i.props})),b(t,a),oe()}globalThis.bitsEscapeLayers??=new Map;class qs{opts;constructor(e){this.opts=e;let n=de;pe(()=>e.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,e.escapeKeydownBehavior),n=this.#e()),()=>{n(),globalThis.bitsEscapeLayers.delete(this)}))}#e=()=>ae(document,"keydown",this.#t,{passive:!1});#t=e=>{if(e.key!==Ss||!Ys(this))return;const n=new KeyboardEvent(e.type,e);e.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(n)}}function Xs(t){return new qs(t)}function Ys(t){const e=[...globalThis.bitsEscapeLayers],n=e.findLast(([o,{current:s}])=>s==="close"||s==="ignore");if(n)return n[0]===t;const[r]=e[0];return r===t}function Zs(t,e){re(e,!0);let n=C(e,"escapeKeydownBehavior",3,"close"),r=C(e,"onEscapeKeydown",3,de);Xs({escapeKeydownBehavior:P.with(()=>n()),onEscapeKeydown:P.with(()=>r()),enabled:P.with(()=>e.enabled)});var o=H(),s=F(o);te(s,()=>e.children??ee),b(t,o),oe()}const Ge=P([]);function Js(){return{add(t){const e=Ge.current[0];e&&t.id!==e.id&&e.pause(),Ge.current=tr(Ge.current,t),Ge.current.unshift(t)},remove(t){Ge.current=tr(Ge.current,t),Ge.current[0]?.resume()},get current(){return Ge.current}}}function Qs(){let t=z(!1),e=z(!1);return{id:je(),get paused(){return l(t)},get isHandlingFocus(){return l(e)},set isHandlingFocus(n){E(e,n,!0)},pause(){E(t,!0)},resume(){E(t,!1)}}}function tr(t,e){return[...t].filter(n=>n.id!==e.id)}function $s(t){return t.filter(e=>e.tagName!=="A")}function Xe(t,{select:e=!1}={}){if(!(t&&t.focus)||document.activeElement===t)return;const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Is(t)&&e&&t.select()}function Qr(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Xe(r,{select:e}),document.activeElement!==n)return!0}function nr(t,e){for(const n of t)if(!ks(n,e))return n}function $r(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ea(t){const e=$r(t),n=nr(e,t),r=nr(e.reverse(),t);return[n,r]}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var eo=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ut=eo.join(","),to=typeof Element>"u",it=to?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,zt=!to&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Vt=function t(e,n){var r;n===void 0&&(n=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=o===""||o==="true",i=s||n&&e&&t(e.parentNode);return i},ta=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},no=function(e,n,r){if(Vt(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(Ut));return n&&it.call(e,Ut)&&o.unshift(e),o=o.filter(r),o},ro=function t(e,n,r){for(var o=[],s=Array.from(e);s.length;){var i=s.shift();if(!Vt(i,!1))if(i.tagName==="SLOT"){var a=i.assignedElements(),c=a.length?a:i.children,f=t(c,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:i,candidates:f})}else{var d=it.call(i,Ut);d&&r.filter(i)&&(n||!e.includes(i))&&o.push(i);var u=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),h=!Vt(u,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(u&&h){var g=t(u===!0?i.children:u.children,!0,r);r.flatten?o.push.apply(o,g):o.push({scopeParent:i,candidates:g})}else s.unshift.apply(s,i.children)}}return o},oo=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},io=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||ta(e))&&!oo(e)?0:e.tabIndex},na=function(e,n){var r=io(e);return r<0&&n&&!oo(e)?0:r},ra=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},so=function(e){return e.tagName==="INPUT"},oa=function(e){return so(e)&&e.type==="hidden"},ia=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},sa=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},aa=function(e){if(!e.name)return!0;var n=e.form||zt(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var s=sa(o,e.form);return!s||s===e},la=function(e){return so(e)&&e.type==="radio"},ca=function(e){return la(e)&&!aa(e)},ua=function(e){var n,r=e&&zt(e),o=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var i,a,c;for(s=!!((i=o)!==null&&i!==void 0&&(a=i.ownerDocument)!==null&&a!==void 0&&a.contains(o)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!s&&o;){var f,d,u;r=zt(o),o=(f=r)===null||f===void 0?void 0:f.host,s=!!((d=o)!==null&&d!==void 0&&(u=d.ownerDocument)!==null&&u!==void 0&&u.contains(o))}}return s},rr=function(e){var n=e.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},da=function(e,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=it.call(e,"details>summary:first-of-type"),i=s?e.parentElement:e;if(it.call(i,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var a=e;e;){var c=e.parentElement,f=zt(e);if(c&&!c.shadowRoot&&o(c)===!0)return rr(e);e.assignedSlot?e=e.assignedSlot:!c&&f!==e.ownerDocument?e=f.host:e=c}e=a}if(ua(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return rr(e);return!1},fa=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return it.call(n,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}n=n.parentElement}return!1},jt=function(e,n){return!(n.disabled||Vt(n)||oa(n)||da(n,e)||ia(n)||fa(n))},hn=function(e,n){return!(ca(n)||io(n)<0||!jt(e,n))},ha=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},ga=function t(e){var n=[],r=[];return e.forEach(function(o,s){var i=!!o.scopeParent,a=i?o.scopeParent:o,c=na(a,i),f=i?t(o.candidates):a;c===0?i?n.push.apply(n,f):n.push(a):r.push({documentOrder:s,tabIndex:c,item:o,isScope:i,content:f})}),r.sort(ra).reduce(function(o,s){return s.isScope?o.push.apply(o,s.content):o.push(s.content),o},[]).concat(n)},va=function(e,n){n=n||{};var r;return n.getShadowRoot?r=ro([e],n.includeContainer,{filter:hn.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:ha}):r=no(e,n.includeContainer,hn.bind(null,n)),ga(r)},pa=function(e,n){n=n||{};var r;return n.getShadowRoot?r=ro([e],n.includeContainer,{filter:jt.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=no(e,n.includeContainer,jt.bind(null,n)),r},Qt=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return it.call(e,Ut)===!1?!1:hn(n,e)},ma=eo.concat("iframe").join(","),wa=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return it.call(e,ma)===!1?!1:jt(n,e)};const ya=new Cn("focusScope.autoFocusOnMount",{bubbles:!1,cancelable:!0}),ba=new Cn("focusScope.autoFocusOnDestroy",{bubbles:!1,cancelable:!0}),ao=new Ve("FocusScope");function xa({id:t,loop:e,enabled:n,onOpenAutoFocus:r,onCloseAutoFocus:o,forceMount:s}){const i=Js(),a=Qs(),c=P(null),f=ao.getOr({ignoreCloseAutoFocus:!1});let d=null;Pe({id:t,ref:c,deps:()=>n.current});function u(w){if(!(a.paused||!c.current||a.isHandlingFocus)){a.isHandlingFocus=!0;try{const v=w.target;if(!Ke(v))return;const y=c.current.contains(v);if(w.type==="focusin")if(y)d=v;else{if(f.ignoreCloseAutoFocus)return;Xe(d,{select:!0})}else w.type==="focusout"&&!y&&!f.ignoreCloseAutoFocus&&Xe(d,{select:!0})}finally{a.isHandlingFocus=!1}}}function h(w){if(!d||!c.current)return;let v=!1;for(const y of w){if(y.type==="childList"&&y.removedNodes.length>0)for(const S of y.removedNodes){if(S===d){v=!0;break}if(S.nodeType===Node.ELEMENT_NODE&&S.contains(d)){v=!0;break}}if(v)break}v&&c.current&&!c.current.contains(document.activeElement)&&Xe(c.current)}pe([()=>c.current,()=>n.current],([w,v])=>{if(!w||!v)return;const y=We(ae(document,"focusin",u),ae(document,"focusout",u)),S=new MutationObserver(h);return S.observe(w,{childList:!0,subtree:!0,attributes:!1}),()=>{y(),S.disconnect()}}),pe([()=>s.current,()=>c.current],([w,v])=>{if(w)return;const y=document.activeElement;return g(v,y),()=>{v&&m(y)}}),pe([()=>s.current,()=>c.current,()=>n.current],([w,v])=>{if(!w)return;const y=document.activeElement;return g(v,y),()=>{v&&m(y)}});function g(w,v){if(w||(w=document.getElementById(t.current)),!w||!n.current)return;if(i.add(a),!w.contains(v)){const S=ya.createEvent();r.current(S),S.defaultPrevented||Ee(()=>{if(!w)return;Qr($s($r(w)),{select:!0})||Xe(w)})}}function m(w){const v=ba.createEvent();o.current?.(v);const y=f.ignoreCloseAutoFocus;An(0,()=>{!v.defaultPrevented&&w&&!y&&Xe(Qt(w)?w:document.body,{select:!0}),i.remove(a)})}function p(w){if(!n.current||!e.current&&!n.current||a.paused)return;const v=w.key===Xr&&!w.ctrlKey&&!w.altKey&&!w.metaKey,y=document.activeElement;if(!(v&&y))return;const S=c.current;if(!S)return;const[A,O]=ea(S);A&&O?!w.shiftKey&&y===O?(w.preventDefault(),e.current&&Xe(A,{select:!0})):w.shiftKey&&y===A&&(w.preventDefault(),e.current&&Xe(O,{select:!0})):y===S&&w.preventDefault()}const x=_(()=>({id:t.current,tabindex:-1,onkeydown:p}));return{get props(){return l(x)}}}function Sa(t,e){re(e,!0);let n=C(e,"trapFocus",3,!1),r=C(e,"loop",3,!1),o=C(e,"onCloseAutoFocus",3,de),s=C(e,"onOpenAutoFocus",3,de),i=C(e,"forceMount",3,!1);const a=xa({enabled:P.with(()=>n()),loop:P.with(()=>r()),onCloseAutoFocus:P.with(()=>o()),onOpenAutoFocus:P.with(()=>s()),id:P.with(()=>e.id),forceMount:P.with(()=>i())});var c=H(),f=F(c);te(f,()=>e.focusScope??ee,()=>({props:a.props})),b(t,c),oe()}globalThis.bitsTextSelectionLayers??=new Map;class _a{opts;#e=de;#t=P(null);constructor(e){this.opts=e,Pe({id:e.id,ref:this.#t,deps:()=>this.opts.enabled.current});let n=de;pe(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),n(),n=this.#n()),()=>{n(),this.#r(),globalThis.bitsTextSelectionLayers.delete(this)}))}#n(){return We(ae(document,"pointerdown",this.#i),ae(document,"pointerup",Lr(this.#r,this.opts.onPointerUp.current)))}#i=e=>{const n=this.#t.current,r=e.target;!Ke(n)||!Ke(r)||!this.opts.enabled.current||!Pa(this)||!Mn(n,r)||(this.opts.onPointerDown.current(e),!e.defaultPrevented&&(this.#e=Ea(n)))};#r=()=>{this.#e(),this.#e=de}}function Aa(t){return new _a(t)}const or=t=>t.style.userSelect||t.style.webkitUserSelect;function Ea(t){const e=document.body,n=or(e),r=or(t);return kt(e,"none"),kt(t,"text"),()=>{kt(e,n),kt(t,r)}}function kt(t,e){t.style.userSelect=e,t.style.webkitUserSelect=e}function Pa(t){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const n=e.at(-1);return n?n[0]===t:!1}function Oa(t,e){re(e,!0);let n=C(e,"preventOverflowTextSelection",3,!0),r=C(e,"onPointerDown",3,de),o=C(e,"onPointerUp",3,de);Aa({id:P.with(()=>e.id),onPointerDown:P.with(()=>r()),onPointerUp:P.with(()=>o()),enabled:P.with(()=>e.enabled&&n())});var s=H(),i=F(s);te(i,()=>e.children??ee),b(t,s),oe()}function Ca(t){let e=0,n=z(void 0),r;function o(){e-=1,r&&e<=0&&(r(),E(n,void 0),r=void 0)}return(...s)=>(e+=1,l(n)===void 0&&(r=Ar(()=>{E(n,t(...s),!0)})),$(()=>()=>{o()}),l(n))}const Ma=Ca(()=>{const t=new bn,e=_(()=>{for(const s of t.values())if(s)return!0;return!1});let n=z(null),r=null;function o(){Jt&&(document.body.setAttribute("style",l(n)??""),document.body.style.removeProperty("--scrollbar-width"),Qn&&r?.())}return $(()=>{const s=l(e);return Yt(()=>{if(!s)return;E(n,document.body.getAttribute("style"),!0);const i=getComputedStyle(document.body),a=window.innerWidth-document.documentElement.clientWidth,f={padding:Number.parseInt(i.paddingRight??"0",10)+a,margin:Number.parseInt(i.marginRight??"0",10)};a>0&&(document.body.style.paddingRight=`${f.padding}px`,document.body.style.marginRight=`${f.margin}px`,document.body.style.setProperty("--scrollbar-width",`${a}px`),document.body.style.overflow="hidden"),Qn&&(r=Yr(document,"touchmove",d=>{d.target===document.documentElement&&(d.touches.length>1||d.preventDefault())},{passive:!1})),Ee(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})})}),$(()=>()=>{r?.()}),{get map(){return t},resetBodyStyle:o}});function Ta(t,e=()=>null){const n=je(),r=Ma();if(!r)return;const o=_(e);r.map.set(n,t??!1);const s=P.with(()=>r.map.get(n)??!1,i=>r.map.set(n,i));return $(()=>()=>{r.map.delete(n),!Fa(r.map)&&(l(o)===null?requestAnimationFrame(()=>r.resetBodyStyle()):An(l(o),()=>r.resetBodyStyle()))}),s}function Fa(t){for(const[e,n]of t)if(n)return!0;return!1}function ir(t,e){re(e,!0);let n=C(e,"preventScroll",3,!0),r=C(e,"restoreScrollDelay",3,null);Ta(n(),()=>r()),oe()}function Zd(t,e,n=!0){if(!(t.length===0||e<0||e>=t.length))return t.length===1&&e===0?t[0]:e===t.length-1?n?t[0]:void 0:t[e+1]}function Jd(t,e,n=!0){if(!(t.length===0||e<0||e>=t.length))return t.length===1&&e===0?t[0]:e===0?n?t[t.length-1]:void 0:t[e-1]}function Qd(t,e,n,r=!0){if(t.length===0||e<0||e>=t.length)return;let o=e+n;return r?o=(o%t.length+t.length)%t.length:o=Math.max(0,Math.min(o,t.length-1)),t[o]}function $d(t,e,n,r=!0){if(t.length===0||e<0||e>=t.length)return;let o=e-n;return r?o=(o%t.length+t.length)%t.length:o=Math.max(0,Math.min(o,t.length-1)),t[o]}function lo(t,e,n){const r=e.toLowerCase();if(r.endsWith(" ")){const u=r.slice(0,-1);if(t.filter(p=>p.toLowerCase().startsWith(u)).length<=1)return lo(t,u,n);const g=n?.toLowerCase();if(g&&g.startsWith(u)&&g.charAt(u.length)===" "&&e.trim()===u)return n;const m=t.filter(p=>p.toLowerCase().startsWith(r));if(m.length>0){const p=n?t.indexOf(n):-1;return sr(m,Math.max(p,0)).find(v=>v!==n)||n}}const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=s.toLowerCase(),a=n?t.indexOf(n):-1;let c=sr(t,Math.max(a,0));s.length===1&&(c=c.filter(u=>u!==n));const d=c.find(u=>u?.toLowerCase().startsWith(i));return d!==n?d:void 0}function sr(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const Ia=["top","right","bottom","left"],Ze=Math.min,Se=Math.max,Gt=Math.round,Dt=Math.floor,ke=t=>({x:t,y:t}),ka={left:"right",right:"left",bottom:"top",top:"bottom"},Da={start:"end",end:"start"};function gn(t,e,n){return Se(t,Ze(e,n))}function Ue(t,e){return typeof t=="function"?t(e):t}function ze(t){return t.split("-")[0]}function gt(t){return t.split("-")[1]}function Tn(t){return t==="x"?"y":"x"}function Fn(t){return t==="y"?"height":"width"}const Ra=new Set(["top","bottom"]);function Fe(t){return Ra.has(ze(t))?"y":"x"}function In(t){return Tn(Fe(t))}function La(t,e,n){n===void 0&&(n=!1);const r=gt(t),o=In(t),s=Fn(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(i=qt(i)),[i,qt(i)]}function Na(t){const e=qt(t);return[vn(t),e,vn(e)]}function vn(t){return t.replace(/start|end/g,e=>Da[e])}const ar=["left","right"],lr=["right","left"],Ba=["top","bottom"],Wa=["bottom","top"];function Ha(t,e,n){switch(t){case"top":case"bottom":return n?e?lr:ar:e?ar:lr;case"left":case"right":return e?Ba:Wa;default:return[]}}function Ka(t,e,n,r){const o=gt(t);let s=Ha(ze(t),n==="start",r);return o&&(s=s.map(i=>i+"-"+o),e&&(s=s.concat(s.map(vn)))),s}function qt(t){return t.replace(/left|right|bottom|top/g,e=>ka[e])}function Ua(t){return{top:0,right:0,bottom:0,left:0,...t}}function co(t){return typeof t!="number"?Ua(t):{top:t,right:t,bottom:t,left:t}}function Xt(t){const{x:e,y:n,width:r,height:o}=t;return{width:r,height:o,top:n,left:e,right:e+r,bottom:n+o,x:e,y:n}}function cr(t,e,n){let{reference:r,floating:o}=t;const s=Fe(e),i=In(e),a=Fn(i),c=ze(e),f=s==="y",d=r.x+r.width/2-o.width/2,u=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let g;switch(c){case"top":g={x:d,y:r.y-o.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:u};break;case"left":g={x:r.x-o.width,y:u};break;default:g={x:r.x,y:r.y}}switch(gt(e)){case"start":g[i]-=h*(n&&f?-1:1);break;case"end":g[i]+=h*(n&&f?-1:1);break}return g}const za=async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:i}=n,a=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let f=await i.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:u}=cr(f,r,c),h=r,g={},m=0;for(let p=0;p<a.length;p++){const{name:x,fn:w}=a[p],{x:v,y,data:S,reset:A}=await w({x:d,y:u,initialPlacement:r,placement:h,strategy:o,middlewareData:g,rects:f,platform:i,elements:{reference:t,floating:e}});d=v??d,u=y??u,g={...g,[x]:{...g[x],...S}},A&&m<=50&&(m++,typeof A=="object"&&(A.placement&&(h=A.placement),A.rects&&(f=A.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:o}):A.rects),{x:d,y:u}=cr(f,h,c)),p=-1)}return{x:d,y:u,placement:h,strategy:o,middlewareData:g}};async function Ot(t,e){var n;e===void 0&&(e={});const{x:r,y:o,platform:s,rects:i,elements:a,strategy:c}=t,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:g=0}=Ue(e,t),m=co(g),x=a[h?u==="floating"?"reference":"floating":u],w=Xt(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:f,rootBoundary:d,strategy:c})),v=u==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},A=Xt(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:c}):v);return{top:(w.top-A.top+m.top)/S.y,bottom:(A.bottom-w.bottom+m.bottom)/S.y,left:(w.left-A.left+m.left)/S.x,right:(A.right-w.right+m.right)/S.x}}const Va=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:o,rects:s,platform:i,elements:a,middlewareData:c}=e,{element:f,padding:d=0}=Ue(t,e)||{};if(f==null)return{};const u=co(d),h={x:n,y:r},g=In(o),m=Fn(g),p=await i.getDimensions(f),x=g==="y",w=x?"top":"left",v=x?"bottom":"right",y=x?"clientHeight":"clientWidth",S=s.reference[m]+s.reference[g]-h[g]-s.floating[m],A=h[g]-s.reference[g],O=await(i.getOffsetParent==null?void 0:i.getOffsetParent(f));let I=O?O[y]:0;(!I||!await(i.isElement==null?void 0:i.isElement(O)))&&(I=a.floating[y]||s.floating[m]);const D=S/2-A/2,U=I/2-p[m]/2-1,W=Ze(u[w],U),X=Ze(u[v],U),V=W,R=I-p[m]-X,M=I/2-p[m]/2+D,N=gn(V,M,R),Z=!c.arrow&&gt(o)!=null&&M!==N&&s.reference[m]/2-(M<V?W:X)-p[m]/2<0,J=Z?M<V?M-V:M-R:0;return{[g]:h[g]+J,data:{[g]:N,centerOffset:M-N-J,...Z&&{alignmentOffset:J}},reset:Z}}}),ja=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:s,rects:i,initialPlacement:a,platform:c,elements:f}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...x}=Ue(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=ze(o),v=Fe(a),y=ze(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(f.floating)),A=h||(y||!p?[qt(a)]:Na(a)),O=m!=="none";!h&&O&&A.push(...Ka(a,p,m,S));const I=[a,...A],D=await Ot(e,x),U=[];let W=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&U.push(D[w]),u){const M=La(o,i,S);U.push(D[M[0]],D[M[1]])}if(W=[...W,{placement:o,overflows:U}],!U.every(M=>M<=0)){var X,V;const M=(((X=s.flip)==null?void 0:X.index)||0)+1,N=I[M];if(N&&(!(u==="alignment"?v!==Fe(N):!1)||W.every(T=>Fe(T.placement)===v?T.overflows[0]>0:!0)))return{data:{index:M,overflows:W},reset:{placement:N}};let Z=(V=W.filter(J=>J.overflows[0]<=0).sort((J,T)=>J.overflows[1]-T.overflows[1])[0])==null?void 0:V.placement;if(!Z)switch(g){case"bestFit":{var R;const J=(R=W.filter(T=>{if(O){const K=Fe(T.placement);return K===v||K==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(K=>K>0).reduce((K,Y)=>K+Y,0)]).sort((T,K)=>T[1]-K[1])[0])==null?void 0:R[0];J&&(Z=J);break}case"initialPlacement":Z=a;break}if(o!==Z)return{reset:{placement:Z}}}return{}}}};function ur(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function dr(t){return Ia.some(e=>t[e]>=0)}const Ga=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...o}=Ue(t,e);switch(r){case"referenceHidden":{const s=await Ot(e,{...o,elementContext:"reference"}),i=ur(s,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:dr(i)}}}case"escaped":{const s=await Ot(e,{...o,altBoundary:!0}),i=ur(s,n.floating);return{data:{escapedOffsets:i,escaped:dr(i)}}}default:return{}}}}},uo=new Set(["left","top"]);async function qa(t,e){const{placement:n,platform:r,elements:o}=t,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=ze(n),a=gt(n),c=Fe(n)==="y",f=uo.has(i)?-1:1,d=s&&c?-1:1,u=Ue(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:m}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof m=="number"&&(g=a==="end"?m*-1:m),c?{x:g*d,y:h*f}:{x:h*f,y:g*d}}const Xa=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:o,y:s,placement:i,middlewareData:a}=e,c=await qa(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:s+c.y,data:{...c,placement:i}}}}},Ya=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:s=!0,crossAxis:i=!1,limiter:a={fn:x=>{let{x:w,y:v}=x;return{x:w,y:v}}},...c}=Ue(t,e),f={x:n,y:r},d=await Ot(e,c),u=Fe(ze(o)),h=Tn(u);let g=f[h],m=f[u];if(s){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=g+d[x],y=g-d[w];g=gn(v,g,y)}if(i){const x=u==="y"?"top":"left",w=u==="y"?"bottom":"right",v=m+d[x],y=m-d[w];m=gn(v,m,y)}const p=a.fn({...e,[h]:g,[u]:m});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:s,[u]:i}}}}}},Za=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:o,rects:s,middlewareData:i}=e,{offset:a=0,mainAxis:c=!0,crossAxis:f=!0}=Ue(t,e),d={x:n,y:r},u=Fe(o),h=Tn(u);let g=d[h],m=d[u];const p=Ue(a,e),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const y=h==="y"?"height":"width",S=s.reference[h]-s.floating[y]+x.mainAxis,A=s.reference[h]+s.reference[y]-x.mainAxis;g<S?g=S:g>A&&(g=A)}if(f){var w,v;const y=h==="y"?"width":"height",S=uo.has(ze(o)),A=s.reference[u]-s.floating[y]+(S&&((w=i.offset)==null?void 0:w[u])||0)+(S?0:x.crossAxis),O=s.reference[u]+s.reference[y]+(S?0:((v=i.offset)==null?void 0:v[u])||0)-(S?x.crossAxis:0);m<A?m=A:m>O&&(m=O)}return{[h]:g,[u]:m}}}},Ja=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:o,rects:s,platform:i,elements:a}=e,{apply:c=()=>{},...f}=Ue(t,e),d=await Ot(e,f),u=ze(o),h=gt(o),g=Fe(o)==="y",{width:m,height:p}=s.floating;let x,w;u==="top"||u==="bottom"?(x=u,w=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(w=u,x=h==="end"?"top":"bottom");const v=p-d.top-d.bottom,y=m-d.left-d.right,S=Ze(p-d[x],v),A=Ze(m-d[w],y),O=!e.middlewareData.shift;let I=S,D=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(D=y),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=v),O&&!h){const W=Se(d.left,0),X=Se(d.right,0),V=Se(d.top,0),R=Se(d.bottom,0);g?D=m-2*(W!==0||X!==0?W+X:Se(d.left,d.right)):I=p-2*(V!==0||R!==0?V+R:Se(d.top,d.bottom))}await c({...e,availableWidth:D,availableHeight:I});const U=await i.getDimensions(a.floating);return m!==U.width||p!==U.height?{reset:{rects:!0}}:{}}}};function $t(){return typeof window<"u"}function vt(t){return fo(t)?(t.nodeName||"").toLowerCase():"#document"}function _e(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Re(t){var e;return(e=(fo(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function fo(t){return $t()?t instanceof Node||t instanceof _e(t).Node:!1}function Oe(t){return $t()?t instanceof Element||t instanceof _e(t).Element:!1}function De(t){return $t()?t instanceof HTMLElement||t instanceof _e(t).HTMLElement:!1}function fr(t){return!$t()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _e(t).ShadowRoot}const Qa=new Set(["inline","contents"]);function Mt(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=Ce(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Qa.has(o)}const $a=new Set(["table","td","th"]);function el(t){return $a.has(vt(t))}const tl=[":popover-open",":modal"];function en(t){return tl.some(e=>{try{return t.matches(e)}catch{return!1}})}const nl=["transform","translate","scale","rotate","perspective"],rl=["transform","translate","scale","rotate","perspective","filter"],ol=["paint","layout","strict","content"];function kn(t){const e=Dn(),n=Oe(t)?Ce(t):t;return nl.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||rl.some(r=>(n.willChange||"").includes(r))||ol.some(r=>(n.contain||"").includes(r))}function il(t){let e=Je(t);for(;De(e)&&!ht(e);){if(kn(e))return e;if(en(e))return null;e=Je(e)}return null}function Dn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sl=new Set(["html","body","#document"]);function ht(t){return sl.has(vt(t))}function Ce(t){return _e(t).getComputedStyle(t)}function tn(t){return Oe(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Je(t){if(vt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||fr(t)&&t.host||Re(t);return fr(e)?e.host:e}function ho(t){const e=Je(t);return ht(e)?t.ownerDocument?t.ownerDocument.body:t.body:De(e)&&Mt(e)?e:ho(e)}function Ct(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=ho(t),s=o===((r=t.ownerDocument)==null?void 0:r.body),i=_e(o);if(s){const a=pn(i);return e.concat(i,i.visualViewport||[],Mt(o)?o:[],a&&n?Ct(a):[])}return e.concat(o,Ct(o,[],n))}function pn(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function go(t){const e=Ce(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=De(t),s=o?t.offsetWidth:n,i=o?t.offsetHeight:r,a=Gt(n)!==s||Gt(r)!==i;return a&&(n=s,r=i),{width:n,height:r,$:a}}function Rn(t){return Oe(t)?t:t.contextElement}function dt(t){const e=Rn(t);if(!De(e))return ke(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:s}=go(e);let i=(s?Gt(n.width):n.width)/r,a=(s?Gt(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const al=ke(0);function vo(t){const e=_e(t);return!Dn()||!e.visualViewport?al:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ll(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_e(t)?!1:e}function st(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),s=Rn(t);let i=ke(1);e&&(r?Oe(r)&&(i=dt(r)):i=dt(t));const a=ll(s,n,r)?vo(s):ke(0);let c=(o.left+a.x)/i.x,f=(o.top+a.y)/i.y,d=o.width/i.x,u=o.height/i.y;if(s){const h=_e(s),g=r&&Oe(r)?_e(r):r;let m=h,p=pn(m);for(;p&&r&&g!==m;){const x=dt(p),w=p.getBoundingClientRect(),v=Ce(p),y=w.left+(p.clientLeft+parseFloat(v.paddingLeft))*x.x,S=w.top+(p.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,f*=x.y,d*=x.x,u*=x.y,c+=y,f+=S,m=_e(p),p=pn(m)}}return Xt({width:d,height:u,x:c,y:f})}function nn(t,e){const n=tn(t).scrollLeft;return e?e.left+n:st(Re(t)).left+n}function po(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-nn(t,n),o=n.top+e.scrollTop;return{x:r,y:o}}function cl(t){let{elements:e,rect:n,offsetParent:r,strategy:o}=t;const s=o==="fixed",i=Re(r),a=e?en(e.floating):!1;if(r===i||a&&s)return n;let c={scrollLeft:0,scrollTop:0},f=ke(1);const d=ke(0),u=De(r);if((u||!u&&!s)&&((vt(r)!=="body"||Mt(i))&&(c=tn(r)),De(r))){const g=st(r);f=dt(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const h=i&&!u&&!s?po(i,c):ke(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+d.x+h.x,y:n.y*f.y-c.scrollTop*f.y+d.y+h.y}}function ul(t){return Array.from(t.getClientRects())}function dl(t){const e=Re(t),n=tn(t),r=t.ownerDocument.body,o=Se(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Se(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+nn(t);const a=-n.scrollTop;return Ce(r).direction==="rtl"&&(i+=Se(e.clientWidth,r.clientWidth)-o),{width:o,height:s,x:i,y:a}}const hr=25;function fl(t,e){const n=_e(t),r=Re(t),o=n.visualViewport;let s=r.clientWidth,i=r.clientHeight,a=0,c=0;if(o){s=o.width,i=o.height;const d=Dn();(!d||d&&e==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}const f=nn(r);if(f<=0){const d=r.ownerDocument,u=d.body,h=getComputedStyle(u),g=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,m=Math.abs(r.clientWidth-u.clientWidth-g);m<=hr&&(s-=m)}else f<=hr&&(s+=f);return{width:s,height:i,x:a,y:c}}const hl=new Set(["absolute","fixed"]);function gl(t,e){const n=st(t,!0,e==="fixed"),r=n.top+t.clientTop,o=n.left+t.clientLeft,s=De(t)?dt(t):ke(1),i=t.clientWidth*s.x,a=t.clientHeight*s.y,c=o*s.x,f=r*s.y;return{width:i,height:a,x:c,y:f}}function gr(t,e,n){let r;if(e==="viewport")r=fl(t,n);else if(e==="document")r=dl(Re(t));else if(Oe(e))r=gl(e,n);else{const o=vo(t);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Xt(r)}function mo(t,e){const n=Je(t);return n===e||!Oe(n)||ht(n)?!1:Ce(n).position==="fixed"||mo(n,e)}function vl(t,e){const n=e.get(t);if(n)return n;let r=Ct(t,[],!1).filter(a=>Oe(a)&&vt(a)!=="body"),o=null;const s=Ce(t).position==="fixed";let i=s?Je(t):t;for(;Oe(i)&&!ht(i);){const a=Ce(i),c=kn(i);!c&&a.position==="fixed"&&(o=null),(s?!c&&!o:!c&&a.position==="static"&&!!o&&hl.has(o.position)||Mt(i)&&!c&&mo(t,i))?r=r.filter(d=>d!==i):o=a,i=Je(i)}return e.set(t,r),r}function pl(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const i=[...n==="clippingAncestors"?en(e)?[]:vl(e,this._c):[].concat(n),r],a=i[0],c=i.reduce((f,d)=>{const u=gr(e,d,o);return f.top=Se(u.top,f.top),f.right=Ze(u.right,f.right),f.bottom=Ze(u.bottom,f.bottom),f.left=Se(u.left,f.left),f},gr(e,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ml(t){const{width:e,height:n}=go(t);return{width:e,height:n}}function wl(t,e,n){const r=De(e),o=Re(e),s=n==="fixed",i=st(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=ke(0);function f(){c.x=nn(o)}if(r||!r&&!s)if((vt(e)!=="body"||Mt(o))&&(a=tn(e)),r){const g=st(e,!0,s,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else o&&f();s&&!r&&o&&f();const d=o&&!r&&!s?po(o,a):ke(0),u=i.left+a.scrollLeft-c.x-d.x,h=i.top+a.scrollTop-c.y-d.y;return{x:u,y:h,width:i.width,height:i.height}}function sn(t){return Ce(t).position==="static"}function vr(t,e){if(!De(t)||Ce(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Re(t)===n&&(n=n.ownerDocument.body),n}function wo(t,e){const n=_e(t);if(en(t))return n;if(!De(t)){let o=Je(t);for(;o&&!ht(o);){if(Oe(o)&&!sn(o))return o;o=Je(o)}return n}let r=vr(t,e);for(;r&&el(r)&&sn(r);)r=vr(r,e);return r&&ht(r)&&sn(r)&&!kn(r)?n:r||il(t)||n}const yl=async function(t){const e=this.getOffsetParent||wo,n=this.getDimensions,r=await n(t.floating);return{reference:wl(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bl(t){return Ce(t).direction==="rtl"}const xl={convertOffsetParentRelativeRectToViewportRelativeRect:cl,getDocumentElement:Re,getClippingRect:pl,getOffsetParent:wo,getElementRects:yl,getClientRects:ul,getDimensions:ml,getScale:dt,isElement:Oe,isRTL:bl};function yo(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Sl(t,e){let n=null,r;const o=Re(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const f=t.getBoundingClientRect(),{left:d,top:u,width:h,height:g}=f;if(a||e(),!h||!g)return;const m=Dt(u),p=Dt(o.clientWidth-(d+h)),x=Dt(o.clientHeight-(u+g)),w=Dt(d),y={rootMargin:-m+"px "+-p+"px "+-x+"px "+-w+"px",threshold:Se(0,Ze(1,c))||1};let S=!0;function A(O){const I=O[0].intersectionRatio;if(I!==c){if(!S)return i();I?i(!1,I):r=setTimeout(()=>{i(!1,1e-7)},1e3)}I===1&&!yo(f,t.getBoundingClientRect())&&i(),S=!1}try{n=new IntersectionObserver(A,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(A,y)}n.observe(t)}return i(!0),s}function _l(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,f=Rn(t),d=o||s?[...f?Ct(f):[],...Ct(e)]:[];d.forEach(w=>{o&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const u=f&&a?Sl(f,n):null;let h=-1,g=null;i&&(g=new ResizeObserver(w=>{let[v]=w;v&&v.target===f&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=g)==null||y.observe(e)})),n()}),f&&!c&&g.observe(f),g.observe(e));let m,p=c?st(t):null;c&&x();function x(){const w=st(t);p&&!yo(p,w)&&n(),p=w,m=requestAnimationFrame(x)}return n(),()=>{var w;d.forEach(v=>{o&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),u?.(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(m)}}const Al=Xa,El=Ya,Pl=ja,Ol=Ja,Cl=Ga,Ml=Va,Tl=Za,Fl=(t,e,n)=>{const r=new Map,o={platform:xl,...n},s={...o.platform,_c:r};return za(t,e,{...o,platform:s})};function bt(t){return typeof t=="function"?t():t}function bo(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function pr(t,e){const n=bo(t);return Math.round(e*n)/n}function mr(t){return{[`--bits-${t}-content-transform-origin`]:"var(--bits-floating-transform-origin)",[`--bits-${t}-content-available-width`]:"var(--bits-floating-available-width)",[`--bits-${t}-content-available-height`]:"var(--bits-floating-available-height)",[`--bits-${t}-anchor-width`]:"var(--bits-floating-anchor-width)",[`--bits-${t}-anchor-height`]:"var(--bits-floating-anchor-height)"}}function Il(t){const e=t.whileElementsMounted,n=_(()=>bt(t.open)??!0),r=_(()=>bt(t.middleware)),o=_(()=>bt(t.transform)??!0),s=_(()=>bt(t.placement)??"bottom"),i=_(()=>bt(t.strategy)??"absolute"),a=t.reference;let c=z(0),f=z(0);const d=P(null);let u=z(nt(l(i))),h=z(nt(l(s))),g=z(nt({})),m=z(!1);const p=_(()=>{const A={position:l(u),left:"0",top:"0"};if(!d.current)return A;const O=pr(d.current,l(c)),I=pr(d.current,l(f));return l(o)?{...A,transform:`translate(${O}px, ${I}px)`,...bo(d.current)>=1.5&&{willChange:"transform"}}:{position:l(u),left:`${O}px`,top:`${I}px`}});let x;function w(){a.current===null||d.current===null||Fl(a.current,d.current,{middleware:l(r),placement:l(s),strategy:l(i)}).then(A=>{E(c,A.x,!0),E(f,A.y,!0),E(u,A.strategy,!0),E(h,A.placement,!0),E(g,A.middlewareData,!0),E(m,!0)})}function v(){typeof x=="function"&&(x(),x=void 0)}function y(){if(v(),e===void 0){w();return}a.current===null||d.current===null||(x=e(a.current,d.current,w))}function S(){l(n)||E(m,!1)}return $(w),$(y),$(S),$(()=>v),{floating:d,reference:a,get strategy(){return l(u)},get placement(){return l(h)},get middlewareData(){return l(g)},get isPositioned(){return l(m)},get floatingStyles(){return l(p)},get update(){return w}}}const kl={top:"bottom",right:"left",bottom:"top",left:"right"};class Dl{anchorNode=P(null);customAnchorNode=P(null);triggerNode=P(null);constructor(){$(()=>{this.customAnchorNode.current?typeof this.customAnchorNode.current=="string"?this.anchorNode.current=document.querySelector(this.customAnchorNode.current):this.anchorNode.current=this.customAnchorNode.current:this.anchorNode.current=this.triggerNode.current})}}class Rl{opts;root;contentRef=P(null);wrapperRef=P(null);arrowRef=P(null);arrowId=P(je());#e=_(()=>{if(typeof this.opts.style=="string")return St(this.opts.style);if(!this.opts.style)return{}});#t=void 0;#n=new ws(()=>this.arrowRef.current??void 0);#i=_(()=>this.#n?.width??0);#r=_(()=>this.#n?.height??0);#s=_(()=>this.opts.side?.current+(this.opts.align.current!=="center"?`-${this.opts.align.current}`:""));#a=_(()=>Array.isArray(this.opts.collisionBoundary.current)?this.opts.collisionBoundary.current:[this.opts.collisionBoundary.current]);#l=_(()=>l(this.#a).length>0);get hasExplicitBoundaries(){return l(this.#l)}set hasExplicitBoundaries(e){E(this.#l,e)}#o=_(()=>({padding:this.opts.collisionPadding.current,boundary:l(this.#a).filter(Fs),altBoundary:this.hasExplicitBoundaries}));get detectOverflowOptions(){return l(this.#o)}set detectOverflowOptions(e){E(this.#o,e)}#d=z(void 0);#f=z(void 0);#h=z(void 0);#c=z(void 0);#g=_(()=>[Al({mainAxis:this.opts.sideOffset.current+l(this.#r),alignmentAxis:this.opts.alignOffset.current}),this.opts.avoidCollisions.current&&El({mainAxis:!0,crossAxis:!1,limiter:this.opts.sticky.current==="partial"?Tl():void 0,...this.detectOverflowOptions}),this.opts.avoidCollisions.current&&Pl({...this.detectOverflowOptions}),Ol({...this.detectOverflowOptions,apply:({rects:e,availableWidth:n,availableHeight:r})=>{const{width:o,height:s}=e.reference;E(this.#d,n,!0),E(this.#f,r,!0),E(this.#h,o,!0),E(this.#c,s,!0)}}),this.arrowRef.current&&Ml({element:this.arrowRef.current,padding:this.opts.arrowPadding.current}),Kl({arrowWidth:l(this.#i),arrowHeight:l(this.#r)}),this.opts.hideWhenDetached.current&&Cl({strategy:"referenceHidden",...this.detectOverflowOptions})].filter(Boolean));get middleware(){return l(this.#g)}set middleware(e){E(this.#g,e)}floating;#v=_(()=>Ul(this.floating.placement));get placedSide(){return l(this.#v)}set placedSide(e){E(this.#v,e)}#p=_(()=>zl(this.floating.placement));get placedAlign(){return l(this.#p)}set placedAlign(e){E(this.#p,e)}#m=_(()=>this.floating.middlewareData.arrow?.x??0);get arrowX(){return l(this.#m)}set arrowX(e){E(this.#m,e)}#u=_(()=>this.floating.middlewareData.arrow?.y??0);get arrowY(){return l(this.#u)}set arrowY(e){E(this.#u,e)}#w=_(()=>this.floating.middlewareData.arrow?.centerOffset!==0);get cannotCenterArrow(){return l(this.#w)}set cannotCenterArrow(e){E(this.#w,e)}#y=z();get contentZIndex(){return l(this.#y)}set contentZIndex(e){E(this.#y,e,!0)}#b=_(()=>kl[this.placedSide]);get arrowBaseSide(){return l(this.#b)}set arrowBaseSide(e){E(this.#b,e)}#x=_(()=>({id:this.opts.wrapperId.current,"data-bits-floating-content-wrapper":"",style:{...this.floating.floatingStyles,transform:this.floating.isPositioned?this.floating.floatingStyles.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:this.contentZIndex,"--bits-floating-transform-origin":`${this.floating.middlewareData.transformOrigin?.x} ${this.floating.middlewareData.transformOrigin?.y}`,"--bits-floating-available-width":`${l(this.#d)}px`,"--bits-floating-available-height":`${l(this.#f)}px`,"--bits-floating-anchor-width":`${l(this.#h)}px`,"--bits-floating-anchor-height":`${l(this.#c)}px`,...this.floating.middlewareData.hide?.referenceHidden&&{visibility:"hidden","pointer-events":"none"},...l(this.#e)},dir:this.opts.dir.current}));get wrapperProps(){return l(this.#x)}set wrapperProps(e){E(this.#x,e)}#S=_(()=>({"data-side":this.placedSide,"data-align":this.placedAlign,style:_n({...l(this.#e)})}));get props(){return l(this.#S)}set props(e){E(this.#S,e)}#_=_(()=>({position:"absolute",left:this.arrowX?`${this.arrowX}px`:void 0,top:this.arrowY?`${this.arrowY}px`:void 0,[this.arrowBaseSide]:0,"transform-origin":{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[this.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[this.placedSide],visibility:this.cannotCenterArrow?"hidden":void 0}));get arrowStyle(){return l(this.#_)}set arrowStyle(e){E(this.#_,e)}constructor(e,n){this.opts=e,this.root=n,e.customAnchor&&(this.root.customAnchorNode.current=e.customAnchor.current),pe(()=>e.customAnchor.current,r=>{this.root.customAnchorNode.current=r}),Pe({id:this.opts.wrapperId,ref:this.wrapperRef,deps:()=>this.opts.enabled.current}),Pe({id:this.opts.id,ref:this.contentRef,deps:()=>this.opts.enabled.current}),this.floating=Il({strategy:()=>this.opts.strategy.current,placement:()=>l(this.#s),middleware:()=>this.middleware,reference:this.root.anchorNode,whileElementsMounted:(...r)=>_l(...r,{animationFrame:this.#t?.current==="always"}),open:()=>this.opts.enabled.current}),$(()=>{this.floating.isPositioned&&this.opts.onPlaced?.current()}),pe(()=>this.contentRef.current,r=>{r&&(this.contentZIndex=window.getComputedStyle(r).zIndex)}),$(()=>{this.floating.floating.current=this.wrapperRef.current})}}class Ll{opts;root;ref=P(null);constructor(e,n){this.opts=e,this.root=n,e.virtualEl&&e.virtualEl.current?n.triggerNode=P.from(e.virtualEl.current):Pe({id:e.id,ref:this.ref,onRefChange:r=>{n.triggerNode.current=r}})}}const Ln=new Ve("Floating.Root"),Nl=new Ve("Floating.Content");function Bl(){return Ln.set(new Dl)}function Wl(t){return Nl.set(new Rl(t,Ln.get()))}function Hl(t){return new Ll(t,Ln.get())}function Kl(t){return{name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:o}=e,i=o.arrow?.centerOffset!==0,a=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[f,d]=Nn(n),u={start:"0%",center:"50%",end:"100%"}[d],h=(o.arrow?.x??0)+a/2,g=(o.arrow?.y??0)+c/2;let m="",p="";return f==="bottom"?(m=i?u:`${h}px`,p=`${-c}px`):f==="top"?(m=i?u:`${h}px`,p=`${r.floating.height+c}px`):f==="right"?(m=`${-c}px`,p=i?u:`${g}px`):f==="left"&&(m=`${r.floating.width+c}px`,p=i?u:`${g}px`),{data:{x:m,y:p}}}}}function Nn(t){const[e,n="center"]=t.split("-");return[e,n]}function Ul(t){return Nn(t)[0]}function zl(t){return Nn(t)[1]}function Vl(t,e){re(e,!0),Bl();var n=H(),r=F(n);te(r,()=>e.children??ee),b(t,n),oe()}function xo(t,e=1e4,n=de){let r=null,o=z(nt(t));function s(){return window.setTimeout(()=>{E(o,t,!0),n(t)},e)}return $(()=>()=>{r&&clearTimeout(r)}),P.with(()=>l(o),i=>{E(o,i,!0),n(i),r&&clearTimeout(r),r=s()})}function jl(t){const e=xo("",1e3),n=(i=>i.focus()),r=(()=>document.activeElement);function o(i,a){if(!a.length)return;e.current=e.current+i;const c=r(),f=a.find(g=>g===c)?.textContent?.trim()??"",d=a.map(g=>g.textContent?.trim()??""),u=lo(d,e.current,f),h=a.find(g=>g.textContent?.trim()===u);return h&&n(h),h}function s(){e.current=""}return{search:e,handleTypeaheadSearch:o,resetTypeahead:s}}function Gl(t,e){re(e,!0),Hl({id:P.with(()=>e.id),virtualEl:P.with(()=>e.virtualEl)});var n=H(),r=F(n);te(r,()=>e.children??ee),b(t,n),oe()}function ql(t,e){re(e,!0);let n=C(e,"side",3,"bottom"),r=C(e,"sideOffset",3,0),o=C(e,"align",3,"center"),s=C(e,"alignOffset",3,0),i=C(e,"arrowPadding",3,0),a=C(e,"avoidCollisions",3,!0),c=C(e,"collisionBoundary",19,()=>[]),f=C(e,"collisionPadding",3,0),d=C(e,"hideWhenDetached",3,!1),u=C(e,"onPlaced",3,()=>{}),h=C(e,"sticky",3,"partial"),g=C(e,"updatePositionStrategy",3,"optimized"),m=C(e,"strategy",3,"fixed"),p=C(e,"dir",3,"ltr"),x=C(e,"style",19,()=>({})),w=C(e,"wrapperId",19,je),v=C(e,"customAnchor",3,null);const y=Wl({side:P.with(()=>n()),sideOffset:P.with(()=>r()),align:P.with(()=>o()),alignOffset:P.with(()=>s()),id:P.with(()=>e.id),arrowPadding:P.with(()=>i()),avoidCollisions:P.with(()=>a()),collisionBoundary:P.with(()=>c()),collisionPadding:P.with(()=>f()),hideWhenDetached:P.with(()=>d()),onPlaced:P.with(()=>u()),sticky:P.with(()=>h()),updatePositionStrategy:P.with(()=>g()),strategy:P.with(()=>m()),dir:P.with(()=>p()),style:P.with(()=>x()),enabled:P.with(()=>e.enabled),wrapperId:P.with(()=>w()),customAnchor:P.with(()=>v())}),S=_(()=>Ie(y.wrapperProps,{style:{pointerEvents:"auto"}}));var A=H(),O=F(A);te(O,()=>e.content??ee,()=>({props:y.props,wrapperProps:l(S)})),b(t,A),oe()}function Xl(t,e){re(e,!0),Fr(()=>{e.onPlaced?.()});var n=H(),r=F(n);te(r,()=>e.content??ee,()=>({props:{},wrapperProps:{}})),b(t,n),oe()}function Yl(t,e){let n=C(e,"isStatic",3,!1),r=fe(e,["$$slots","$$events","$$legacy","content","isStatic","onPlaced"]);var o=H(),s=F(o);{var i=c=>{Xl(c,{get content(){return e.content},get onPlaced(){return e.onPlaced}})},a=c=>{ql(c,He({get content(){return e.content},get onPlaced(){return e.onPlaced}},()=>r))};q(s,c=>{n()?c(i):c(a,!1)})}b(t,o)}var Zl=j("<!> <!>",1);function So(t,e){re(e,!0);let n=C(e,"interactOutsideBehavior",3,"close"),r=C(e,"trapFocus",3,!0),o=C(e,"isValidEvent",3,()=>!1),s=C(e,"customAnchor",3,null),i=C(e,"isStatic",3,!1),a=fe(e,["$$slots","$$events","$$legacy","popper","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","enabled"]);Yl(t,{get isStatic(){return i()},get id(){return e.id},get side(){return e.side},get sideOffset(){return e.sideOffset},get align(){return e.align},get alignOffset(){return e.alignOffset},get arrowPadding(){return e.arrowPadding},get avoidCollisions(){return e.avoidCollisions},get collisionBoundary(){return e.collisionBoundary},get collisionPadding(){return e.collisionPadding},get sticky(){return e.sticky},get hideWhenDetached(){return e.hideWhenDetached},get updatePositionStrategy(){return e.updatePositionStrategy},get strategy(){return e.strategy},get dir(){return e.dir},get wrapperId(){return e.wrapperId},get style(){return e.style},get onPlaced(){return e.onPlaced},get customAnchor(){return s()},get enabled(){return e.enabled},content:(f,d)=>{let u=()=>d?.().props,h=()=>d?.().wrapperProps;var g=Zl(),m=F(g);{var p=v=>{ir(v,{get preventScroll(){return e.preventScroll}})},x=v=>{var y=H(),S=F(y);{var A=O=>{ir(O,{get preventScroll(){return e.preventScroll}})};q(S,O=>{e.forceMount||O(A)},!0)}b(v,y)};q(m,v=>{e.forceMount&&e.enabled?v(p):v(x,!1)})}var w=k(m,2);{const v=(S,A)=>{let O=()=>A?.().props;Zs(S,{get onEscapeKeydown(){return e.onEscapeKeydown},get escapeKeydownBehavior(){return e.escapeKeydownBehavior},get enabled(){return e.enabled},children:(I,D)=>{Gs(I,{get id(){return e.id},get onInteractOutside(){return e.onInteractOutside},get onFocusOutside(){return e.onFocusOutside},get interactOutsideBehavior(){return n()},get isValidEvent(){return o()},get enabled(){return e.enabled},children:(W,X)=>{let V=()=>X?.().props;Oa(W,{get id(){return e.id},get preventOverflowTextSelection(){return e.preventOverflowTextSelection},get onPointerDown(){return e.onPointerDown},get onPointerUp(){return e.onPointerUp},get enabled(){return e.enabled},children:(R,M)=>{var N=H(),Z=F(N);{let J=_(()=>({props:Ie(a,u(),V(),O(),{style:{pointerEvents:"auto"}}),wrapperProps:h()}));te(Z,()=>e.popper??ee,()=>l(J))}b(R,N)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})};let y=_(()=>e.enabled&&r());Sa(w,{get id(){return e.id},get onOpenAutoFocus(){return e.onOpenAutoFocus},get onCloseAutoFocus(){return e.onCloseAutoFocus},get loop(){return e.loop},get trapFocus(){return l(y)},get forceMount(){return e.forceMount},focusScope:v,$$slots:{focusScope:!0}})}b(f,g)},$$slots:{content:!0}}),oe()}function Jl(t,e){let n=C(e,"interactOutsideBehavior",3,"close"),r=C(e,"trapFocus",3,!0),o=C(e,"isValidEvent",3,()=>!1),s=C(e,"customAnchor",3,null),i=C(e,"isStatic",3,!1),a=fe(e,["$$slots","$$events","$$legacy","popper","present","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic"]);Ns(t,He({get id(){return e.id},get present(){return e.present}},()=>a,{presence:f=>{So(f,He({get popper(){return e.popper},get onEscapeKeydown(){return e.onEscapeKeydown},get escapeKeydownBehavior(){return e.escapeKeydownBehavior},get preventOverflowTextSelection(){return e.preventOverflowTextSelection},get id(){return e.id},get onPointerDown(){return e.onPointerDown},get onPointerUp(){return e.onPointerUp},get side(){return e.side},get sideOffset(){return e.sideOffset},get align(){return e.align},get alignOffset(){return e.alignOffset},get arrowPadding(){return e.arrowPadding},get avoidCollisions(){return e.avoidCollisions},get collisionBoundary(){return e.collisionBoundary},get collisionPadding(){return e.collisionPadding},get sticky(){return e.sticky},get hideWhenDetached(){return e.hideWhenDetached},get updatePositionStrategy(){return e.updatePositionStrategy},get strategy(){return e.strategy},get dir(){return e.dir},get preventScroll(){return e.preventScroll},get wrapperId(){return e.wrapperId},get style(){return e.style},get onPlaced(){return e.onPlaced},get customAnchor(){return s()},get isStatic(){return i()},get enabled(){return e.present},get onInteractOutside(){return e.onInteractOutside},get onCloseAutoFocus(){return e.onCloseAutoFocus},get onOpenAutoFocus(){return e.onOpenAutoFocus},get interactOutsideBehavior(){return n()},get loop(){return e.loop},get trapFocus(){return r()},get isValidEvent(){return o()},get onFocusOutside(){return e.onFocusOutside},forceMount:!1},()=>a))},$$slots:{presence:!0}}))}function Ql(t,e){let n=C(e,"interactOutsideBehavior",3,"close"),r=C(e,"trapFocus",3,!0),o=C(e,"isValidEvent",3,()=>!1),s=C(e,"customAnchor",3,null),i=C(e,"isStatic",3,!1),a=fe(e,["$$slots","$$events","$$legacy","popper","onEscapeKeydown","escapeKeydownBehavior","preventOverflowTextSelection","id","onPointerDown","onPointerUp","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","strategy","dir","preventScroll","wrapperId","style","onPlaced","onInteractOutside","onCloseAutoFocus","onOpenAutoFocus","onFocusOutside","interactOutsideBehavior","loop","trapFocus","isValidEvent","customAnchor","isStatic","enabled"]);So(t,He({get popper(){return e.popper},get onEscapeKeydown(){return e.onEscapeKeydown},get escapeKeydownBehavior(){return e.escapeKeydownBehavior},get preventOverflowTextSelection(){return e.preventOverflowTextSelection},get id(){return e.id},get onPointerDown(){return e.onPointerDown},get onPointerUp(){return e.onPointerUp},get side(){return e.side},get sideOffset(){return e.sideOffset},get align(){return e.align},get alignOffset(){return e.alignOffset},get arrowPadding(){return e.arrowPadding},get avoidCollisions(){return e.avoidCollisions},get collisionBoundary(){return e.collisionBoundary},get collisionPadding(){return e.collisionPadding},get sticky(){return e.sticky},get hideWhenDetached(){return e.hideWhenDetached},get updatePositionStrategy(){return e.updatePositionStrategy},get strategy(){return e.strategy},get dir(){return e.dir},get preventScroll(){return e.preventScroll},get wrapperId(){return e.wrapperId},get style(){return e.style},get onPlaced(){return e.onPlaced},get customAnchor(){return s()},get isStatic(){return i()},get enabled(){return e.enabled},get onInteractOutside(){return e.onInteractOutside},get onCloseAutoFocus(){return e.onCloseAutoFocus},get onOpenAutoFocus(){return e.onOpenAutoFocus},get interactOutsideBehavior(){return n()},get loop(){return e.loop},get trapFocus(){return r()},get isValidEvent(){return o()},get onFocusOutside(){return e.onFocusOutside}},()=>a,{forceMount:!0}))}function wr(t,e){re(e,!0);let n=C(e,"mounted",15,!1),r=C(e,"onMountedChange",3,de);ds(()=>(n(!0),r()(!0),()=>{n(!1),r()(!1)})),oe()}const $l=[Gr,On],ec=[Pt,As,qr],_o=[Ht,_s,jr],tc=[...ec,..._o];function yr(t){return t.pointerType==="mouse"}function nc(t){const e=_(()=>t.enabled()),n=xo(!1,t.transitTimeout??300,i=>{l(e)&&t.setIsPointerInTransit?.(i)});let r=z(null);function o(){E(r,null),n.current=!1}function s(i,a){const c=i.currentTarget;if(!Ke(c))return;const f={x:i.clientX,y:i.clientY},d=rc(f,c.getBoundingClientRect()),u=oc(f,d),h=ic(a.getBoundingClientRect()),g=ac([...u,...h]);E(r,g,!0),n.current=!0}return pe([t.triggerNode,t.contentNode,t.enabled],([i,a,c])=>{if(!i||!a||!c)return;const f=u=>{s(u,a)},d=u=>{s(u,i)};return We(ae(i,"pointerleave",f),ae(a,"pointerleave",d))}),pe(()=>l(r),()=>ae(document,"pointermove",a=>{if(!l(r))return;const c=a.target;if(!Kt(c))return;const f={x:a.clientX,y:a.clientY},d=t.triggerNode()?.contains(c)||t.contentNode()?.contains(c),u=!sc(f,l(r));d?o():u&&(o(),t.onPointerExit())})),{isPointerInTransit:n}}function rc(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function oc(t,e,n=5){const r=n*1.5;switch(e){case"top":return[{x:t.x-n,y:t.y+n},{x:t.x,y:t.y-r},{x:t.x+n,y:t.y+n}];case"bottom":return[{x:t.x-n,y:t.y-n},{x:t.x,y:t.y+r},{x:t.x+n,y:t.y-n}];case"left":return[{x:t.x+n,y:t.y-n},{x:t.x-r,y:t.y},{x:t.x+n,y:t.y+n}];case"right":return[{x:t.x-n,y:t.y-n},{x:t.x+r,y:t.y},{x:t.x-n,y:t.y+n}]}}function ic(t){const{top:e,right:n,bottom:r,left:o}=t;return[{x:o,y:e},{x:n,y:e},{x:n,y:r},{x:o,y:r}]}function sc(t,e){const{x:n,y:r}=t;let o=!1;for(let s=0,i=e.length-1;s<e.length;i=s++){const a=e[s].x,c=e[s].y,f=e[i].x,d=e[i].y;c>r!=d>r&&n<(f-a)*(r-c)/(d-c)+a&&(o=!o)}return o}function ac(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),lc(e)}function lc(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const o=t[r];for(;e.length>=2;){const s=e[e.length-1],i=e[e.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))e.pop();else break}e.push(o)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const o=t[r];for(;n.length>=2;){const s=n[n.length-1],i=n[n.length-2];if((s.x-i.x)*(o.y-i.y)>=(s.y-i.y)*(o.x-i.x))n.pop();else break}n.push(o)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}function _t(){return{getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"}}function cc(t,e){if(!Qt(t,_t()))return uc(t,e);const n=va(Jr(t).body,_t());e==="prev"&&n.reverse();const r=n.indexOf(t);return r===-1?document.body:n.slice(r+1)[0]}function uc(t,e){if(!wa(t,_t()))return document.body;const n=pa(Jr(t).body,_t());e==="prev"&&n.reverse();const r=n.indexOf(t);return r===-1?document.body:n.slice(r+1).find(s=>Qt(s,_t()))??document.body}const Ao=new Ve("Menu.Root"),Bn=new Ve("Menu.Root | Menu.Sub"),Eo=new Ve("Menu.Content"),Po=new Ve("Menu.Group | Menu.RadioGroup"),dc=new Ve("Menu.RadioGroup"),fc=new Ve("Menu.CheckboxGroup"),hc=new Cn("bitsmenuopen",{bubbles:!1,cancelable:!0});class gc{opts;isUsingKeyboard=new Ye;#e=z(!1);get ignoreCloseAutoFocus(){return l(this.#e)}set ignoreCloseAutoFocus(e){E(this.#e,e,!0)}#t=z(!1);get isPointerInTransit(){return l(this.#t)}set isPointerInTransit(e){E(this.#t,e,!0)}constructor(e){this.opts=e}getAttr(e){return`data-${this.opts.variant.current}-${e}`}}class vc{opts;root;parentMenu;contentId=P.with(()=>"");#e=z(null);get contentNode(){return l(this.#e)}set contentNode(e){E(this.#e,e,!0)}#t=z(null);get triggerNode(){return l(this.#t)}set triggerNode(e){E(this.#t,e,!0)}constructor(e,n,r){this.opts=e,this.root=n,this.parentMenu=r,r&&pe(()=>r.opts.open.current,()=>{r.opts.open.current||(this.opts.open.current=!1)})}toggleOpen(){this.opts.open.current=!this.opts.open.current}onOpen(){this.opts.open.current=!0}onClose(){this.opts.open.current=!1}}class pc{opts;parentMenu;#e=z("");get search(){return l(this.#e)}set search(e){E(this.#e,e,!0)}#t=0;#n;rovingFocusGroup;#i=z(!1);get mounted(){return l(this.#i)}set mounted(e){E(this.#i,e,!0)}#r;constructor(e,n){this.opts=e,this.parentMenu=n,n.contentId=e.id,this.#r=e.isSub??!1,this.onkeydown=this.onkeydown.bind(this),this.onblur=this.onblur.bind(this),this.onfocus=this.onfocus.bind(this),this.handleInteractOutside=this.handleInteractOutside.bind(this),Pe({...e,deps:()=>this.parentMenu.opts.open.current,onRefChange:r=>{this.parentMenu.contentNode!==r&&(this.parentMenu.contentNode=r)}}),nc({contentNode:()=>this.parentMenu.contentNode,triggerNode:()=>this.parentMenu.triggerNode,enabled:()=>this.parentMenu.opts.open.current&&!!this.parentMenu.triggerNode?.hasAttribute(this.parentMenu.root.getAttr("sub-trigger")),onPointerExit:()=>{this.parentMenu.opts.open.current=!1},setIsPointerInTransit:r=>{this.parentMenu.root.isPointerInTransit=r}}),this.#n=jl().handleTypeaheadSearch,this.rovingFocusGroup=Ds({rootNodeId:this.parentMenu.contentId,candidateAttr:this.parentMenu.root.getAttr("item"),loop:this.opts.loop,orientation:P.with(()=>"vertical")}),pe(()=>this.parentMenu.contentNode,r=>{if(!r)return;const o=()=>{Ee(()=>{this.parentMenu.root.isUsingKeyboard.current&&this.rovingFocusGroup.focusFirstCandidate()})};return hc.listen(r,o)}),$(()=>{this.parentMenu.opts.open.current||window.clearTimeout(this.#t)})}#s(){const e=this.parentMenu.contentNode;return e?Array.from(e.querySelectorAll(`[${this.parentMenu.root.getAttr("item")}]:not([data-disabled])`)):[]}#a(){return this.parentMenu.root.isPointerInTransit}onCloseAutoFocus=e=>{this.opts.onCloseAutoFocus.current(e),!(e.defaultPrevented||this.#r)&&this.parentMenu.triggerNode&&Qt(this.parentMenu.triggerNode)&&this.parentMenu.triggerNode.focus()};handleTabKeyDown(e){let n=this.parentMenu;for(;n.parentMenu!==null;)n=n.parentMenu;if(!n.triggerNode)return;e.preventDefault();const r=cc(n.triggerNode,e.shiftKey?"prev":"next");r?(this.parentMenu.root.ignoreCloseAutoFocus=!0,n.onClose(),Ee(()=>{r.focus(),Ee(()=>{this.parentMenu.root.ignoreCloseAutoFocus=!1})})):document.body.focus()}onkeydown(e){if(e.defaultPrevented)return;if(e.key===Xr){this.handleTabKeyDown(e);return}const n=e.target,r=e.currentTarget;if(!Ke(n)||!Ke(r))return;const o=n.closest(`[${this.parentMenu.root.getAttr("content")}]`)?.id===this.parentMenu.contentId.current,s=e.ctrlKey||e.altKey||e.metaKey,i=e.key.length===1;if(this.rovingFocusGroup.handleKeydown(n,e)||e.code==="Space")return;const c=this.#s();o&&!s&&i&&this.#n(e.key,c),e.target?.id===this.parentMenu.contentId.current&&tc.includes(e.key)&&(e.preventDefault(),_o.includes(e.key)&&c.reverse(),Qr(c))}onblur(e){Kt(e.currentTarget)&&Kt(e.target)&&(e.currentTarget.contains?.(e.target)||(window.clearTimeout(this.#t),this.search=""))}onfocus(e){this.parentMenu.root.isUsingKeyboard.current&&Ee(()=>this.rovingFocusGroup.focusFirstCandidate())}onItemEnter(){return this.#a()}onItemLeave(e){if(e.currentTarget.hasAttribute(this.parentMenu.root.getAttr("sub-trigger"))||this.#a()||this.parentMenu.root.isUsingKeyboard.current)return;this.parentMenu.contentNode?.focus(),this.rovingFocusGroup.setCurrentTabStopId("")}onTriggerLeave(){return!!this.#a()}onOpenAutoFocus=e=>{if(e.defaultPrevented)return;e.preventDefault(),this.parentMenu.contentNode?.focus()};handleInteractOutside(e){if(!Ts(e.target))return;const n=this.parentMenu.triggerNode?.id;if(e.target.id===n){e.preventDefault();return}e.target.closest(`#${n}`)&&e.preventDefault()}#l=_(()=>({open:this.parentMenu.opts.open.current}));get snippetProps(){return l(this.#l)}set snippetProps(e){E(this.#l,e)}#o=_(()=>({id:this.opts.id.current,role:"menu","aria-orientation":"vertical",[this.parentMenu.root.getAttr("content")]:"","data-state":zr(this.parentMenu.opts.open.current),onkeydown:this.onkeydown,onblur:this.onblur,onfocus:this.onfocus,dir:this.parentMenu.root.opts.dir.current,style:{pointerEvents:"auto"}}));get props(){return l(this.#o)}set props(e){E(this.#o,e)}popperProps={onCloseAutoFocus:e=>this.onCloseAutoFocus(e)}}class mc{opts;content;#e=z(!1);constructor(e,n){this.opts=e,this.content=n,this.onpointermove=this.onpointermove.bind(this),this.onpointerleave=this.onpointerleave.bind(this),this.onfocus=this.onfocus.bind(this),this.onblur=this.onblur.bind(this),Pe({...e,deps:()=>this.content.mounted})}onpointermove(e){if(!e.defaultPrevented&&yr(e))if(this.opts.disabled.current)this.content.onItemLeave(e);else{if(this.content.onItemEnter())return;const r=e.currentTarget;if(!Ke(r))return;r.focus()}}onpointerleave(e){e.defaultPrevented||yr(e)&&this.content.onItemLeave(e)}onfocus(e){Ee(()=>{e.defaultPrevented||this.opts.disabled.current||E(this.#e,!0)})}onblur(e){Ee(()=>{e.defaultPrevented||E(this.#e,!1)})}#t=_(()=>({id:this.opts.id.current,tabindex:-1,role:"menuitem","aria-disabled":bs(this.opts.disabled.current),"data-disabled":Vr(this.opts.disabled.current),"data-highlighted":l(this.#e)?"":void 0,[this.content.parentMenu.root.getAttr("item")]:"",onpointermove:this.onpointermove,onpointerleave:this.onpointerleave,onfocus:this.onfocus,onblur:this.onblur}));get props(){return l(this.#t)}set props(e){E(this.#t,e)}}class wc{opts;item;#e=!1;root;constructor(e,n){this.opts=e,this.item=n,this.root=n.content.parentMenu.root,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this)}#t(){if(this.item.opts.disabled.current)return;const e=new CustomEvent("menuitemselect",{bubbles:!0,cancelable:!0});this.opts.onSelect.current(e),Ee(()=>{if(e.defaultPrevented){this.item.content.parentMenu.root.isUsingKeyboard.current=!1;return}this.opts.closeOnSelect.current&&this.item.content.parentMenu.root.opts.onClose()})}onkeydown(e){const n=this.item.content.search!=="";if(!(this.item.opts.disabled.current||n&&e.key===On)&&$l.includes(e.key)){if(!Ke(e.currentTarget))return;e.currentTarget.click(),e.preventDefault()}}onclick(e){this.item.opts.disabled.current||this.#t()}onpointerup(e){if(!e.defaultPrevented&&!this.#e){if(!Ke(e.currentTarget))return;e.currentTarget?.click()}}onpointerdown(e){this.#e=!0}#n=_(()=>Ie(this.item.props,{onclick:this.onclick,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown}));get props(){return l(this.#n)}set props(e){E(this.#n,e)}}class yc{opts;root;#e=z(void 0);get groupHeadingId(){return l(this.#e)}set groupHeadingId(e){E(this.#e,e,!0)}constructor(e,n){this.opts=e,this.root=n,Pe(this.opts)}#t=_(()=>({id:this.opts.id.current,role:"group","aria-labelledby":this.groupHeadingId,[this.root.getAttr("group")]:""}));get props(){return l(this.#t)}set props(e){E(this.#t,e)}}class an{opts;group;constructor(e,n){this.opts=e,this.group=n,Pe({...e,onRefChange:r=>{this.group.groupHeadingId=r?.id}})}#e=_(()=>({id:this.opts.id.current,role:"group",[this.group.root.getAttr("group-heading")]:""}));get props(){return l(this.#e)}set props(e){E(this.#e,e)}}class bc{opts;parentMenu;constructor(e,n){this.opts=e,this.parentMenu=n,this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this),this.onkeydown=this.onkeydown.bind(this),Pe({...e,onRefChange:r=>{this.parentMenu.triggerNode=r}})}onpointerdown(e){if(!this.opts.disabled.current){if(e.pointerType==="touch")return e.preventDefault();e.button===0&&e.ctrlKey===!1&&(this.parentMenu.toggleOpen(),this.parentMenu.opts.open.current||e.preventDefault())}}onpointerup(e){this.opts.disabled.current||e.pointerType==="touch"&&(e.preventDefault(),this.parentMenu.toggleOpen())}onkeydown(e){if(!this.opts.disabled.current){if(e.key===On||e.key===Gr){this.parentMenu.toggleOpen(),e.preventDefault();return}e.key===Pt&&(this.parentMenu.onOpen(),e.preventDefault())}}#e=_(()=>{if(this.parentMenu.opts.open.current&&this.parentMenu.contentId.current)return this.parentMenu.contentId.current});#t=_(()=>({id:this.opts.id.current,disabled:this.opts.disabled.current,"aria-haspopup":"menu","aria-expanded":xs(this.parentMenu.opts.open.current),"aria-controls":l(this.#e),"data-disabled":Vr(this.opts.disabled.current),"data-state":zr(this.parentMenu.opts.open.current),[this.parentMenu.root.getAttr("trigger")]:"",onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown}));get props(){return l(this.#t)}set props(e){E(this.#t,e)}}function xc(t){const e=new gc(t);return ao.set({get ignoreCloseAutoFocus(){return e.ignoreCloseAutoFocus}}),Ao.set(e)}function Sc(t,e){return Bn.set(new vc(e,t,null))}function _c(t){return new bc(t,Bn.get())}function Ac(t){return Eo.set(new pc(t,Bn.get()))}function Ec(t){const e=new mc(t,Eo.get());return new wc(t,e)}function Pc(t){return Po.set(new yc(t,Ao.get()))}function Oc(t){const e=fc.getOr(null);if(e)return new an(t,e);const n=dc.getOr(null);return n?new an(t,n):new an(t,Po.get())}var Cc=j("<div><!></div>");function Mc(t,e){re(e,!0);let n=C(e,"ref",15,null),r=C(e,"id",19,je),o=C(e,"disabled",3,!1),s=C(e,"onSelect",3,de),i=C(e,"closeOnSelect",3,!0),a=fe(e,["$$slots","$$events","$$legacy","child","children","ref","id","disabled","onSelect","closeOnSelect"]);const c=Ec({id:P.with(()=>r()),disabled:P.with(()=>o()),onSelect:P.with(()=>s()),ref:P.with(()=>n(),m=>n(m)),closeOnSelect:P.with(()=>i())}),f=_(()=>Ie(a,c.props));var d=H(),u=F(d);{var h=m=>{var p=H(),x=F(p);te(x,()=>e.child,()=>({props:l(f)})),b(m,p)},g=m=>{var p=Cc();ve(p,()=>({...l(f)}));var x=B(p);te(x,()=>e.children??ee),L(p),b(m,p)};q(u,m=>{e.child?m(h):m(g,!1)})}b(t,d),oe()}var Tc=j("<div><!></div>");function Fc(t,e){re(e,!0);let n=C(e,"ref",15,null),r=C(e,"id",19,je),o=fe(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=Pc({id:P.with(()=>r()),ref:P.with(()=>n(),u=>n(u))}),i=_(()=>Ie(o,s.props));var a=H(),c=F(a);{var f=u=>{var h=H(),g=F(h);te(g,()=>e.child,()=>({props:l(i)})),b(u,h)},d=u=>{var h=Tc();ve(h,()=>({...l(i)}));var g=B(h);te(g,()=>e.children??ee),L(h),b(u,h)};q(c,u=>{e.child?u(f):u(d,!1)})}b(t,a),oe()}var Ic=j("<div><!></div>");function kc(t,e){re(e,!0);let n=C(e,"ref",15,null),r=C(e,"id",19,je),o=fe(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=Oc({id:P.with(()=>r()),ref:P.with(()=>n(),u=>n(u))}),i=_(()=>Ie(o,s.props));var a=H(),c=F(a);{var f=u=>{var h=H(),g=F(h);te(g,()=>e.child,()=>({props:l(i)})),b(u,h)},d=u=>{var h=Ic();ve(h,()=>({...l(i)}));var g=B(h);te(g,()=>e.children??ee),L(h),b(u,h)};q(c,u=>{e.child?u(f):u(d,!1)})}b(t,a),oe()}function Dc(t,e){re(e,!0);let n=C(e,"open",15,!1),r=C(e,"dir",3,"ltr"),o=C(e,"onOpenChange",3,de),s=C(e,"_internal_variant",3,"dropdown-menu");const i=xc({variant:P.with(()=>s()),dir:P.with(()=>r()),onClose:()=>{n(!1),o()(!1)}});Sc(i,{open:P.with(()=>n(),a=>{n(a),o()(a)})}),Vl(t,{children:(a,c)=>{var f=H(),d=F(f);te(d,()=>e.children??ee),b(a,f)},$$slots:{default:!0}}),oe()}var Rc=j("<div><div><!></div></div>"),Lc=j("<!> <!>",1),Nc=j("<div><div><!></div></div>"),Bc=j("<!> <!>",1);function Wc(t,e){re(e,!0);let n=C(e,"id",19,je),r=C(e,"ref",15,null),o=C(e,"loop",3,!0),s=C(e,"onInteractOutside",3,de),i=C(e,"onEscapeKeydown",3,de),a=C(e,"onCloseAutoFocus",3,de),c=C(e,"forceMount",3,!1),f=fe(e,["$$slots","$$events","$$legacy","id","child","children","ref","loop","onInteractOutside","onEscapeKeydown","onCloseAutoFocus","forceMount"]);const d=Ac({id:P.with(()=>n()),loop:P.with(()=>o()),ref:P.with(()=>r(),v=>r(v)),onCloseAutoFocus:P.with(()=>a())}),u=_(()=>Ie(f,d.props));function h(v){d.handleInteractOutside(v),!v.defaultPrevented&&(s()(v),!v.defaultPrevented&&d.parentMenu.onClose())}function g(v){i()(v),!v.defaultPrevented&&d.parentMenu.onClose()}var m=H(),p=F(m);{var x=v=>{Ql(v,He(()=>l(u),()=>d.popperProps,{get enabled(){return d.parentMenu.opts.open.current},onInteractOutside:h,onEscapeKeydown:g,trapFocus:!0,get loop(){return o()},forceMount:!0,get id(){return n()},popper:(S,A)=>{let O=()=>A?.().props,I=()=>A?.().wrapperProps;const D=_(()=>Ie(O(),{style:mr("dropdown-menu")}));var U=Lc(),W=F(U);{var X=M=>{var N=H(),Z=F(N);{let J=_(()=>({props:l(D),wrapperProps:I(),...d.snippetProps}));te(Z,()=>e.child,()=>l(J))}b(M,N)},V=M=>{var N=Rc();ve(N,()=>({...I()}));var Z=B(N);ve(Z,()=>({...l(D)}));var J=B(Z);te(J,()=>e.children??ee),L(Z),L(N),b(M,N)};q(W,M=>{e.child?M(X):M(V,!1)})}var R=k(W,2);wr(R,{get mounted(){return d.mounted},set mounted(M){d.mounted=M}}),b(S,U)},$$slots:{popper:!0}}))},w=v=>{var y=H(),S=F(y);{var A=O=>{Jl(O,He(()=>l(u),()=>d.popperProps,{get present(){return d.parentMenu.opts.open.current},onInteractOutside:h,onEscapeKeydown:g,trapFocus:!0,get loop(){return o()},forceMount:!1,get id(){return n()},popper:(D,U)=>{let W=()=>U?.().props,X=()=>U?.().wrapperProps;const V=_(()=>Ie(W(),{style:mr("dropdown-menu")}));var R=Bc(),M=F(R);{var N=T=>{var K=H(),Y=F(K);{let le=_(()=>({props:l(V),wrapperProps:X(),...d.snippetProps}));te(Y,()=>e.child,()=>l(le))}b(T,K)},Z=T=>{var K=Nc();ve(K,()=>({...X()}));var Y=B(K);ve(Y,()=>({...l(V)}));var le=B(Y);te(le,()=>e.children??ee),L(Y),L(K),b(T,K)};q(M,T=>{e.child?T(N):T(Z,!1)})}var J=k(M,2);wr(J,{get mounted(){return d.mounted},set mounted(T){d.mounted=T}}),b(D,R)},$$slots:{popper:!0}}))};q(S,O=>{c()||O(A)},!0)}b(v,y)};q(p,v=>{c()?v(x):v(w,!1)})}b(t,m),oe()}var Hc=j("<button><!></button>");function Kc(t,e){re(e,!0);let n=C(e,"id",19,je),r=C(e,"ref",15,null),o=C(e,"disabled",3,!1),s=C(e,"type",3,"button"),i=fe(e,["$$slots","$$events","$$legacy","id","ref","child","children","disabled","type"]);const a=_c({id:P.with(()=>n()),disabled:P.with(()=>o()??!1),ref:P.with(()=>r(),f=>r(f))}),c=_(()=>Ie(i,a.props,{type:s()}));Gl(t,{get id(){return n()},children:(f,d)=>{var u=H(),h=F(u);{var g=p=>{var x=H(),w=F(x);te(w,()=>e.child,()=>({props:l(c)})),b(p,x)},m=p=>{var x=Hc();ve(x,()=>({...l(c)}));var w=B(x);te(w,()=>e.children??ee),L(x),b(p,x)};q(h,p=>{e.child?p(g):p(m,!1)})}b(f,u)},$$slots:{default:!0}}),oe()}let xt=z(!1);class Ye{static _refs=0;static _cleanup;constructor(){$(()=>(Ye._refs===0&&(Ye._cleanup=Ar(()=>{const e=[],n=o=>{E(xt,!1)},r=o=>{E(xt,!0)};return e.push(ae(document,"pointerdown",n,{capture:!0}),ae(document,"pointermove",n,{capture:!0}),ae(document,"keydown",r,{capture:!0})),We(...e)})),Ye._refs++,()=>{Ye._refs--,Ye._refs===0&&(E(xt,!1),Ye._cleanup?.())}))}get current(){return l(xt)}set current(e){E(xt,e,!0)}}var Uc=j("<!> <!>",1),zc=j("<!> <!>",1);function Vc(t,e){const n=C(e,"help",3,""),r=fe(e,["$$slots","$$events","$$legacy","items","item","trigger","help"]);let o=z(!1);var s=H(),i=F(s);Be(i,()=>Dc,(a,c)=>{c(a,{get open(){return l(o)},children:(f,d)=>{var u=zc(),h=F(u);{const m=(p,x)=>{let w=()=>x?.().props;var v=H(),y=F(v);{let S=_(()=>({...w(),onclick:()=>{E(o,!l(o))}}));te(y,()=>e.trigger,()=>l(S))}b(p,v)};Be(h,()=>Kc,(p,x)=>{x(p,He(()=>r,{child:m,$$slots:{child:!0}}))})}var g=k(h,2);Be(g,()=>Ws,(m,p)=>{p(m,{children:(x,w)=>{var v=H(),y=F(v);Be(y,()=>Wc,(S,A)=>{A(S,{children:(O,I)=>{var D=H(),U=F(D);Be(U,()=>Fc,(W,X)=>{X(W,{children:(V,R)=>{var M=Uc(),N=F(M);{var Z=T=>{var K=H(),Y=F(K);Be(Y,()=>kc,(le,me)=>{me(le,{children:(ye,be)=>{ge();var se=ue();ne(()=>ie(se,n())),b(ye,se)},$$slots:{default:!0}})}),b(T,K)};q(N,T=>{n()&&T(Z)})}var J=k(N,2);ft(J,17,()=>e.items,T=>T.label,(T,K)=>{var Y=H(),le=F(Y);Be(le,()=>Mc,(me,ye)=>{ye(me,{get textValue(){return l(K).label},get onSelect(){return l(K).onclick},children:(be,se)=>{var Le=H(),pt=F(Le);{var at=Ae=>{var Me=H(),$e=F(Me);te($e,()=>e.item,()=>l(K)),b(Ae,Me)},mt=Ae=>{var Me=ue();ne(()=>ie(Me,l(K).label)),b(Ae,Me)};q(pt,Ae=>{e.item?Ae(at):Ae(mt,!1)})}b(be,Le)},$$slots:{default:!0}})}),b(T,Y)}),b(V,M)},$$slots:{default:!0}})}),b(O,D)},$$slots:{default:!0}})}),b(x,v)},$$slots:{default:!0}})}),b(f,u)},$$slots:{default:!0}})}),b(t,s)}var jc=Qe('<svg><path fill="currentColor" d="m213.66 101.66l-80 80a8 8 0 0 1-11.32 0l-80-80a8 8 0 0 1 11.32-11.32L128 164.69l74.34-74.35a8 8 0 0 1 11.32 11.32"></path></svg>');function Gc(t,e){const n=fe(e,["$$slots","$$events","$$legacy"]);var r=jc();ve(r,()=>({class:"icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em",...n})),b(t,r)}var qc=Qe('<svg><path fill="currentColor" d="M53.92 34.62a8 8 0 1 0-11.84 10.76l39.25 43.18l-39.18 42a8 8 0 0 0 3 13l57.63 21.61l-14.62 73.26a8 8 0 0 0 13.69 7l61.86-66.28l38.37 42.2a8 8 0 1 0 11.84-10.76ZM109.37 214l10.47-52.38a8 8 0 0 0-5-9.06L62 132.71l30.12-32.27l60.78 66.86Zm-.71-143a8 8 0 0 1-.39-11.31l45.88-49.16a8 8 0 0 1 13.69 7L153.18 90.9l57.63 21.61a8 8 0 0 1 3 12.95l-22.3 23.89a8 8 0 0 1-11.7-10.91L194 123.29l-52.8-19.8a8 8 0 0 1-5-9.06l10.47-52.38L120 70.62a8 8 0 0 1-11.34.38"></path></svg>');function Xc(t,e){const n=fe(e,["$$slots","$$events","$$legacy"]);var r=qc();ve(r,()=>({class:"icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em",...n})),b(t,r)}var Yc=j("<time><!></time>");function Zc(t,e){re(e,!0);const n=C(e,"show",3,"absolute"),r=fe(e,["$$slots","$$events","$$legacy","value","show"]),o=_(()=>typeof e.value=="string"?new Date(e.value):e.value),s=_(()=>qo(l(o),"PPpp")),i=_(()=>Si(l(o),{addSuffix:!0}));var a=Yc();ve(a,u=>({...r,datetime:u}),[()=>l(o).toISOString()]);var c=B(a);{var f=u=>{var h=ue();ne(()=>ie(h,l(s))),b(u,h)},d=u=>{var h=H(),g=F(h);{var m=x=>{var w=ue();ne(()=>ie(w,l(i))),b(x,w)},p=x=>{var w=ue();ne(()=>ie(w,`${l(s)??""} (${l(i)??""})`)),b(x,w)};q(g,x=>{n()=="relative"?x(m):x(p,!1)},!0)}b(u,h)};q(c,u=>{n()==="absolute"?u(f):u(d,!1)})}L(a),b(t,a),oe()}const br=(t,e=ee)=>{var n=Jc(),r=B(n),o=k(r,2);tt(o,()=>fetch(e().url).then(s=>s.json()),s=>{var i=ue();ne(()=>ie(i,e().login)),b(s,i)},(s,i)=>{var a=_(()=>{var{name:d}=l(i);return{name:d}}),c=_(()=>l(a).name),f=ue();ne(()=>ie(f,l(c)||e().login)),b(s,f)},(s,i)=>{var a=ue();ne(()=>ie(a,e().login)),b(s,a)}),L(n),ne(()=>{ce(n,"href",e().html_url),ce(n,"title",`@${e().login}`),ce(r,"src",e().avatar_url),ce(r,"alt",`Avatar de ${e().login??""}`)}),b(t,n)};var Jc=j('<a class="github-user svelte-yvr6h4"><img class="svelte-yvr6h4"/> <!></a>'),Qc=j("<!> <!> <!> <!> <!>",1),$c=j('<span class="build-date">Chargement…</span>'),eu=j("pour l'issue <a> </a> de <!>",1),tu=j('<li class="svelte-yvr6h4"><!></li>'),nu=j('<!> <p class="svelte-yvr6h4">Ceci est un déploiement de preview</p> <ul><li class="svelte-yvr6h4">pour la PR <a> </a> de <!></li> <!> <br/></ul> <p class="svelte-yvr6h4"> </p>',1),ru=j('<p class="svelte-yvr6h4">Déploiement de preview pour la <a> </a></p>');function ou(t,e){re(e,!0);const n="7df2935236613daa45fd6d247e7076342f1b69b6";let r=C(e,"open",15);function o(i){return`https://cigaleapp.github.io/cigale/${i}/pr-${Ne}`}async function s(i){return fetch(o(i),{method:"HEAD"}).then(a=>a.ok).catch(()=>!1)}Zt(t,{key:"modal_preview_pr",get title(){return`Déploiement de preview pour la PR #${Ne}`},get open(){return r()},set open(a){r(a)},footer:(a,c)=>{let f=()=>c?.().close;const d=_(()=>w=>()=>{window.open(w),f()?.()});var u=Qc(),h=F(u);Te(h,{help:"Supprime toutes les données pour ce déploiement de preview",onclick:()=>{ei(),window.location.reload()},children:(w,v)=>{ge();var y=ue("Nettoyer la base de données");b(w,y)},$$slots:{default:!0}});var g=k(h,2);{let w=_(()=>l(d)(`https://github.com/cigaleapp/cigale/pull/${Ne}`));Te(g,{get onclick(){return l(w)},children:(v,y)=>{ge();var S=ue("Voir sur Github");b(v,S)},$$slots:{default:!0}})}var m=k(g,2);tt(m,()=>s("_playwright"),null,(w,v)=>{var y=H(),S=F(y);{var A=O=>{{let I=_(()=>l(d)(o("_playwright")));Te(O,{get onclick(){return l(I)},children:(D,U)=>{ge();var W=ue("Tests E2E");b(D,W)},$$slots:{default:!0}})}};q(S,O=>{l(v)&&O(A)})}b(w,y)});var p=k(m,2);tt(p,()=>s("_vitest"),null,(w,v)=>{var y=H(),S=F(y);{var A=O=>{{let I=_(()=>l(d)(o("_vitest")));Te(O,{get onclick(){return l(I)},children:(D,U)=>{ge();var W=ue("Tests unitaires");b(D,W)},$$slots:{default:!0}})}};q(S,O=>{l(v)&&O(A)})}b(w,y)});var x=k(p,2);tt(x,()=>s("_coverage"),null,(w,v)=>{var y=H(),S=F(y);{var A=O=>{{let I=_(()=>l(d)(o("_coverage")));Te(O,{get onclick(){return l(I)},children:(D,U)=>{ge();var W=ue("Coverage");b(D,W)},$$slots:{default:!0}})}};q(S,O=>{l(v)&&O(A)})}b(w,y)}),b(a,u)},children:(a,c)=>{const f=_(()=>`https://github.com/cigaleapp/cigale/pull/${Ne}`);var d=H(),u=F(d);tt(u,()=>fetch(`https://api.github.com/repos/cigaleapp/cigale/pulls/${Ne}`).then(h=>h.json()),h=>{var g=ru(),m=k(B(g)),p=B(m);L(m),L(g),ne(()=>{ce(m,"href",l(f)),ie(p,`PR #${Ne}`)}),b(h,g)},(h,g)=>{var m=_(()=>{var{title:N,user:Z,body:J}=l(g);return{title:N,user:Z,body:J}}),p=_(()=>l(m).title),x=_(()=>l(m).user),w=_(()=>l(m).body);const v=_(()=>/(Closes|Fixes) #(\d+)/i.exec(l(w))?.[2]);var y=nu(),S=F(y);{var A=N=>{var Z=H(),J=F(Z);tt(J,()=>fetch(`https://api.github.com/repos/cigaleapp/cigale/commits/${n}`).then(T=>T.json()),T=>{var K=$c();b(T,K)},(T,K)=>{var Y=_(()=>{var{commit:{committer:{date:me}}}=l(K);return{date:me}}),le=_(()=>l(Y).date);Zc(T,{get value(){return l(le)},show:"both"})}),b(N,Z)};q(S,N=>{N(A)})}var O=k(S,4),I=B(O),D=k(B(I)),U=B(D);L(D);var W=k(D,2);br(W,()=>l(x)),L(I);var X=k(I,2);{var V=N=>{var Z=tu(),J=B(Z);tt(J,()=>fetch(`https://api.github.com/repos/cigaleapp/cigale/issues/${l(v)}`).then(T=>T.json()),null,(T,K)=>{var Y=_(()=>{var{title:mt,number:Ae,user:Me,html_url:$e}=l(K);return{title:mt,number:Ae,user:Me,html_url:$e}}),le=_(()=>l(Y).title),me=_(()=>l(Y).number),ye=_(()=>l(Y).user),be=_(()=>l(Y).html_url),se=eu(),Le=k(F(se)),pt=B(Le);L(Le);var at=k(Le,2);br(at,()=>l(ye)),ne(()=>{ce(Le,"href",l(be)),ie(pt,`#${l(me)??""} ${l(le)??""}`)}),b(T,se)}),L(Z),b(N,Z)};q(X,N=>{l(v)&&N(V)})}ge(2),L(O);var R=k(O,2),M=B(R,!0);L(R),ne(()=>{ce(D,"href",l(f)),ie(U,`#${Ne} ${l(p)??""}`),ie(M,l(w))}),b(h,y)},(h,g)=>{var m=ue();ne(()=>ie(m,`#${Ne}`)),b(h,m)}),b(a,d)},$$slots:{footer:!0,default:!0}}),oe()}var iu=(t,e,n,r)=>{e(n),r.onchange?.(n)},su=j('<button role="radio" class="option svelte-13njdm8"> </button>'),au=j("<div></div>");function mn(t,e){re(e,!0);let n=C(e,"value",15),r=fe(e,["$$slots","$$events","$$legacy","options","labels","value","customOption","clickable-custom-options","onchange"]);var o=au();ve(o,()=>({class:"segmented-group",role:"radiogroup",...r}),void 0,void 0,"svelte-13njdm8"),ft(o,20,()=>e.options,s=>s,(s,i)=>{var a=H(),c=F(a);{var f=u=>{var h=su();h.__click=[iu,n,i,e];var g=B(h,!0);L(h),ne(()=>{ce(h,"aria-checked",i===n()),ie(g,e.labels?.[i]??i)}),b(u,h)},d=u=>{var h=H(),g=F(h);ii(g,()=>e["clickable-custom-options"]?"button":"div",!1,(m,p)=>{var x=()=>{e["clickable-custom-options"]&&(n(i),e.onchange?.(i))};ve(m,()=>({role:"radio","aria-checked":i===n(),class:"option",onclick:x}),void 0,void 0,"svelte-13njdm8");var w=H(),v=F(w);te(v,()=>e.customOption,()=>i),b(p,w)}),b(u,h)};q(c,u=>{!e.customOption||e.labels?.[i]?u(f):u(d,!1)})}b(s,a)}),L(o),b(t,o),oe()}wn(["click"]);var lu=j("<!> results.zip",1),cu=j('<!> <section class="progress svelte-1h3fgf1"><!></section> <!>',1),uu=j('<div class="numeric svelte-1h3fgf1"><!> </div>'),du=j('<div class="include svelte-1h3fgf1"><!></div> <section><div class="label svelte-1h3fgf1">Marge autour des images recadrées</div> <!> <p class="fineprint svelte-1h3fgf1">Une valeur en % signifie que la marge est relative aux dimensions de chacune des images</p></section>',1),fu=j('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function hu(t,e){re(e,!0);let n=C(e,"open",15);const r=_(()=>Q.processing.progress);let o=z(!1),s=z("croppedonly"),i=_(()=>yt(Q.currentProtocol?.crop.padding??"0px")),a=_(()=>l(i).unitless===0?"none":l(i).unit==="px"?"customPixels":l(i).unitless===5?"small":l(i).unitless===10?"medium":"customPercent");$(()=>{switch(l(a)){case"none":E(i,yt("0px"));break;case"small":E(i,yt("5%"));break;case"medium":E(i,yt("10%"));break}}),Fr(async()=>{E(s,"metadataonly"),await c()});async function c(){await xe.clear("exporter"),Q.processing.reset(),E(o,!0);const u=ot.Protocol.state.find(h=>h.id===Q.currentProtocolId);if(!u){xe.error("Aucun protocole sélectionné"),E(o,!1);return}try{await ri(),Q.processing.task="export",Q.processing.total=1,Q.processing.done=0;const h=await e.swarpc.generateResultsZip({include:l(s),protocolId:u.id,cropPadding:l(i).withUnit,jsonSchemaURL:new URL(Wo("/results.schema.json"),rt.url.origin).toString()},({warning:g,progress:m})=>{if(g){const[p,{filename:x}]=g;switch(p){case"exif-write-error":xe.warn(`Impossible d'ajouter les métadonnées EXIF à l'image ${x}`);break}}m&&(Q.processing.done=m)});zo(h,"results.zip","application/zip")}catch(h){console.error(h),xe.error(`Erreur lors de l'exportation des résultats: ${h}`)}finally{E(o,!1)}}var f=fu(),d=F(f);{const u=h=>{var g=cu(),m=F(g);Uo(m,{pool:"exporter"});var p=k(m,2),x=B(p);xn(x,{percentage:!0,alwaysActive:!0,get progress(){return l(r)}}),L(p);var w=k(p,2);Te(w,{onclick:c,children:(v,y)=>{var S=lu(),A=F(S);{var O=D=>{kr(D,{})},I=D=>{Ir(D,{})};q(A,D=>{l(o)?D(O):D(I,!1)})}ge(),b(v,S)},$$slots:{default:!0}}),b(h,g)};Bt(d,()=>({"--footer-direction":"column"})),Zt(d.lastChild,{key:"modal_export_results",title:"Exporter les résultats",onopen:()=>{xe.setCurrentPool("exporter")},onclose:()=>{xe.setCurrentPool("default"),Q.processing.reset()},get open(){return n()},set open(h){n(h)},footer:u,children:(h,g)=>{var m=du(),p=F(m),x=B(p);li(x,{options:[{key:"metadataonly",label:"Métadonnées seulement"},{key:"croppedonly",label:"Métadonnées et images recadrées"},{key:"full",label:"Métadonnées, images recadrées et images originales",subtext:"Permet de ré-importer les résultats ultérieurement"}],get value(){return l(s)},set value(S){E(s,S,!0)}}),L(p);var w=k(p,2);let v;var y=k(B(w),2);mn(y,{options:["none","small","medium","customPercent","customPixels"],labels:{none:"Aucune",small:"5%",medium:"10%"},get value(){return l(a)},set value(A){E(a,A)},customOption:(A,O=ee)=>{const I=_(()=>O()==="customPercent"?"%":"px");var D=uu();let U;var W=B(D);{let V=_(()=>O()==="customPercent"?"en pourcentage des dimensions de l'image":"en pixels"),R=_(()=>l(i).unitless===0?"0":l(i).unit===l(I)?l(i).unitless.toString():"?");ci(W,{get label(){return l(V)},get value(){return l(R)},onblur:async M=>{await _r();const N=Number.parseInt(M,10);!isNaN(N)&&N>0&&(E(i,yt(N+l(I))),E(a,O()))}})}var X=k(W);L(D),ne(V=>{U=Pr(D,"",U,V),ie(X,` ${l(I)??""}`)},[()=>({"--width":l(I)==="%"?"3ch":"4ch"})]),b(A,D)},$$slots:{customOption:!0}}),ge(2),L(w),ne(S=>v=Nt(w,1,"crop-padding svelte-1h3fgf1",null,v,S),[()=>({irrelevant:l(s)==="metadataonly"})]),b(h,m)},$$slots:{footer:!0,default:!0}}),L(d)}b(t,f),oe()}var gu=Qe('<svg><path fill="currentColor" d="M128 82a46 46 0 1 0 46 46a46.06 46.06 0 0 0-46-46m0 80a34 34 0 1 1 34-34a34 34 0 0 1-34 34m86-31.16c.06-1.89.06-3.79 0-5.68L229.33 106a6 6 0 0 0 1.11-5.29a105.3 105.3 0 0 0-10.68-25.81a6 6 0 0 0-4.53-3l-24.45-2.71q-1.93-2.07-4-4l-2.72-24.46a6 6 0 0 0-3-4.53a105.7 105.7 0 0 0-25.77-10.66a6 6 0 0 0-5.29 1.14l-19.2 15.37a90 90 0 0 0-5.68 0L106 26.67a6 6 0 0 0-5.29-1.11A105.3 105.3 0 0 0 74.9 36.24a6 6 0 0 0-3 4.53l-2.67 24.45q-2.07 1.94-4 4L40.76 72a6 6 0 0 0-4.53 3a105.7 105.7 0 0 0-10.66 25.77a6 6 0 0 0 1.11 5.23l15.37 19.2a90 90 0 0 0 0 5.68l-15.38 19.17a6 6 0 0 0-1.11 5.29a105.3 105.3 0 0 0 10.68 25.76a6 6 0 0 0 4.53 3l24.45 2.71q1.94 2.07 4 4L72 215.24a6 6 0 0 0 3 4.53a105.7 105.7 0 0 0 25.77 10.66a6 6 0 0 0 5.29-1.11l19.1-15.32c1.89.06 3.79.06 5.68 0l19.21 15.38a6 6 0 0 0 3.75 1.31a6.2 6.2 0 0 0 1.54-.2a105.3 105.3 0 0 0 25.76-10.68a6 6 0 0 0 3-4.53l2.71-24.45q2.07-1.93 4-4l24.46-2.72a6 6 0 0 0 4.53-3a105.5 105.5 0 0 0 10.66-25.77a6 6 0 0 0-1.11-5.29Zm-3.1 41.63l-23.64 2.63a6 6 0 0 0-3.82 2a75 75 0 0 1-6.31 6.31a6 6 0 0 0-2 3.82l-2.63 23.63a94.3 94.3 0 0 1-17.36 7.14l-18.57-14.86a6 6 0 0 0-3.75-1.31h-.36a78 78 0 0 1-8.92 0a6 6 0 0 0-4.11 1.3L100.87 218a94 94 0 0 1-17.34-7.17l-2.63-23.62a6 6 0 0 0-2-3.82a75 75 0 0 1-6.31-6.31a6 6 0 0 0-3.82-2l-23.63-2.63A94.3 94.3 0 0 1 38 155.14l14.86-18.57a6 6 0 0 0 1.3-4.11a78 78 0 0 1 0-8.92a6 6 0 0 0-1.3-4.11L38 100.87a94 94 0 0 1 7.17-17.34l23.62-2.63a6 6 0 0 0 3.82-2a75 75 0 0 1 6.31-6.31a6 6 0 0 0 2-3.82l2.63-23.63A94.3 94.3 0 0 1 100.86 38l18.57 14.86a6 6 0 0 0 4.11 1.3a78 78 0 0 1 8.92 0a6 6 0 0 0 4.11-1.3L155.13 38a94 94 0 0 1 17.34 7.17l2.63 23.64a6 6 0 0 0 2 3.82a75 75 0 0 1 6.31 6.31a6 6 0 0 0 3.82 2l23.63 2.63a94.3 94.3 0 0 1 7.14 17.29l-14.86 18.57a6 6 0 0 0-1.3 4.11a78 78 0 0 1 0 8.92a6 6 0 0 0 1.3 4.11L218 155.13a94 94 0 0 1-7.15 17.34Z"></path></svg>');function vu(t,e){const n=fe(e,["$$slots","$$events","$$legacy"]);var r=gu();ve(r,()=>({class:"icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em",...n})),b(t,r)}var pu=Qe('<svg><path fill="currentColor" d="M232.13 143.64a6 6 0 0 0-6-1.49a90.07 90.07 0 0 1-112.27-112.3a6 6 0 0 0-7.49-7.48a102.88 102.88 0 0 0-51.89 36.31a102 102 0 0 0 142.84 142.84a102.88 102.88 0 0 0 36.31-51.89a6 6 0 0 0-1.5-5.99m-42 48.29a90 90 0 0 1-126-126a90.9 90.9 0 0 1 35.52-28.27a102.06 102.06 0 0 0 118.69 118.69a90.9 90.9 0 0 1-28.24 35.58Z"></path></svg>');function mu(t,e){const n=fe(e,["$$slots","$$events","$$legacy"]);var r=pu();ve(r,()=>({class:"icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em",...n})),b(t,r)}var wu=Qe('<svg><path fill="currentColor" d="M128 128a8 8 0 0 1-8 8H48a8 8 0 0 1 0-16h72a8 8 0 0 1 8 8M48 72h136a8 8 0 0 0 0-16H48a8 8 0 0 0 0 16m56 112H48a8 8 0 0 0 0 16h56a8 8 0 0 0 0-16m125.66-21.66a8 8 0 0 0-11.32 0L192 188.69V112a8 8 0 0 0-16 0v76.69l-26.34-26.35a8 8 0 0 0-11.32 11.32l40 40a8 8 0 0 0 11.32 0l40-40a8 8 0 0 0 0-11.32"></path></svg>');function yu(t,e){const n=fe(e,["$$slots","$$events","$$legacy"]);var r=wu();ve(r,()=>({class:"icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em",...n})),b(t,r)}var bu=Qe('<svg><path fill="currentColor" d="M40 128a8 8 0 0 1 8-8h72a8 8 0 0 1 0 16H48a8 8 0 0 1-8-8m8-56h56a8 8 0 0 0 0-16H48a8 8 0 0 0 0 16m136 112H48a8 8 0 0 0 0 16h136a8 8 0 0 0 0-16m45.66-101.66l-40-40a8 8 0 0 0-11.32 0l-40 40a8 8 0 0 0 11.32 11.32L176 67.31V144a8 8 0 0 0 16 0V67.31l26.34 26.35a8 8 0 0 0 11.32-11.32"></path></svg>');function xu(t,e){const n=fe(e,["$$slots","$$events","$$legacy"]);var r=bu();ve(r,()=>({class:"icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em",...n})),b(t,r)}var Su=Qe('<svg><path fill="currentColor" d="M122 40V16a6 6 0 0 1 12 0v24a6 6 0 0 1-12 0m68 88a62 62 0 1 1-62-62a62.07 62.07 0 0 1 62 62m-12 0a50 50 0 1 0-50 50a50.06 50.06 0 0 0 50-50M59.76 68.24a6 6 0 1 0 8.48-8.48l-16-16a6 6 0 0 0-8.48 8.48Zm0 119.52l-16 16a6 6 0 1 0 8.48 8.48l16-16a6 6 0 1 0-8.48-8.48M192 70a6 6 0 0 0 4.24-1.76l16-16a6 6 0 0 0-8.48-8.48l-16 16A6 6 0 0 0 192 70m4.24 117.76a6 6 0 0 0-8.48 8.48l16 16a6 6 0 0 0 8.48-8.48ZM46 128a6 6 0 0 0-6-6H16a6 6 0 0 0 0 12h24a6 6 0 0 0 6-6m82 82a6 6 0 0 0-6 6v24a6 6 0 0 0 12 0v-24a6 6 0 0 0-6-6m112-88h-24a6 6 0 0 0 0 12h24a6 6 0 0 0 0-12"></path></svg>');function _u(t,e){const n=fe(e,["$$slots","$$events","$$legacy"]);var r=Su();ve(r,()=>({class:"icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em",...n})),b(t,r)}var Au=Qe('<svg><path fill="currentColor" d="M164.24 100.24L136.48 128l27.76 27.76a6 6 0 1 1-8.48 8.48L128 136.48l-27.76 27.76a6 6 0 0 1-8.48-8.48L119.52 128l-27.76-27.76a6 6 0 0 1 8.48-8.48L128 119.52l27.76-27.76a6 6 0 0 1 8.48 8.48M230 128A102 102 0 1 1 128 26a102.12 102.12 0 0 1 102 102m-12 0a90 90 0 1 0-90 90a90.1 90.1 0 0 0 90-90"></path></svg>');function Eu(t,e){const n=fe(e,["$$slots","$$events","$$legacy"]);var r=Au();ve(r,()=>({class:"icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em",...n})),b(t,r)}var Pu=(t,e)=>{E(e,!1)},Ou=j('<!> <dialog class="container svelte-qprabs" data-testid="app-settings"><header class="svelte-qprabs">Réglages</header> <div class="listParam svelte-qprabs"><div class="label svelte-qprabs">Thème</div> <div class="setting svelte-qprabs"><!> <!></div> <div class="label svelte-qprabs">Mode debug</div> <div class="setting svelte-qprabs"><!></div> <div class="label svelte-qprabs">Trier les images par</div> <div class="setting svelte-qprabs"><!> <!></div> <div class="label svelte-qprabs">Taille des images</div> <div class="setting svelte-qprabs"><input type="range" min="0.5" max="2" step="0.01" list="gridsize-marks"/> <datalist id="gridsize-marks"><option></option></datalist></div> <div class="label svelte-qprabs">Langue</div> <div class="setting svelte-qprabs"><!></div></div> <section class="actions svelte-qprabs"><!> <!> <!></section> <footer class="svelte-qprabs">CIGALE ver. <a> </a> · <a>À propos</a></footer></dialog>',1);function Cu(t,e){re(e,!0);let n=z(!1),r=z(void 0);$(()=>{window.addEventListener("mouseup",({target:T})=>{T!==l(r)&&(l(r)?.contains(T)||E(n,!1))})});let o=z(!0);$(()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",T=>{E(o,!T.matches)})});const s=_(()=>{const T=we().theme;return T==="auto"?l(o)?"light":"dark":T});Tr(()=>l(s),T=>{window.nativeWindow?.setControlsColor(getComputedStyle(document.documentElement).getPropertyValue(`--${T}__fg-primary`))});var i=Ou(),a=F(i);{let T=_(()=>l(n)?"Fermer":"Réglages");Lt(a,{"data-testid":"settings-button",get help(){return l(T)},onclick:()=>{E(n,!l(n))},children:(K,Y)=>{var le=H(),me=F(le);{var ye=se=>{Eu(se,{})},be=se=>{vu(se,{})};q(me,se=>{l(n)?se(ye):se(be,!1)})}b(K,le)},$$slots:{default:!0}})}var c=k(a,2),f=k(B(c),2),d=k(B(f),2),u=B(d);{let T=_(()=>we().theme==="auto"?l(o):we().theme==="light"),K=_(()=>({on:_u,off:mu}));Gn(u,{get value(){return l(T)},onchange:async Y=>{await qe("theme",Y?"light":"dark")},get icons(){return l(K)}})}var h=k(u,2);{let T=_(()=>we().theme==="auto");Lt(h,{get disabled(){return l(T)},onclick:async()=>await qe("theme","auto"),help:"Synchroniser avec le thème du système",children:(K,Y)=>{Vo(K,{})},$$slots:{default:!0}})}L(d);var g=k(d,4),m=B(g);Gn(m,{"data-testid":"debug-mode",get value(){return we().showTechnicalMetadata},onchange:async T=>{await qe("showTechnicalMetadata",T)}}),L(g);var p=k(g,4),x=B(p),w=()=>we().gallerySort.key,v=T=>qe("gallerySort",{...we().gallerySort,key:T});mn(x,{"aria-label":"Par quoi trier",options:["filename","date"],get value(){return w()},set value(T){v(T)},labels:{filename:"Fichier",date:"Date"}});var y=k(x,2);{let T=_(()=>we().gallerySort.direction==="asc"?"Trier par ordre décroissant":"Trier par ordre croissant");Lt(y,{"data-testid":"toggle-sort-direction",onclick:async()=>await qe("gallerySort",{...we().gallerySort,direction:we().gallerySort.direction==="asc"?"desc":"asc"}),get help(){return l(T)},children:(K,Y)=>{var le=H(),me=F(le);{var ye=se=>{yu(se,{})},be=se=>{xu(se,{})};q(me,se=>{we().gallerySort.direction==="asc"?se(ye):se(be,!1)})}b(K,le)},$$slots:{default:!0}})}L(p);var S=k(p,4),A=B(S);Bo(A);var O=k(A,2),I=B(O);I.value=I.__value="1",L(O),L(S);var D=k(S,4),U=B(D);mn(U,{"data-testid":"language-selection","aria-label":"Langue de l'interface","clickable-custom-options":!0,options:["en","fr"],get value(){return we().language},onchange:async K=>{await qe("language",K),window.location.reload()},customOption:(K,Y=ee)=>{const le=_(()=>({en:"English",fr:"Français",ja:"日本語"}));ge();var me=ue();ne(()=>ie(me,l(le)[Y()]||Y())),b(K,me)},$$slots:{customOption:!0}}),L(D),L(f);var W=k(f,2),X=B(W);Te(X,{onclick:async()=>{E(n,!1),await ut("/protocols")},children:(T,K)=>{ge();var Y=ue("Gérer les protocoles");b(T,Y)},$$slots:{default:!0}});var V=k(X,2);Te(V,{onclick:()=>{e.openKeyboardShortcuts?.()},children:(T,K)=>{ge();var Y=ue("Raccourcis clavier");b(T,Y)},$$slots:{default:!0}});var R=k(V,2);Te(R,{help:"Télécharger tout ce qu'il est nécéssaire pour pouvoir utiliser l'application hors-ligne. Télécharge tout les modèles pour tout les protocoles actuellement installés.",onclick:()=>{e.openPrepareForOfflineUse?.()},children:(T,K)=>{ge();var Y=ue("Préparation hors-ligne");b(T,Y)},$$slots:{default:!0}}),L(W);var M=k(W,2),N=k(B(M)),Z=B(N,!0);L(N);var J=k(N,2);J.__click=[Pu,n],L(M),L(c),di(c,T=>E(r,T),()=>l(r)),ne((T,K,Y)=>{ce(c,"data-theme",T),c.open=l(n)?!0:void 0,ce(N,"href","https://github.com/cigaleapp/cigale/tree/7df2935236613daa45fd6d247e7076342f1b69b6"),ie(Z,K),ce(J,"href",Y)},[()=>we().theme,()=>"7df2935236613daa45fd6d247e7076342f1b69b6".slice(0,7),()=>et("/about")]),Lo("blur",A,async()=>qe("gridSize",we().gridSize)),ui(A,()=>we().gridSize,T=>{const K=ot.Settings.state;K[K.findIndex(Y=>Y.id==="user")].gridSize=T}),b(t,i),oe()}wn(["click"]);const xr=(t,e=ee,n=ee,r=ee,o=ee,s=ee,i=ee)=>{var a=Tu(),c=B(a);{var f=d=>{var u=H(),h=F(u);{var g=p=>{{const x=(y,S=ee)=>{Lt(y,He({help:""},S,{children:(A,O)=>{Gc(A,{})},$$slots:{default:!0}}))},w=(y,S)=>{let A=()=>S?.().label,O=()=>S?.().i;var I=Mu(),D=F(I),U=B(D);{var W=V=>{si(V,{})};q(U,V=>{O()===s()&&V(W)})}L(D);var X=k(D);ne(()=>ie(X,` ${A()??""}`)),b(y,I)};let v=_(()=>[{i:-1,label:"Aucune inférence",onclick:()=>i()(-1)},...o().map((y,S)=>({i:S,label:y.name??"",onclick:()=>i()(S)}))]);Vc(p,{get"data-testid"(){return`${e()??""}-model-select`},help:"Modèle d'inférence",get items(){return l(v)},trigger:x,item:w,$$slots:{trigger:!0,item:!0}})}},m=p=>{var x=H(),w=F(x);{var v=y=>{Xc(y,{})};q(w,y=>{n()||y(v)},!0)}b(p,x)};q(h,p=>{o().length>0?p(g):p(m,!1)})}b(d,u)};q(c,d=>{Q.currentProtocol&&d(f)})}L(a),Or(a,(d,u)=>Cr?.(d,u),()=>o().length>0?void 0:r()),b(t,a)};var Mu=j('<div class="selected-model-indicator svelte-1nmekgl"><!></div> ',1),Tu=j('<div class="inference svelte-1nmekgl"><!></div>'),Fu=j('<button class="pr-number svelte-1nmekgl"> </button>'),Iu=j('<div class="line svelte-1nmekgl"></div>'),ku=j('<div class="line svelte-1nmekgl"></div>'),Du=j('<div class="line svelte-1nmekgl"></div>'),Ru=j('<div class="line svelte-1nmekgl"></div>'),Lu=j("<!> Résultats",1),Nu=j('<!> <!> <header><nav data-testid="app-nav" data-sveltekit-preload-data="viewport" class="svelte-1nmekgl"><div class="logo svelte-1nmekgl"><a class="svelte-1nmekgl"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> C.i.g.a.l.e.</a> <!></div> <div class="steps svelte-1nmekgl"><a class="svelte-1nmekgl">Protocole <!></a> <!> <a data-testid="goto-import" class="svelte-1nmekgl">Importer <!></a> <!> <div class="with-inference-indicator svelte-1nmekgl"><a data-testid="goto-crop" class="svelte-1nmekgl">Recadrer <!></a> <!></div> <!> <div class="with-inference-indicator svelte-1nmekgl"><a data-testid="goto-classify" class="svelte-1nmekgl">Classifier <!></a> <!></div> <!> <!></div> <div><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></div></nav> <!></header>',1);function Bu(t,e){re(e,!0);let n=C(e,"progress",3,0);const r=_(()=>rt.url.hash.replace(/^#/,"")),o=_(()=>ot.Image.state.length>0);let s=z(void 0),i=z(void 0),a=z(void 0),c=z(void 0),f=z(!0),d=z(!1),u=z(!1);$(()=>{E(u,"nativeWindow"in window)}),$(()=>{l(i)&&window.nativeWindow?.setControlsHeight(l(i))}),$(()=>{window.nativeWindow?.setProgress(Mr(n(),0,1)),n()>=1&&window.nativeWindow?.startCallingAttention()}),$(()=>{if(l(u))return;const G=document.title.replace(/^(⏳ \d+% ·|🆗) /,"");n()>=1||l(d)?document.title=`🆗 ${G}`:n()===0?document.title=G:document.title=`⏳ ${ti(n())} · ${G}`}),$(()=>{document.addEventListener("processing-queue-drained",()=>{l(f)||E(d,!0)}),window.addEventListener("focus",()=>{E(d,!1),E(f,!0)}),window.addEventListener("blur",()=>{E(f,!1)})}),un("navigation",{"g p":{do:()=>ut("/"),help:"Choisir le protocole"},"g i":{do:()=>ut("/import"),help:"Importer des images"},"g r":{do:()=>ut("/crop"),help:"Recadrer les images"},"g n":{do:()=>ut("/classify"),help:"Classifier les images"},"g x":{do:()=>l(a)(),help:"Exporter les résultats"},"g m":{do:()=>ut("/protocols/"),help:"Gérer les protocoles"}});var h=Nu(),g=F(h);hu(g,{get swarpc(){return e.swarpc},get open(){return l(a)},set open(G){E(a,G,!0)}});var m=k(g,2);{var p=G=>{ou(G,{get open(){return l(c)},set open(he){E(c,he,!0)}})};q(m,G=>{G(p)})}var x=k(m,2);let w;var v=B(x),y=B(v),S=B(y),A=B(S);Bt(A,()=>({"--fill":"var(--bg-primary)"})),ai(A.lastChild,{}),L(A),ge(),L(S);var O=k(S,2);{var I=G=>{var he=Fu();he.__click=function(...wt){l(c)?.apply(this,wt)};var lt=B(he);L(he),ne(()=>ie(lt,`Preview #${Ne}`)),b(G,he)};q(O,G=>{G(I)})}L(y);var D=k(y,2),U=B(D),W=k(B(U));{var X=G=>{var he=Iu();b(G,he)};q(W,G=>{(l(r)=="/"||l(r)=="")&&G(X)})}L(U);var V=k(U,2);Ft(V,{});var R=k(V,2),M=k(B(R));{var N=G=>{var he=ku();b(G,he)};q(M,G=>{l(r)=="/import"&&G(N)})}L(R);var Z=k(R,2);Ft(Z,{});var J=k(Z,2),T=B(J),K=k(B(T));{var Y=G=>{var he=Du();b(G,he)};q(K,G=>{l(r).startsWith("/crop")&&G(Y)})}L(T);var le=k(T,2);xr(le,()=>"crop",()=>Q.cropInferenceAvailable,()=>"La détection est désactivée ou indisponible",()=>Q.cropModels,()=>Q.selectedCropModel,()=>G=>Q.setModelSelections({crop:G})),L(J);var me=k(J,2);Ft(me,{});var ye=k(me,2),be=B(ye),se=k(B(be));{var Le=G=>{var he=Ru();b(G,he)};q(se,G=>{l(r)=="/classify"&&G(Le)})}L(be);var pt=k(be,2);xr(pt,()=>"classify",()=>Q.classificationInferenceAvailable,()=>"La classification est désactivée ou indisponible",()=>Q.classificationModels,()=>Q.selectedClassificationModel,()=>G=>Q.setModelSelections({classification:G})),L(ye),Or(ye,(G,he)=>Cr?.(G,he),()=>Q.processing.task==="detection"&&Q.processing.progress<1?"Veuillez attendre la fin de l'analyse des images avant de les classifier":void 0);var at=k(ye,2);Ft(at,{});var mt=k(at,2);Te(mt,{testid:"export-results-button",tight:!0,get onclick(){return l(a)},children:(G,he)=>{var lt=Lu(),wt=F(lt);Ir(wt,{}),ge(),b(G,lt)},$$slots:{default:!0}}),L(D);var Ae=k(D,2);let Me;var $e=B(Ae);Bt($e,()=>({"--navbar-height":`${l(s)??""}px`})),Cu($e.lastChild,{get openPrepareForOfflineUse(){return e.openPrepareForOfflineUse},get openKeyboardShortcuts(){return e.openKeyboardShortcuts}}),L($e),L(Ae),L(v);var Oo=k(v,2);{let G=_(()=>Q.processing.task==="export"?0:n());xn(Oo,{get progress(){return l(G)}})}L(x),ne((G,he,lt,wt,Co,Mo,To)=>{w=Nt(x,1,"svelte-1nmekgl",null,w,G),ce(S,"href",he),ce(U,"href",lt),ce(R,"href",wt),ce(R,"aria-disabled",!Q.currentProtocol),ce(T,"href",Co),ce(T,"aria-disabled",!Q.currentProtocol||!l(o)),ce(be,"href",Mo),ce(be,"aria-disabled",!Q.currentProtocol||!l(o)||Q.processing.task==="detection"&&Q.processing.progress<1),Me=Nt(Ae,1,"settings svelte-1nmekgl",null,Me,To)},[()=>({"native-window":l(u)}),()=>et("/"),()=>et("/"),()=>et("/import"),()=>rt.route.id!=="/(app)/(sidepanel)/crop/[image]"&&Q.imageOpenedInCropper?et("/(app)/(sidepanel)/crop/[image]",{image:Q.imageOpenedInCropper}):et("/crop"),()=>et("/classify"),()=>({native:l(u)})]),jn(v,"clientHeight",G=>E(i,G)),jn(x,"clientHeight",G=>E(s,G)),b(t,h),oe()}wn(["click"]);async function Wu(t,e){const n=ot.Protocol.state.filter(s=>t.includes(s.id));if(n.length<t.length)throw new Error(`Some protocols not found in ${t.join(", ")}`);const r=[...n.flatMap(s=>s.crop.infer?.map(i=>i.model)??[]),...n.flatMap(s=>s.metadata.map(i=>ot.Metadata.getFromState(i)).filter(cn).flatMap(({infer:i})=>i&&"neural"in i?i.neural.map(({model:a})=>a):[]))],o=await Promise.allSettled(r.map((s,i)=>Xo(s,{cacheAs:"model",onProgress({total:a,transferred:c}){e?.({done:c,total:a,modelNo:i,modelURL:Xn(s)})}})));if(o.some(s=>s.status==="rejected"))throw new Error("Could not download all models: "+o.map((s,i)=>{if(s.status!=="fulfilled")return`${Xn(r[i])}: ${s.reason}`}).filter(cn).join("; "))}var Hu=j('<li class="svelte-au9nsu"><span class="url svelte-au9nsu"> </span> <!></li>'),Ku=j("<!> OK!",1),Uu=j("<!> ",1),zu=j("<!> Chargement…",1),Vu=j(`<p>Télécharger tout ce qu'il est nécéssaire pour pouvoir utiliser l'application hors-ligne.
		Télécharge tout les modèles pour tout les protocoles actuellement installés.</p> <ul class="bars svelte-au9nsu"></ul> <section class="state svelte-au9nsu"><!></section>`,1);function ju(t,e){re(e,!0);let n=C(e,"open",15),r=z(void 0),o=z(void 0);async function s(){await Wu(ot.Protocol.state.map(f=>f.id),({modelNo:f,...d})=>{i.set(f,d)}).catch(f=>{E(r,f,!0)})}$(()=>{l(a)&&i.values().every(f=>f.done>=f.total)&&E(r,!0)});let i=new bn;const a=_(()=>i.size>0),c=_(()=>jo(l(r)===!0?"success":"error"));Zt(t,{key:"modal_prepare_for_offline",title:"Préparation hors-ligne",get open(){return n()},set open(d){n(d)},get close(){return l(o)},set close(d){E(o,d,!0)},footer:(d,u)=>{let h=()=>u?.().close;var g=H(),m=F(g);{var p=w=>{qn(w,{get loading(){return l(a)},onclick:s,children:(v,y)=>{ge();var S=ue("Démarrer");b(v,S)},$$slots:{default:!0}})},x=w=>{qn(w,{onclick:()=>{i.clear(),E(r,void 0),h()?.()},children:(v,y)=>{ge();var S=ue("Fermer");b(v,S)},$$slots:{default:!0}})};q(m,w=>{l(r)!==!0?w(p):w(x,!1)})}b(d,g)},children:(d,u)=>{var h=Vu(),g=k(F(h),2);ft(g,21,()=>i,([y,{done:S,total:A,modelURL:O}])=>y,(y,S)=>{var A=_(()=>ln(l(S),2));let O=()=>l(A)[1].done,I=()=>l(A)[1].total,D=()=>l(A)[1].modelURL;var U=Hu(),W=B(U),X=B(W,!0);L(W);var V=k(W,2);{let R=_(()=>Mr(O()/I(),0,1));xn(V,{alwaysActive:!0,get progress(){return l(R)}})}L(U),ne(()=>ie(X,D())),b(y,U)}),L(g);var m=k(g,2);let p;var x=B(m);{var w=y=>{var S=Ku(),A=F(S);Be(A,()=>l(c),(O,I)=>{I(O,{})}),ge(),b(y,S)},v=y=>{var S=H(),A=F(S);{var O=D=>{var U=Uu(),W=F(U);Be(W,()=>l(c),(V,R)=>{R(V,{})});var X=k(W);ne(()=>ie(X,` ${l(r)??""}`)),b(D,U)},I=D=>{var U=H(),W=F(U);{var X=V=>{var R=zu(),M=F(R);kr(M,{}),ge(),b(V,R)};q(W,V=>{i.size>0&&V(X)},!0)}b(D,U)};q(A,D=>{l(r)!==void 0?D(O):D(I,!1)},!0)}b(y,S)};q(x,y=>{l(r)===!0?y(w):y(v,!1)})}L(m),ne(y=>p=Pr(m,"",p,y),[()=>({color:`var(--fg-${l(r)===!0?"success":l(a)?"secondary":"error"})`})]),b(d,h)},$$slots:{footer:!0,default:!0}}),oe()}const Gu=new bn;var qu=j("<base/>"),Xu=j('<!> <!> <!> <section class="toasts svelte-1v2axqk" data-testid="toasts-area"></section> <div><!></div>',1);function ef(t,e){re(e,!0);const n=_(()=>e.data.swarpc),r=_(()=>e.data.parallelism);oi({swarpc:l(n),cancellers:Gu,parallelism:l(r)});const o={capture(){return Yo(Q,"currentProtocolId")},restore({currentProtocolId:v}){Q.setCurrentProtocolId(v)}},s=_(()=>ot.Image.state.map(v=>v.fileId).filter(cn));Tr(()=>l(s),v=>{for(const y of v)(async()=>{if(Q.hasPreviewURL(y))return;const S=await ni("ImagePreviewFile",y);if(!S)return;const A=new Blob([S.bytes],{type:S.contentType});Q.setPreviewURL(y,URL.createObjectURL(A))})()}),un("general",{"$mod+s":{help:"",hidden:!0,do:()=>xe.info("Pas besoin de Ctrl-S, vos changements sont sauvegardés automatiquement 😎")},"i d e v":{help:"Activer/Désactiver le debug mode",do:async()=>{await qe("showTechnicalMetadata",!Wt())}}}),un("debugmode",Object.fromEntries(["warn","error","info","debug","success"].map(v=>{const y={warn:()=>xe.warn("Example warning toast"),error:()=>xe.error("Example error toast"),info:()=>xe.info("Example info toast"),debug:()=>xe.add("debug","Example debug toast"),success:()=>xe.success("Example success toast")};return[`t t ${v.charAt(0)}`,{help:`Summon a ${v} toast`,debug:!0,allowInModals:!0,when:Wt,do:y[v]}]})));const i=_(we);$(()=>{document.documentElement.dataset.theme=l(i).theme});let a=z(void 0),c=z(void 0);var f={snapshot:o},d=Xu();No(v=>{var y=qu();ne(S=>ce(y,"href",S),[()=>Hn("/")==="/"?"":Hn("/")+"index.html"]),b(v,y)});var u=F(d);Di(u,{preventDefault:!0,get binds(){return Q.keybinds},get openHelp(){return l(a)},set openHelp(v){E(a,v,!0)}});var h=k(u,2);ju(h,{get open(){return l(c)},set open(v){E(c,v,!0)}});var g=k(h,2);Bu(g,{get swarpc(){return l(n)},get openKeyboardShortcuts(){return l(a)},get openPrepareForOfflineUse(){return l(c)},get progress(){return Q.processing.progress}});var m=k(g,2);ft(m,21,()=>xe.items("default"),v=>v.id,(v,y)=>{Go(v,He(()=>l(y),{get action(){return l(y).labels.action},get dismiss(){return l(y).labels.close},onaction:()=>{l(y).callbacks?.action?.(l(y))},ondismiss:()=>{xe.remove(l(y).id)}}))}),L(m);var p=k(m,2);let x;var w=B(p);return te(w,()=>e.children??ee),L(p),ne(v=>x=Nt(p,1,"contents svelte-1v2axqk",null,x,v),[()=>({padded:!rt.route.id?.includes("/(sidepanel)")})]),b(t,d),oe(f)}export{Ql as $,Ht as A,kd as B,Ve as C,Qd as D,Ss as E,Ld as F,$d as G,qr as H,Vr as I,zr as J,xs as K,Hr as L,Xd as M,ys as N,Qn as O,As as P,Ee as Q,Fd as R,Yd as S,Xr as T,Td as U,P as V,de as W,Vl as X,je as Y,Gl as Z,ef as _,Pt as a,Jl as a0,wr as a1,Ws as a2,Gu as a3,En as b,Pn as c,Dd as d,Rd as e,Id as f,Gr as g,Hd as h,Kd as i,Ud as j,zd as k,Vd as l,Ie as m,jd as n,Gd as o,qd as p,Nd as q,Bd as r,Cd as s,Wd as t,Pe as u,_s as v,pe as w,jr as x,Zd as y,Jd as z};
