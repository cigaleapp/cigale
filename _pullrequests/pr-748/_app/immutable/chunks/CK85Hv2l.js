import"./DsnmJJEf.js";import{A as y,F as u,aA as C,aB as j,g as r,D as o,K as k,t as h,i as b,B as A}from"./DLg_PPZ_.js";import{r as B}from"./9TbOa8jV.js";import{p as S,i as Y,r as D}from"./D67Hg_eN.js";import{a as E,S as F,b as H,s as I}from"./BNnFn6yw.js";import{a as K}from"./C8qYVKmu.js";var L=u('<img class="blur svelte-gh0xrt" alt="" aria-hidden="true"/>'),M=u("<picture><!> <img/></picture>");function G(p,t){y(t,!0);const v=S(t,"class",3,""),d=D(t,["$$slots","$$events","$$legacy","src","box","blurfill","class"]),s=o(()=>K(t.box)),m=o(()=>t.box.width/t.box.height);function l([e,a]){return[e*100,a*100].map(c=>c+"%").join(" ")}const n=o(()=>1/t.box.width*Math.min(r(m),1)),x=o(()=>{const[e,a]=r(s).topleft,[c,w]=[r(n)*t.box.width,r(n)*t.box.height];return r(m)>1?[-e,-a+1/2-w/2]:[-e+1/2-c/2,-a]});var i=M(),f=C(i);{var _=e=>{var a=L();h(()=>I(a,"src",t.src)),b(e,a)};Y(f,e=>{t.blurfill&&e(_)})}var g=j(f,2);E(g,e=>({src:t.src,...d,[F]:e}),[()=>({"transform-origin":l(r(s).topleft),translate:l(r(x)),scale:`${r(n)*100}%`,"clip-path":`polygon(${[r(s).topleft,r(s).topright,r(s).bottomright,r(s).bottomleft].map(l).join(", ")??""})`})],void 0,"svelte-gh0xrt"),k(i),h(()=>H(i,1,`cropped ${v()??""}`,"svelte-gh0xrt")),B(g),b(p,i),A()}export{G as C};
