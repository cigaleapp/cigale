import{g as w}from"../chunks/U1OIFfFg.js";import{a as mt,H as ct,t as B}from"../chunks/h9n_zjAt.js";import"../chunks/DsnmJJEf.js";import{p as _t,g as t,u as m,I as v,ai as i,H as S,a as l,b as lt,ak as d,J as vt,K as p,F as ut,aG as gt}from"../chunks/Dt6m180S.js";import{s as c}from"../chunks/BqMK6M8M.js";import{i as bt}from"../chunks/cmrSGx3m.js";import{e as ft}from"../chunks/Bmx3KKup.js";import{a as ht,f as xt,t as wt}from"../chunks/DM93I2Od.js";import{p as St}from"../chunks/BQgdUy12.js";import{s as jt}from"../chunks/DDk1L18j.js";import{a as Ot}from"../chunks/JZH0u_ZA.js";import{e as qt}from"../chunks/C0SiBqD8.js";import{Z as yt}from"../chunks/CPTesWAz.js";import{M as Jt}from"../chunks/BtHcI4QY.js";import{b as Nt}from"../chunks/CoW7fDOc.js";import{R as j}from"../chunks/CH5FdpMr.js";async function Rt({parent:O}){const u=await O(),o=[],{images:{cropped:q,original:f},metadata:{csv:h,json:y}}=u.exports??{images:{cropped:{toJSON:()=>"cropped/{{ sequence }}.{{ extension image.filename }}"},original:{toJSON:()=>"original/{{ sequence }}.{{ extension image.filename }}"}},metadata:{csv:"metadata.csv",json:"metadata.json"}},g=mt("js");return w({tree:o,provenance:"metadata.csv",paths:[h],help:g(445)}),w({tree:o,provenance:"metadata.json",paths:[y],help:g(446)}),w({tree:o,provenance:"images.cropped",paths:[q.toJSON()],help:g(447)}),w({tree:o,provenance:"images.original",paths:[f.toJSON()],help:g(448)}),{protocol:u,initialTree:o}}const re=Object.freeze(Object.defineProperty({__proto__:null,load:Rt},Symbol.toStringTag,{value:"Module"}));var Tt=v("<strong><code></code></strong>"),Mt=v('<a target="_blank" href="https://handlebarsjs.com/guide/"> </a>'),Pt=v("<br/>"),$t=v("<br/>"),kt=v("<br/>"),Ct=v("<br/>"),Et=v("<br/>"),Ht=v("<br/>"),Lt=v("<dt> <br/> </dt> <dd> </dd>",1),At=v('<pre class="debug svelte-1aq0bmb"> </pre>'),Dt=v('<main class="svelte-1aq0bmb"><h2> </h2> <h3 class="svelte-1aq0bmb"> </h3> <!> <h3 class="svelte-1aq0bmb"> </h3> <!> <p><!></p> <p><!></p> <h3 class="svelte-1aq0bmb"> </h3> <dl class="variables-docs svelte-1aq0bmb"><dt><!></dt> <dd> </dd> <dt><!></dt> <dd> </dd> <dt></dt> <dd> </dd> <dt></dt> <dd> </dd> <!></dl> <!></main>');function oe(O,u){_t(u,!0);const o=m(()=>Nt("main"));jt({title:t(o)(258,[St.params.id])});async function q(n,r){const[a,e]=n.split("."),{id:s,exports:_}=u.data.protocol;if(!_){wt.error(t(o)(259));return}const b={images:{cropped:_.images.cropped.toJSON(),original:_.images.original.toJSON()},metadata:{csv:_.metadata.csv,json:_.metadata.json}};b[a][e]=r.replace(/^\//,"").replace(/\/$/,""),await B.Protocol.update(s,"exports",b)}var f=Dt(),h=d(f),y=d(h,!0);p(h);var g=i(h,2),F=d(g,!0);p(g);var L=i(g,2);{let n=m(()=>u.data.protocol.exports?.images.mtime),r=m(()=>t(o)(369)),a=m(()=>t(o)(370));Jt(L,{get definitions(){return u.data.metadataDefinitions},get key(){return t(n)},get help(){return t(r)},get"no-metadata"(){return t(a)}})}var J=i(L,2),G=d(J,!0);p(J);var A=i(J,2);yt(A,{get tree(){return u.data.initialTree},editable:!0,onedit:q});var N=i(A,2);{const n=r=>{var a=Tt(),e=d(a);e.textContent="{{ comme_ceci }}",p(a),l(r,a)};var K=d(N);{let r=m(()=>[n]),a=m(()=>t(o).c(260));j(K,{get t(){return t(r)},get x(){return t(a)}})}p(N)}var R=i(N,2);{const n=(r,a=vt)=>{var e=Mt(),s=d(e,!0);p(e),S(_=>c(s,_),[()=>t(o).x(a())]),l(r,e)};var Q=d(R);{let r=m(()=>[n]),a=m(()=>t(o).c(261));j(Q,{get t(){return t(r)},get x(){return t(a)},a:["{{}}"]})}p(R)}var T=i(R,2),U=d(T,!0);p(T);var M=i(T,2),P=d(M);{const n=e=>{var s=Pt();l(e,s)},r=e=>{var s=$t();l(e,s)},a=e=>{var s=kt();l(e,s)};var V=d(P);{let e=m(()=>[n,r,a]),s=m(()=>t(o).c(263));j(V,{get t(){return t(e)},get x(){return t(s)},a:["{{ observation }}","{{ observation.label }}","{{ observation.protocolMetadata.species.confidence }}"]})}p(P)}var $=i(P,2),W=d($,!0);p($);var k=i($,2);{const n=e=>{var s=Ct();l(e,s)},r=e=>{var s=Et();l(e,s)},a=e=>{var s=Ht();l(e,s)};var X=d(k);{let e=m(()=>[n,r,a]),s=m(()=>t(o).c(263));j(X,{get t(){return t(e)},get x(){return t(s)},a:["{{ image }}","{{ image.filename }}","{{ image.protocolMetadata.shoot_date.value }}"]})}p(k)}var C=i(k,2),Y=d(C,!0);p(C);var D=i(C,2);D.textContent="{{ sequence }}";var E=i(D,2),tt=d(E,!0);p(E);var I=i(E,2);I.textContent="{{ numberInObservation }}";var H=i(I,2),et=d(H,!0);p(H);var at=i(H,2);ft(at,17,()=>qt(ct),([n,{documentation:r,usage:a}])=>n,(n,r)=>{var a=m(()=>gt(t(r),2));let e=()=>t(a)[1].documentation,s=()=>t(a)[1].usage;const _=m(()=>{const[it,dt]=s().split("->").map(pt=>pt.trim());return{call:it,result:dt}});var b=Lt(),x=ut(b),Z=d(x,!0),st=i(Z,2);p(x);var z=i(x,2),nt=d(z,!0);p(z),S(()=>{c(Z,t(_).call),c(st,` â†’ ${t(_).result??""}`),c(nt,e())}),l(n,b)}),p(M);var rt=i(M,2);{var ot=n=>{var r=At(),a=d(r,!0);p(r),S(e=>c(a,e),[()=>JSON.stringify(B.Protocol.state.find(e=>e.id===u.data.protocol.id)?.exports,null,2)]),l(n,r)};bt(rt,n=>{Ot().showTechnicalMetadata&&n(ot)})}p(f),S((n,r,a,e,s,_,b,x)=>{c(y,n),c(F,r),c(G,a),c(U,e),c(W,s),c(Y,_),c(tt,b),c(et,x)},[()=>t(o)(367),()=>t(o)(368),()=>t(o)(371),()=>t(o)(262),()=>t(o)(264),()=>t(o)(265),()=>t(o)(355),()=>t(o)(266)]),ht(1,f,()=>xt,()=>({duration:100})),l(O,f),lt()}export{oe as component,re as universal};
