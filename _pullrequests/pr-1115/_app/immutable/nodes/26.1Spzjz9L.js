import"../chunks/DsnmJJEf.js";import{f as Ve,a as r,p as Se,I as f,F as w,ak as v,g as e,K as l,ai as re,H as T,D as j,J as ge,b as Ge,u as n,M as We,aF as Je,G as ye,aG as Ne,an as Ke,am as Be}from"../chunks/Dt6m180S.js";import{s as F}from"../chunks/BqMK6M8M.js";import{a as Ae}from"../chunks/CWyL6lkj.js";import{r as Pe,i as m,s as Qe}from"../chunks/cmrSGx3m.js";import{c as Xe}from"../chunks/BptB6vFW.js";import{a as Ce,f as Re}from"../chunks/DM93I2Od.js";import{a as Te,c as xe,s as we,b as He,d as Ye}from"../chunks/CoW7fDOc.js";import{G as Ze,b as qe,t as Ue,J as et,u as tt,C as rt,z as at}from"../chunks/h9n_zjAt.js";import{C as st}from"../chunks/BpKhbQBB.js";import{T as je}from"../chunks/R0mQKJZB.js";import{p as Me}from"../chunks/BQgdUy12.js";import{B as ze}from"../chunks/cTmsNnlM.js";import{B as ot}from"../chunks/BLmbeBA7.js";import{F as nt}from"../chunks/DwPLocwb.js";import{E as lt,F as vt}from"../chunks/B07Li1wJ.js";import{I as it}from"../chunks/DRBqBfVL.js";import{L as dt}from"../chunks/CJbDBvUJ.js";import{L as _t}from"../chunks/DJljq93Y.js";import{h as pt}from"../chunks/BgPK52sz.js";import{e as ft,d as ut,b as ct}from"../chunks/C0SiBqD8.js";import{u as me}from"../chunks/B5pl0uZM.js";import{e as he,i as De}from"../chunks/Bmx3KKup.js";import{A as gt}from"../chunks/DkZwE8qq.js";import{A as mt}from"../chunks/BuG2oAVv.js";import{D as ht}from"../chunks/C0se_-sl.js";import{P as xt}from"../chunks/D6Oa7EoC.js";import{B as wt}from"../chunks/BAG1AaOD.js";import{r as Ie}from"../chunks/CoCzgeuV.js";import{R as ie}from"../chunks/CH5FdpMr.js";var yt=Ve('<svg><path fill="currentColor" d="m3.515 2.1l19.092 19.092l-1.415 1.415l-2.014-2.015A6 6 0 0 1 17 21H7A6 6 0 0 1 5.008 9.339a7 7 0 0 1 .353-2.563L2.1 3.514zM7 9q0 .122.006.243l.07 1.488l-1.404.494A4.002 4.002 0 0 0 7 19h10q.28 0 .548-.037L7.03 8.445Q7 8.718 7 9m5-7a7 7 0 0 1 6.992 7.339a6.003 6.003 0 0 1 3.212 8.65l-1.493-1.494a3.999 3.999 0 0 0-5.207-5.206L14.01 9.796A6 6 0 0 1 17 9a5 5 0 0 0-7.876-4.09l-1.43-1.43A6.97 6.97 0 0 1 12 2"></path></svg>');function bt(le,c){const s=Pe(c,["$$slots","$$events","$$legacy"]);var i=yt();Te(i,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...s})),r(le,i)}var Ee,Fe;function kt(){if(Fe)return Ee;Fe=1;var le={diffString:function(c,s){var i=this.diff(c.split(/\s+/),s.split(/\s+/)),y=[],t=0,b=0,B,a=c.match(/\s+/g);a==null?a=[""]:a.push("");var q=s.match(/\s+/g);for(q==null?q=[""]:q.push("");t<i.o.length||b<i.n.length;){for(B={remove:"",add:""};t<i.o.length&&i.o[t].text==null;)B.remove+=i.o[t]+a[t],t++;for(;b<i.n.length&&i.n[b].text==null;)B.add+=i.n[b]+q[b],b++;for((B.add||B.remove)&&y.push(B),B={text:""};t<i.o.length&&b<i.n.length&&i.o[t].text!=null&&i.n[b].text!=null;)B.text+=i.o[t].text+a[t],t++,b++;B.text&&y.push(B)}return y},diff:function(c,s){for(var i=new Object,y=new Object,t=0;t<s.length;t++)i[s[t]]==null&&(i[s[t]]={rows:new Array,o:null}),i[s[t]].rows.push(t);for(var t=0;t<c.length;t++)y[c[t]]==null&&(y[c[t]]={rows:new Array,n:null}),y[c[t]].rows.push(t);for(var t in i)i[t].rows.length==1&&typeof y[t]<"u"&&y[t].rows.length==1&&(s[i[t].rows[0]]={text:s[i[t].rows[0]],row:y[t].rows[0]},c[y[t].rows[0]]={text:c[y[t].rows[0]],row:i[t].rows[0]});for(var t=0;t<s.length-1;t++)s[t].text!=null&&s[t+1].text==null&&s[t].row+1<c.length&&c[s[t].row+1].text==null&&s[t+1]==c[s[t].row+1]&&(s[t+1]={text:s[t+1],row:s[t].row+1},c[s[t].row+1]={text:c[s[t].row+1],row:t+1});for(var t=s.length-1;t>0;t--)s[t].text!=null&&s[t-1].text==null&&s[t].row>0&&c[s[t].row-1].text==null&&s[t-1]==c[s[t].row-1]&&(s[t-1]={text:s[t-1],row:s[t].row-1},c[s[t].row-1]={text:c[s[t].row-1],row:t-1});return{o:c,n:s}}};return Ee=le,Ee}var $t=kt();const jt=Ze($t);var zt=Ve('<svg><path fill="currentColor" d="m8.369 12l4.747-8.968l1.768.936L10.632 12l4.252 8.032l-1.768.936z"></path></svg>');function Et(le,c){const s=Pe(c,["$$slots","$$events","$$legacy"]);var i=zt();Te(i,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...s})),r(le,i)}var At=Ve('<svg><path fill="currentColor" d="m15.632 12l-4.748-8.968l-1.768.936L13.368 12l-4.252 8.032l1.768.936z"></path></svg>');function Ct(le,c){const s=Pe(c,["$$slots","$$events","$$legacy"]);var i=At();Te(i,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...s})),r(le,i)}const Rt=(le,c=ge)=>{var s=j(),i=w(s);he(i,17,c,De,(y,t)=>{var b=j(),B=w(b);{var a=G=>{var U=Yt(),Y=v(U,!0);l(U),T(()=>F(Y,e(t).text)),r(G,U)},q=G=>{var U=tr(),Y=w(U);{var Z=g=>{var z=Zt(),$=v(z,!0);l(z),T(()=>F($,e(t).remove)),r(g,z)};m(Y,g=>{e(t).remove&&g(Z)})}var ae=re(Y,2);{var se=g=>{var z=er(),$=v(z,!0);l(z),T(()=>F($,e(t).add)),r(g,z)};m(ae,g=>{e(t).add&&g(se)})}r(G,U)};m(B,G=>{e(t).text?G(a):G(q,!1)})}r(y,b)}),r(le,s)};var Mt=f('<span class="separator svelte-dmhzg9" aria-hidden="true"><!></span>'),Dt=f("<a> </a>"),Vt=f("<a> </a>"),Pt=f("<span> </span>"),Tt=f("<span> </span>"),Lt=f('<span class="index"><!></span>'),Ot=f("<span> </span>"),Bt=f("<!> <!>",1),It=f('<span class="root">/</span>'),Ft=f('<div class="string url svelte-dmhzg9"> <!></div>'),St=f("<span><!></span>"),Gt=f('<span class="number svelte-dmhzg9"> </span>'),Ht=f('<span class="boolean svelte-dmhzg9"> </span>'),qt=f('<span class="null svelte-dmhzg9">null</span>'),Ut=f("<li><!></li>"),Wt=f('<ul class="array svelte-dmhzg9"></ul>'),Jt=f('<div class="array empty svelte-dmhzg9"> </div>'),Nt=f('<dt class="key svelte-dmhzg9"> </dt> <dd class="svelte-dmhzg9"><!></dd>',1),Kt=f("<dl></dl>"),Qt=f('<span class="undefined">undefined</span>'),Xt=f('<span class="unknown"> </span>'),Yt=f("<span> </span>"),Zt=f('<span class="removed svelte-dmhzg9"> </span>'),er=f('<span class="added svelte-dmhzg9"> </span>'),tr=f("<!> <!>",1),rr=f('<dl class="changed"><dt class="svelte-dmhzg9"><!></dt> <dd class="svelte-dmhzg9"><!></dd> <dt class="svelte-dmhzg9"><!></dt> <dd class="svelte-dmhzg9"><!></dd></dl>'),ar=f('<dt><div class="icon svelte-dmhzg9"><!></div> <div class="path svelte-dmhzg9"><!></div></dt> <dd><!></dd>',1),sr=f("<dl></dl>");function or(le,c){Se(c,!0);const s=(B,a=ge,q)=>{let G=We(()=>Je(q?.(),void 0));const U=n(()=>a()[0]==="metadata"?Ue.Metadata.getFromState(a()[1].toString()):void 0),Y=n(()=>e(U)&&a()[2]==="options"&&e(G)?tt("MetadataOption",rt(e(U).id,e(G))):void 0);var Z=j(),ae=w(Z);he(ae,17,a,De,(se,g,z)=>{var $=Bt(),D=w($);{var W=p=>{var o=Mt(),E=v(o);mt(E,{}),l(o),r(p,o)};m(D,p=>{z>0&&p(W)})}var oe=re(D,2);{var ee=p=>{const o=n(()=>et(e(U).id));var E=j(),Q=w(E);{var I=d=>{var V=Dt(),te=v(V,!0);l(V),T((H,N)=>{we(V,"title",H),we(V,"href",N),F(te,e(U).label||e(o).id)},[()=>e(y)(296),()=>Ie("/(app)/protocols/[id]/metadata/[metadata]",{id:e(o).namespace??Me.params.id??"",metadata:e(o).id})]),r(d,V)},k=d=>{var V=j(),te=w(V);{var H=P=>{var X=j(),de=w(X);Ae(de,()=>e(Y),null,(ne,L)=>{var R=j(),K=w(R);{var O=_=>{var u=Vt(),x=v(u,!0);l(u),T((C,A)=>{we(u,"title",C),we(u,"href",A),F(x,e(L).label||e(L).key)},[()=>e(y)(297),()=>Ie("/(app)/protocols/[id]/metadata/[metadata]/options/[option]",{id:e(o).namespace??Me.params.id??"",metadata:e(o).id,option:e(L).key})]),r(_,u)},h=_=>{var u=Pt(),x=v(u,!0);l(u),T(()=>F(x,e(g))),r(_,u)};m(K,_=>{e(L)?_(O):_(h,!1)})}r(ne,R)}),r(P,X)},N=P=>{var X=Tt(),de=v(X,!0);l(X),T(()=>F(de,e(g))),r(P,X)};m(te,P=>{z===3&&e(Y)?P(H):P(N,!1)},!0)}r(d,V)};m(Q,d=>{z===1&&typeof e(g)=="string"?d(I):d(k,!1)})}r(p,E)},J=p=>{var o=j(),E=w(o);{var Q=k=>{var d=Lt(),V=v(d);{let te=n(()=>e(y).c(298)),H=n(()=>[e(g)+1]);ie(V,{get x(){return e(te)},get a(){return e(H)}})}l(d),r(k,d)},I=k=>{var d=Ot(),V=v(d,!0);l(d),T(()=>F(V,e(g))),r(k,d)};m(E,k=>{typeof e(g)=="number"?k(Q):k(I,!1)},!0)}r(p,o)};m(oe,p=>{e(U)?p(ee):p(J,!1)})}r(se,$)},se=>{var g=It();r(se,g)}),r(B,Z)},i=(B,a=ge)=>{var q=j(),G=w(q);{var U=Z=>{var ae=Ft(),se=v(ae),g=re(se);{let z=n(()=>e(y)(299));wt(g,{get help(){return e(z)},onclick:()=>window.open(a(),"_blank","noopener"),children:($,D)=>{lt($,{})},$$slots:{default:!0}})}l(ae),T(()=>F(se,`${a()??""} `)),r(Z,ae)},Y=Z=>{var ae=j(),se=w(ae);{var g=$=>{var D=St();let W;var oe=v(D);{var ee=p=>{var o=ye();T(E=>F(o,E),[()=>e(y)(300)]),r(p,o)},J=p=>{var o=ye();T(()=>F(o,a())),r(p,o)};m(oe,p=>{a().length===0?p(ee):p(J,!1)})}l(D),T(()=>W=xe(D,1,"string svelte-dmhzg9",null,W,{empty:a().length===0})),r($,D)},z=$=>{var D=j(),W=w(D);{var oe=J=>{var p=Gt(),o=v(p,!0);l(p),T(()=>F(o,a())),r(J,p)},ee=J=>{var p=j(),o=w(p);{var E=I=>{var k=Ht(),d=v(k,!0);l(k),T(()=>F(d,a()?"true":"false")),r(I,k)},Q=I=>{var k=j(),d=w(k);{var V=H=>{var N=qt();r(H,N)},te=H=>{var N=j(),P=w(N);{var X=ne=>{var L=j(),R=w(L);{var K=h=>{var _=Wt();he(_,21,a,De,(u,x)=>{var C=Ut(),A=v(C);i(A,()=>e(x)),l(C),r(u,C)}),l(_),r(h,_)},O=h=>{var _=Jt(),u=v(_,!0);l(_),T(x=>F(u,x),[()=>e(y)(300)]),r(h,_)};m(R,h=>{a().length>0?h(K):h(O,!1)})}r(ne,L)},de=ne=>{var L=j(),R=w(L);{var K=h=>{var _=Kt();let u;he(_,21,()=>ft(a()),([x,C])=>x,(x,C)=>{var A=n(()=>Ne(e(C),2));let M=()=>e(A)[0],S=()=>e(A)[1];var ve=Nt(),_e=w(ve),pe=v(_e,!0);l(_e);var fe=re(_e,2),ue=v(fe);i(ue,S),l(fe),T(()=>F(pe,M())),r(x,ve)}),l(_),T(x=>u=xe(_,1,"object svelte-dmhzg9",null,u,x),[()=>({nested:Object.values(a()).some(x=>typeof x=="object"&&x!==null)})]),r(h,_)},O=h=>{var _=j(),u=w(_);{var x=A=>{var M=Qt();r(A,M)},C=A=>{var M=Xt(),S=v(M,!0);l(M),T(()=>F(S,a())),r(A,M)};m(u,A=>{typeof a()>"u"?A(x):A(C,!1)},!0)}r(h,_)};m(R,h=>{typeof a()=="object"?h(K):h(O,!1)},!0)}r(ne,L)};m(P,ne=>{Array.isArray(a())?ne(X):ne(de,!1)},!0)}r(H,N)};m(d,H=>{a()===null?H(V):H(te,!1)},!0)}r(I,k)};m(o,I=>{typeof a()=="boolean"?I(E):I(Q,!1)},!0)}r(J,p)};m(W,J=>{typeof a()=="number"?J(oe):J(ee,!1)},!0)}r($,D)};m(se,$=>{typeof a()=="string"?$(g):$(z,!1)},!0)}r(Z,ae)};m(G,Z=>{typeof a()=="string"&&URL.canParse(a())?Z(U):Z(Y,!1)})}r(B,q)},y=n(()=>He("main")),t=qe({value:{key:"string | number"}});var b=sr();he(b,21,()=>c.changes,B=>B.path.join("."),(B,a)=>{var q=ar(),G=w(q);let U;var Y=v(G),Z=v(Y);{var ae=o=>{ht(o,{})},se=o=>{var E=j(),Q=w(E);{var I=d=>{gt(d,{})},k=d=>{xt(d,{})};m(Q,d=>{e(a).type==="CREATE"?d(I):d(k,!1)},!0)}r(o,E)};m(Z,o=>{e(a).type==="REMOVE"?o(ae):o(se,!1)})}l(Y);var g=re(Y,2),z=v(g);{var $=o=>{s(o,()=>e(a).path,()=>e(a).value.key)},D=o=>{s(o,()=>e(a).path)};m(z,o=>{t.allows(e(a))?o($):o(D,!1)})}l(g),l(G);var W=re(G,2);let oe;var ee=v(W);{var J=o=>{i(o,()=>e(a).value)},p=o=>{var E=j(),Q=w(E);{var I=d=>{i(d,()=>e(a).oldValue)},k=d=>{var V=j(),te=w(V);{var H=P=>{{let X=n(()=>jt.diffString(e(a).oldValue,e(a).value));Rt(P,()=>e(X))}},N=P=>{var X=j(),de=w(X);{var ne=L=>{var R=rr(),K=v(R);{const M=S=>{Et(S,{})};var O=v(K);{let S=n(()=>[M]),ve=n(()=>e(y).c(294));ie(O,{get t(){return e(S)},get x(){return e(ve)}})}l(K)}var h=re(K,2),_=v(h);i(_,()=>e(a).oldValue),l(h);var u=re(h,2);{const M=S=>{Ct(S,{})};var x=v(u);{let S=n(()=>[M]),ve=n(()=>e(y).c(295));ie(x,{get t(){return e(S)},get x(){return e(ve)}})}l(u)}var C=re(u,2),A=v(C);i(A,()=>e(a).value),l(C),l(R),r(L,R)};m(de,L=>{e(a).type==="CHANGE"&&L(ne)},!0)}r(P,X)};m(te,P=>{e(a).type==="CHANGE"&&typeof e(a).oldValue=="string"&&typeof e(a).value=="string"?P(H):P(N,!1)},!0)}r(d,V)};m(Q,d=>{e(a).type==="REMOVE"?d(I):d(k,!1)},!0)}r(o,E)};m(ee,o=>{e(a).type==="CREATE"?o(J):o(p,!1)})}l(W),T(()=>{U=xe(G,1,"svelte-dmhzg9",null,U,{"removed-key":e(a).type==="REMOVE","added-key":e(a).type==="CREATE","changed-key":e(a).type==="CHANGE"}),oe=xe(W,1,"svelte-dmhzg9",null,oe,{removed:e(a).type==="REMOVE","removed-value":e(a).type==="REMOVE","added-value":e(a).type==="CREATE"})}),r(B,q)}),l(b),Ce(1,b,()=>Re),r(le,b),Ge()}var nr=f("<strong><!></strong>"),lr=f('<div class="action svelte-1cdpxjs"><!></div>'),vr=f('<div class="upgrade-check notice svelte-1cdpxjs"><!></div>'),ir=f('<div class="action svelte-1cdpxjs"><!></div>'),dr=f('<div class="upgrade-check warning svelte-1cdpxjs"><!></div>'),_r=f('<div class="upgrade-check ok svelte-1cdpxjs"><!></div>'),pr=f('<div class="upgrade-check warning svelte-1cdpxjs"><!></div>'),fr=f('<div class="upgrade-check loading svelte-1cdpxjs"><!></div>'),ur=f('<div class="action svelte-1cdpxjs"><!></div>'),cr=f('<div class="upgrade-check warning svelte-1cdpxjs"><!></div>'),gr=f('<span class="differences-count svelte-1cdpxjs"> </span>'),mr=f('<div class="loading svelte-1cdpxjs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <div class="text"><p> </p> <code> </code></div></div>'),hr=f('<section class="changes-with-remote svelte-1cdpxjs"><h3 class="svelte-1cdpxjs"><!></h3> <!></section>'),xr=f('<main class="svelte-1cdpxjs"><h2> </h2> <!> <!> <!></main>');function Xr(le,c){Se(c,!0);const s=n(()=>He("main")),i=n(()=>typeof c.data.source=="string"?c.data.source:c.data.source?.url);let y=n(()=>c.data.version),t=n(()=>c.data.id),b=Ke({hasMore:!1,changes:[],progress:0,get loading(){return this.progress>.02&&this.progress<1}});async function B(){const{changes:g,dirty:z}=await Me.data.swarpc.diffProtocolWithRemote.once({protocolId:e(t)},$=>{b.progress=$});return b.hasMore=g.length>100,b.changes=g.slice(0,100),b.progress=1,await Ue.Protocol.update(e(t),"dirty",z),b.changes}const a={checking:"",upgrading:"Mise à jour...",uptodate:"",available:"Mise à jour disponible",error:"Erreur lors de la mise à jour"};var q=xr(),G=v(q),U=v(G,!0);l(G);var Y=re(G,2);{let g=n(()=>e(s)(285)),z=n(()=>e(i)??""),$=n(()=>me((D,W)=>{W?D.source=W:delete D.source}));vt(Y,{check:!0,get label(){return e(g)},get value(){return e(z)},get onblur(){return e($)}})}var Z=re(Y,2);{const g=$=>{var D=j(),W=w(D);{var oe=ee=>{var J=j(),p=w(J);Ae(p,()=>pt({version:e(y),source:e(i),id:e(t)}),null,(o,E)=>{var Q=n(()=>{var{upToDate:N,newVersion:P}=e(E);return{upToDate:N,newVersion:P}}),I=n(()=>e(Q).upToDate),k=n(()=>e(Q).newVersion),d=j(),V=w(d);{var te=N=>{var P=vr();{const de=R=>{bt(R,{})},ne=(R,K=ge)=>{var O=nr(),h=v(O);{let _=n(()=>[e(k)]);ie(h,{get x(){return K()},n:!0,get a(){return e(_)}})}l(O),r(R,O)},L=(R,K=ge)=>{var O=lr(),h=v(O);{let _=n(()=>me(u=>{u.version=e(k)}));ze(h,{get onclick(){return e(_)},children:(u,x)=>{Be();var C=ye();T(A=>F(C,A),[()=>e(s).x(K())]),r(u,C)},$$slots:{default:!0}})}l(O),r(R,O)};var X=v(P);{let R=n(()=>[de,ne,L]),K=n(()=>e(s).c(348));ie(X,{get t(){return e(R)},get x(){return e(K)}})}l(P)}r(N,P)},H=N=>{var P=j(),X=w(P);{var de=L=>{var R=j(),K=w(R);Ae(K,B,O=>{var h=fr();{const u=x=>{dt(x,{get progress(){return b.progress}})};var _=v(h);{let x=n(()=>[u]),C=n(()=>e(s).c(289));ie(_,{get t(){return e(x)},get x(){return e(C)}})}l(h)}r(O,h)},(O,h)=>{var _=j(),u=w(_);{var x=A=>{var M=dr();{const ve=pe=>{je(pe,{})},_e=(pe,fe=ge)=>{var ue=ir(),be=v(ue);{let ke=n(()=>me(ce=>{ce.version=e(y)+1,close?.()}));ze(be,{get onclick(){return e(ke)},children:(ce,Le)=>{{let $e=n(()=>[e(y)+1]);ie(ce,{get x(){return fe()},n:!0,get a(){return e($e)}})}},$$slots:{default:!0}})}l(ue),r(pe,ue)};var S=v(M);{let pe=n(()=>[ve,_e]),fe=n(()=>e(s).c(349));ie(S,{get t(){return e(pe)},get x(){return e(fe)}})}l(M)}r(A,M)},C=A=>{var M=_r();{const ve=_e=>{st(_e,{})};var S=v(M);{let _e=n(()=>[ve]),pe=n(()=>e(s).c(288));ie(S,{get t(){return e(_e)},get x(){return e(pe)}})}l(M)}r(A,M)};m(u,A=>{e(h).length>0?A(x):A(C,!1)})}r(O,_)},(O,h)=>{var _=pr();{const x=C=>{je(C,{})};var u=v(_);{let C=n(()=>[x]),A=n(()=>e(s).c(290)),M=n(()=>[e(h).message]);ie(u,{get t(){return e(C)},get x(){return e(A)},get a(){return e(M)}})}l(_)}r(O,_)}),r(L,R)},ne=L=>{var R=cr();{const O=_=>{je(_,{})},h=_=>{var u=ur(),x=v(u);{const C=(M,S)=>{let ve=()=>S?.().state,_e=()=>S?.().help,pe=()=>S?.().onclick;const fe=n(()=>a[ve()]);var ue=j(),be=w(ue);{var ke=ce=>{{let Le=n(()=>ve()==="upgrading");ze(ce,{get disabled(){return e(Le)},get help(){return _e()},get onclick(){return pe()},children:($e,wr)=>{Be();var Oe=ye();T(()=>F(Oe,e(fe))),r($e,Oe)},$$slots:{default:!0}})}};m(be,ce=>{e(fe)&&ce(ke)})}r(M,ue)};let A=n(()=>me((M,S)=>{M.version=S}));ot(x,Qe(()=>({id:e(t),version:e(y),source:e(i)}),{get onupgrade(){return e(A)},button:C,$$slots:{button:!0}}))}l(u),r(_,u)};var K=v(R);{let _=n(()=>[O,h]),u=n(()=>e(s).c(291)),x=n(()=>[e(k)]);ie(K,{get t(){return e(_)},get x(){return e(u)},get a(){return e(x)}})}l(R)}r(L,R)};m(X,L=>{e(I)?L(de):L(ne,!1)},!0)}r(N,P)};m(V,N=>{e(y)>e(k)?N(te):N(H,!1)})}r(o,d)}),r(ee,J)};m(W,ee=>{e(i)&&e(y)&&ee(oe)})}r($,D)};let z=n(()=>e(s)(286));nt(Z,{get label(){return e(z)},hint:g,children:($,D)=>{{let W=n(()=>e(s)(287)),oe=n(()=>qe("string.integer.parse")),ee=n(()=>e(y)?.toString()??""),J=n(()=>me((p,o)=>{o!==void 0?p.version=o:delete p.version}));it($,{monospace:!0,get label(){return e(W)},get Type(){return e(oe)},get value(){return e(ee)},get onblur(){return e(J)}})}}})}var ae=re(Z,2);{var se=g=>{const z=n(()=>{const{changes:p,hasMore:o}=b;return{changes:p,hasMore:o}});var $=hr(),D=v($);{const p=o=>{var E=j(),Q=w(E);{var I=k=>{var d=gr();let V;var te=v(d);l(d),T(H=>{V=Ye(d,"",V,H),F(te,`${e(z).changes.length??""}${e(z).hasMore?"+":""}`)},[()=>({color:ut(ct(e(z).changes.length/20,0,1),"fg-neutral","fg-warning","fg-error")})]),r(k,d)};m(Q,k=>{b.progress>=1&&k(I)})}r(o,E)};var W=v(D);{let o=n(()=>[p]),E=n(()=>e(s).c(292));ie(W,{get t(){return e(o)},get x(){return e(E)}})}l(D)}var oe=re(D,2);{var ee=p=>{var o=mr(),E=v(o);Xe(E,()=>({"--size":"5rem"})),_t(E.lastChild,{get drawpercent(){return b.progress}}),l(E);var Q=re(E,2),I=v(Q),k=v(I,!0);l(I);var d=re(I,2),V=v(d,!0);l(d),l(Q),l(o),T((te,H)=>{F(k,te),F(V,H)},[()=>e(s)(293),()=>at(b.progress)]),Ce(1,o,()=>Re,()=>({duration:100})),r(p,o)},J=p=>{or(p,{get changes(){return e(z).changes}})};m(oe,p=>{b.progress<1?p(ee):p(J,!1)})}l($),r(g,$)};m(ae,g=>{e(y)!==void 0&&(b.changes.length>0||b.loading)&&g(se)})}l(q),T(g=>F(U,g),[()=>e(s)(284)]),Ce(1,q,()=>Re,()=>({duration:100})),r(le,q),Ge()}export{Xr as component};
