import{e as da}from"../chunks/CTlA2v4V.js";import{n as va,d as ca,t as ma,a as pa,v as ua,r as k,w as fa,x as ha}from"../chunks/h9n_zjAt.js";import"../chunks/C0SiBqD8.js";import{m as _a}from"../chunks/BHxAX_Yx.js";import"../chunks/DsnmJJEf.js";import{f as ga,a as x,p as ba,I as C,J as z,H as y,b as ja,g as a,u as v,ak as t,ai as o,K as e,am as xa,G as $a,M as G,aF as J}from"../chunks/Dt6m180S.js";import{s as j}from"../chunks/BqMK6M8M.js";import{s as ya}from"../chunks/BEu91mT_.js";import{r as Ia,i as U}from"../chunks/cmrSGx3m.js";import{c as Ma}from"../chunks/BV68B1uN.js";import{a as wa,f as Ha}from"../chunks/DM93I2Od.js";import{a as Ta,t as Sa}from"../chunks/C3lM_sxf.js";import{a as ka,s as za,c as Y,b as Ca}from"../chunks/CoW7fDOc.js";import{I as Oa}from"../chunks/C3qGf-D7.js";import{L as Ra}from"../chunks/C5mmvBok.js";import{S as Fa}from"../chunks/DI3RhD0J.js";import{p as Q}from"../chunks/BQgdUy12.js";import{I as Aa}from"../chunks/B1xj52Zc.js";import{I as Na}from"../chunks/DRBqBfVL.js";import{a as Pa}from"../chunks/JZH0u_ZA.js";import{T as Va}from"../chunks/BJm0yZll.js";import{u as Da}from"../chunks/D1ub2LM2.js";async function Ea({params:u,parent:n,depends:c}){const s=await n(),m=va(s.id,u.metadata);c(ca("Metadata",m));const $=await ma.Metadata.get(m),b=pa("js");$||da(404,b(449,[m,s.id]));const f=await ua().count("MetadataOption",_a(s.id,u.metadata));return{protocol:s,metadata:$,optionsCount:f}}const ft=Object.freeze(Object.defineProperty({__proto__:null,load:Ea},Symbol.toStringTag,{value:"Module"}));var Ka=ga('<svg><path fill="currentColor" d="M10 2a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H8v2h5V9a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-1H8v6h5v-1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-1H7a1 1 0 0 1-1-1V8H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm9 16h-4v2h4zm0-8h-4v2h4zM9 4H5v2h4z"></path></svg>');function La(u,n){const c=Ia(n,["$$slots","$$events","$$legacy"]);var s=Ka();ka(s,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...c})),x(u,s)}var qa=C('<code class="badge svelte-h9jg4i"> </code>'),Ba=C("<a><!> <!></a>"),Ga=C('<div class="header-and-scrollable svelte-h9jg4i"><header class="svelte-h9jg4i"><div class="text svelte-h9jg4i"><span class="supertitle svelte-h9jg4i"> </span> <h2 class="svelte-h9jg4i"><span class="title svelte-h9jg4i"><!></span></h2> <code class="id svelte-h9jg4i"><!></code> <div class="datatype svelte-h9jg4i"><!> </div></div> <nav class="svelte-h9jg4i"><!> <!> <!> <!></nav></header> <div><!></div></div>');function ht(u,n){ba(n,!0);const c=v(()=>Ca("main")),s=v(()=>n.data.metadata),m=v(()=>a(s).id),$=v(()=>a(s).label),b=v(()=>a(s).type);var f=Ga(),I=t(f),M=t(I),w=t(M),W=t(w,!0);e(w);var H=o(w,2),O=t(H),X=t(O);{let i=v(()=>a(c)(222)),r=v(()=>a($)||k(a(m))),p=v(()=>Da(async(h,_)=>{_&&(h.label=_)}));Na(X,{discreet:!0,get help(){return a(i)},get value(){return a(r)},get onblur(){return a(p)}})}e(O),e(H);var T=o(H,2),Z=t(T);{let i=v(()=>a(c)(302));Va(Z,{get text(){return a(i)},children:(r,p)=>{xa();var h=$a();y(_=>j(h,_),[()=>k(a(m))]),x(r,h)},$$slots:{default:!0}})}e(T);var R=o(T,2),F=t(R);Aa(F,{get type(){return a(b)}});var aa=o(F);e(R),e(M);var A=o(M,2);{const i=(r,p=z,h=z,_=z,E)=>{let ra=G(()=>J(E?.(),()=>({}),!0).help),K=G(()=>J(E?.(),()=>({}),!0).count);var g=Ba();let L;var q=t(g);Ma(q,_,(l,d)=>{d(l,{})});var B=o(q),oa=o(B);{var ia=l=>{var d=qa(),na=t(d,!0);e(d),y(la=>j(na,la),[()=>Intl.NumberFormat(Pa().language).format(a(K))]),x(l,d)};U(oa,l=>{a(K)&&l(ia)})}e(g),Ta(g,(l,d)=>Sa?.(l,d),()=>a(ra)),y((l,d)=>{za(g,"href",`#/protocols/${n.data.protocol.id??""}/metadata/${l??""}/${p()??""}`),L=Y(g,1,"svelte-h9jg4i",null,L,d),j(B,` ${h()??""} `)},[()=>k(a(m)),()=>({active:Q.url.hash.includes(`/${p()}`)})]),x(r,g)};var N=t(A);i(N,()=>"infos",()=>"Informations",()=>Oa);var P=o(N,2);{var ta=r=>{i(r,()=>"options",()=>"Options",()=>Ra,()=>({count:n.data.optionsCount}))};U(P,r=>{a(b)==="enum"&&r(ta)})}var V=o(P,2);i(V,()=>"inference",()=>"Inférence",()=>Fa);var ea=o(V,2);i(ea,()=>"cascades",()=>"Cascades",()=>La,()=>({help:"Changer les valeurs d'autres métadonnées en fonction de celle-ci"})),e(A)}e(I);var S=o(I,2);let D;var sa=t(S);ya(sa,()=>n.children),e(S),e(f),y((i,r,p)=>{j(W,i),j(aa,` ${r??""}`),D=Y(S,1,"scrollable svelte-h9jg4i",null,D,p)},[()=>a(c)(301),()=>fa(ha[a(b)].label??""),()=>({padded:!Q.route.id?.includes("/options")})]),wa(1,f,()=>Ha,()=>({duration:100})),x(u,f),ja()}export{ht as component,ft as universal};
