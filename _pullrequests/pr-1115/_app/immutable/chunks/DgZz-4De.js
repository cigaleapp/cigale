import"./DsnmJJEf.js";import{a as re,s as K,d as V,b as ne}from"./CoW7fDOc.js";import{f as ie,a as i,I as p,ak as v,D as L,F as O,g as m,K as l,ai as C,H as j,am as D,G as E,p as $,b as ee,c as N,aj as le,u as Q,al as ce}from"./Dt6m180S.js";import{d as te,s as z,e as ve}from"./BqMK6M8M.js";import{s as X}from"./BEu91mT_.js";import{r as ue,p as H,i as I}from"./cmrSGx3m.js";import{b as fe}from"./jhyMdidl.js";import{C as W,B as de}from"./BAG1AaOD.js";import{c as F}from"./CyxF7S3o.js";import{p as Y}from"./BQgdUy12.js";import{a as Z,s as me,f as _e,t as A}from"./DM93I2Od.js";import{a as ae}from"./CWyL6lkj.js";import{e as he}from"./Bmx3KKup.js";import{c as se}from"./BV68B1uN.js";import{C as ge}from"./BpKhbQBB.js";import{I as ye}from"./C3qGf-D7.js";import{T as be}from"./R0mQKJZB.js";import{B as G}from"./cTmsNnlM.js";import{b as ke}from"./JZH0u_ZA.js";import{j as we}from"./C0SiBqD8.js";var xe=ie('<svg><path fill="currentColor" d="M10.562 4.148a7 7 0 0 1 2.876 0l1.683-1.684l1.414 1.415l-1.05 1.05A7.03 7.03 0 0 1 18.327 8H21v2h-2.07q.07.49.07 1v1h2v2h-2v1q0 .51-.07 1H21v2h-2.674a7 7 0 0 1-12.652 0H3v-2h2.07A7 7 0 0 1 5 15v-1H3v-2h2v-1q0-.51.07-1H3V8h2.674a7.03 7.03 0 0 1 2.84-3.072l-1.05-1.05L8.88 2.465zM12 6a5 5 0 0 0-5 5v4a5 5 0 0 0 10 0v-4a5 5 0 0 0-5-5m-3 8h6v2H9zm0-4h6v2H9z"></path></svg>');function Be(c,e){const u=ue(e,["$$slots","$$events","$$legacy"]);var r=xe();re(r,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...u})),i(c,r)}function oe(c){switch(c){case"info":return ye;case"success":return ge;case"warning":return be;case"error":return W;case"debug":return Be}}function U(c){switch(c){case"info":return"primary";case"success":return"success";case"warning":return"warning";case"error":return"error";case"debug":return"secondary"}}var Ce=p('<button class="svelte-1q6vvua"><!></button>'),qe=p('<article class="toast svelte-1q6vvua"><div class="icon svelte-1q6vvua"><!></div> <p class="svelte-1q6vvua"> </p> <section class="actions svelte-1q6vvua"><!> <!></section></article>');function $e(c,e){const u=H(e,"ondismiss",3,()=>{});var r=qe();let f;var b=v(r),x=v(b);ae(x,()=>oe(e.type),null,(t,n)=>{var w=L(),d=O(w);se(d,()=>m(n),(T,g)=>{g(T,{})}),i(t,w)}),l(b);var k=C(b,2),_=v(k,!0);l(k);var h=C(k,2),o=v(h);{var M=t=>{var n=L(),w=O(n);{var d=g=>{G(g,{get href(){return e.onaction},children:(P,a)=>{D();var s=E();j(()=>z(s,e.action)),i(P,s)},$$slots:{default:!0}})},T=g=>{var P=L(),a=O(P);{var s=y=>{G(y,{get onclick(){return e.onaction},children:(S,Ie)=>{D();var J=E();j(()=>z(J,e.action)),i(S,J)},$$slots:{default:!0}})};I(a,y=>{e.onaction&&y(s)},!0)}i(g,P)};I(w,g=>{e.onaction instanceof URL?g(d):g(T,!1)})}i(t,n)};I(o,t=>{e.action&&t(M)})}var B=C(o,2);{var q=t=>{G(t,{get onclick(){return u()},children:(n,w)=>{D();var d=E();j(()=>z(d,e.dismiss)),i(n,d)},$$slots:{default:!0}})},R=t=>{var n=Ce();n.__click=function(...d){u()?.apply(this,d)};var w=v(n);W(w,{}),l(n),i(t,n)};I(B,t=>{e.dismiss?t(q):t(R,!1)})}l(h),l(r),j(t=>{K(r,"data-type",e.type),f=V(r,"",f,t),z(_,e.message)},[()=>({"--bg":`var(--bg-${U(e.type)??""})`,"--fg":`var(--fg-${U(e.type)??""})`})]),Z(1,r,()=>me,()=>({axis:"y",duration:200})),Z(2,r,()=>_e,()=>({duration:200})),i(c,r)}te(["click"]);var He=p('<li class="svelte-18zhjb0"><!> </li>'),pe=p('<section class="toasts svelte-18zhjb0"><ul class="svelte-18zhjb0"></ul></section>');function Me(c,e){$(e,!0);var u=pe(),r=v(u);he(r,21,()=>A.items(e.pool),f=>f.id,(f,b)=>{var x=He();let k;var _=v(x);ae(_,()=>oe(m(b).type),null,(o,M)=>{var B=L(),q=O(B);se(q,()=>m(M),(R,t)=>{t(R,{})}),i(o,B)});var h=C(_);l(x),j(o=>{k=V(x,"",k,o),z(h,` ${m(b).message??""}`)},[()=>({color:`var(--fg-${U(m(b).type)??""})`})]),i(f,x)}),l(r),l(u),i(c,u),ee()}function et(c){return Object.entries(c.state).some(([e,u])=>e.startsWith("modal_")&&u)}var Pe=p('<section class="toasts svelte-5awcn0"><!></section>'),je=p('<footer class="svelte-5awcn0"><!></footer>'),ze=p('<dialog class="svelte-5awcn0"><header class="svelte-5awcn0"><h1 class="svelte-5awcn0"> </h1> <!></header> <main class="svelte-5awcn0"><!></main> <!> <!></dialog>');function tt(c,e){$(e,!0);const u=Q(()=>ne("main"));let r=H(e,"open",15,void 0),f=H(e,"close",15,void 0),b=H(e,"onclose",3,void 0),x=H(e,"onopen",3,void 0),k=H(e,"footer",3,void 0),_=H(e,"toasts",3,void 0);N(()=>{console.debug(`Binding functions to ${e.key} `),r(()=>{x()?.(),_()&&(A.setCurrentPool(_()),A.clear()),F("",{[e.key]:!0})}),f(()=>{b()?.(),_()&&(A.setCurrentPool("default"),A.clear()),F("",{[e.key]:!1})})});let h=le(void 0);N(()=>{m(h)&&(Y.state[e.key]?m(h).showModal():m(h).close())});var o=ze();o.__mousedown=({target:a,currentTarget:s,offsetX:y,offsetY:S})=>{we({offsetX:y,offsetY:S},s.getBoundingClientRect(),20)||a===s&&f()?.()};let M;var B=v(o),q=v(B),R=v(q,!0);l(q);var t=C(q,2);{let a=Q(()=>m(u)(93));de(t,{get help(){return m(a)},onclick:()=>{f()?.()},children:(s,y)=>{W(s,{})},$$slots:{default:!0}})}l(B);var n=C(B,2),w=v(n);X(w,()=>e.children,()=>({close:f()})),l(n);var d=C(n,2);{var T=a=>{var s=Pe(),y=v(s);Me(y,{get pool(){return _()}}),l(s),i(a,s)};I(d,a=>{_()&&a(T)})}var g=C(d,2);{var P=a=>{var s=je(),y=v(s);X(y,k,()=>({close:f()})),l(s),i(a,s)};I(g,a=>{k()&&a(P)})}l(o),fe(o,a=>ce(h,a),()=>m(h)),j(a=>{K(o,"data-key",e.key),K(o,"aria-hidden",!Y.state[e.key]),M=V(o,"",M,a),z(R,e.title)},[()=>({"color-scheme":ke()})]),ve("close",o,()=>{F("",{[e.key]:!1})}),i(c,o),ee()}te(["mousedown"]);export{Be as B,tt as M,$e as T,et as h,oe as t};
