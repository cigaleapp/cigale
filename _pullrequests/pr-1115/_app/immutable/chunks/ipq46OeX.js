import"./DsnmJJEf.js";import{p as F,I as N,g as D,u as b,ak as H,K as L,a as _,b as k,G as I,H as w,D as z,F as A}from"./Dt6m180S.js";import{s as y}from"./BqMK6M8M.js";import{p as P,r as K,i as X}from"./cmrSGx3m.js";import{a as R,t as j}from"./C3lM_sxf.js";import{a as C}from"./CoW7fDOc.js";import{n as O,f as E}from"./BHxAX_Yx.js";import{K as G,c as p,L as Q,N as U,O as T,P as Y,Q as x}from"./h9n_zjAt.js";import{c as S}from"./DxZSYbgf.js";function q(s){return G(s,Date.now())}function B(s,e,a){const[o,t]=O(a?.in,s,e),i=o.getFullYear()-t.getFullYear(),f=o.getMonth()-t.getMonth();return i*12+f}function J(s){return e=>{const o=(s?Math[s]:Math.trunc)(e);return o===0?0:o}}function V(s,e){return+p(s)-+p(e)}function W(s,e){const a=p(s,e?.in);return a.setHours(23,59,59,999),a}function Z(s,e){const a=p(s,e?.in),o=a.getMonth();return a.setFullYear(a.getFullYear(),o+1,0),a.setHours(23,59,59,999),a}function $(s,e){const a=p(s,e?.in);return+W(a,e)==+Z(a,e)}function tt(s,e,a){const[o,t,i]=O(a?.in,s,s,e),f=S(t,i),n=Math.abs(B(t,i));if(n<1)return 0;t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-f*n);let l=S(t,i)===-f;$(o)&&n===1&&S(o,i)===1&&(l=!1);const m=f*(n-+l);return m===0?0:m}function et(s,e,a){const o=V(s,e)/1e3;return J(a?.roundingMethod)(o)}function nt(s,e,a){const o=Q(),t=a?.locale??o.locale??U,i=2520,f=S(s,e);if(isNaN(f))throw new RangeError("Invalid time value");const n=Object.assign({},a,{addSuffix:a?.addSuffix,comparison:f}),[l,m]=O(a?.in,...f>0?[e,s]:[s,e]),d=et(m,l),c=(T(m)-T(l))/1e3,r=Math.round((d-c)/60);let h;if(r<2)return a?.includeSeconds?d<5?t.formatDistance("lessThanXSeconds",5,n):d<10?t.formatDistance("lessThanXSeconds",10,n):d<20?t.formatDistance("lessThanXSeconds",20,n):d<40?t.formatDistance("halfAMinute",0,n):d<60?t.formatDistance("lessThanXMinutes",1,n):t.formatDistance("xMinutes",1,n):r===0?t.formatDistance("lessThanXMinutes",1,n):t.formatDistance("xMinutes",r,n);if(r<45)return t.formatDistance("xMinutes",r,n);if(r<90)return t.formatDistance("aboutXHours",1,n);if(r<Y){const u=Math.round(r/60);return t.formatDistance("aboutXHours",u,n)}else{if(r<i)return t.formatDistance("xDays",1,n);if(r<x){const u=Math.round(r/Y);return t.formatDistance("xDays",u,n)}else if(r<x*2)return h=Math.round(r/x),t.formatDistance("aboutXMonths",h,n)}if(h=tt(m,l),h<12){const u=Math.round(r/x);return t.formatDistance("xMonths",u,n)}else{const u=h%12,g=Math.trunc(h/12);return u<3?t.formatDistance("aboutXYears",g,n):u<9?t.formatDistance("overXYears",g,n):t.formatDistance("almostXYears",g+1,n)}}function st(s,e){return nt(s,q(s),e)}var at=N("<time><!></time>");function ht(s,e){F(e,!0);const a=P(e,"show",3,"absolute"),o=K(e,["$$slots","$$events","$$legacy","value","show"]),t=b(()=>typeof e.value=="string"?new Date(e.value):e.value),i=b(()=>E(D(t),"PPpp")),f=b(()=>st(D(t),{addSuffix:!0}));var n=at();C(n,c=>({...o,datetime:c}),[()=>D(t).toISOString()]);var l=H(n);{var m=c=>{var r=I();w(()=>y(r,D(i))),_(c,r)},d=c=>{var r=z(),h=A(r);{var u=M=>{var v=I();w(()=>y(v,D(f))),_(M,v)},g=M=>{var v=I();w(()=>y(v,`${D(i)??""} (${D(f)??""})`)),_(M,v)};X(h,M=>{a()=="relative"?M(u):M(g,!1)},!0)}_(c,r)};X(l,c=>{a()==="absolute"?c(m):c(d,!1)})}L(n),R(n,(c,r)=>j?.(c,r),()=>a()==="relative"?D(i):void 0),_(s,n),k()}export{ht as D,st as f};
