import{t as s,n as i,e as m,A as f,d as g}from"./h9n_zjAt.js";import{i as w}from"./CyxF7S3o.js";import{p as a}from"./BQgdUy12.js";import{t as n}from"./DM93I2Od.js";import{g as e}from"./CoW7fDOc.js";function A(o){return e("main"),async d=>{if(!a.params.metadata||!a.params.id)return;const t=await s.Metadata.raw.get(i(a.params.id,a.params.metadata));if(!t)return;const p=structuredClone(t),u=e("main");try{await o(t,d)}catch(r){n.error(u(376,[r instanceof f?r.summary:m(r)]));return}JSON.stringify(p)!==JSON.stringify(t)&&(await s.Metadata.set(t).catch(r=>{const c=e("main");n.error(c(225,[m(r)]))}),await w(g("Metadata",i(a.params.id,a.params.metadata))))}}export{A as u};
