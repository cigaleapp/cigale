import"./DsnmJJEf.js";import"./69_IOA4Y.js";import{o as R}from"./D6d8D7oP.js";import{h as S,i as U,as as W,aY as Z,c as X,A as J,b0 as Y,b1 as $,g as s,b2 as x,aL as tt,p as et,b3 as j,b4 as st,I as O,H as it,a as E,b as lt,ak as q,al as p,X as y,K as G,ao as I,G as at}from"./Dt6m180S.js";import{e as nt}from"./BqMK6M8M.js";import{e as ot}from"./Bmx3KKup.js";import{c as K,d as C}from"./CoW7fDOc.js";import{b as rt}from"./BmoBKd8Q.js";import{b as D}from"./jhyMdidl.js";import{p as T}from"./cmrSGx3m.js";function ft(g,a,i,m,r){S&&U();var t=a.$$slots?.[i],o=!1;t===!0&&(t=a.children,o=!0),t===void 0?r!==null&&r(g):t(g,o?()=>m:m)}function ct(g=!1){const a=W,i=a.l.u;if(!i)return;let m=()=>x(a.s);if(g){let r=0,t={};const o=tt(()=>{let c=!1;const f=a.s;for(const h in f)f[h]!==t[h]&&(t[h]=f[h],c=!0);return c&&r++,r});m=()=>s(o)}i.b.length&&Z(()=>{F(a,m),Y(i.b)}),X(()=>{const r=J(()=>i.m.map($));return()=>{for(const t of r)typeof t=="function"&&t()}}),i.a.length&&X(()=>{F(a,m),Y(i.a)})}function F(g,a){if(g.l.s)for(const i of g.l.s)s(i);a()}var ht=O("<svelte-virtual-list-row><!></svelte-virtual-list-row>",2),vt=O("<svelte-virtual-list-viewport><svelte-virtual-list-contents></svelte-virtual-list-contents></svelte-virtual-list-viewport>",2);function Ht(g,a){et(a,!1);let i=T(a,"items",8),m=T(a,"height",8,"100%"),r=T(a,"itemHeight",8,void 0),t=T(a,"start",12,0),o=T(a,"end",12,0),c=[],f,h=y(),z=y(),L=y(0),N=y(),A=y(),M=y(0),B=y(0),d;async function P(l,u,n){const{scrollTop:v}=s(h);await I();let b=s(M)-v,e=t();for(;b<u&&e<l.length;){let k=f[e-t()];k||(o(e+1),await I(),k=f[e-t()]);const w=c[e]=n||k.offsetHeight;b+=w,e+=1}o(e);const V=l.length-o();d=(s(M)+b)/o(),p(B,V*d),c.length=l.length}async function Q(){const{scrollTop:l}=s(h),u=t();for(let e=0;e<f.length;e+=1)c[t()+e]=r()||f[e].offsetHeight;let n=0,v=0;for(;n<i().length;){const e=c[n]||d;if(v+e>l){t(n),p(M,v);break}v+=e,n+=1}for(;n<i().length&&(v+=c[n]||d,n+=1,!(v>l+s(L))););o(n);const b=i().length-o();for(d=v/o();n<i().length;)c[n++]=d;if(p(B,b*d),t()<u){await I();let e=0,V=0;for(let w=t();w<u;w+=1)f[w-t()]&&(e+=c[w],V+=r()||f[w-t()].offsetHeight);const k=V-e;s(h).scrollTo(0,l+k)}}R(()=>{f=s(z).getElementsByTagName("svelte-virtual-list-row"),p(A,!0)}),j(()=>(x(i()),x(t()),x(o())),()=>{p(N,i().slice(t(),o()).map((l,u)=>({index:u+t(),data:l})))}),j(()=>(s(A),x(i()),s(L),x(r())),()=>{s(A)&&P(i(),s(L),r())}),st(),ct();var _=vt();K(_,1,"svelte-m5no5e");var H=q(_);K(H,1,"svelte-m5no5e"),ot(H,5,()=>s(N),l=>l.index,(l,u)=>{var n=ht();K(n,1,"svelte-m5no5e");var v=q(n);ft(v,a,"default",{get item(){return s(u),J(()=>s(u).data)}},b=>{var e=at("Missing template");E(b,e)}),G(n),E(l,n)}),G(H),D(H,l=>p(z,l),()=>s(z)),G(_),D(_,l=>p(h,l),()=>s(h)),it(()=>{C(_,`height: ${m()??""};`),C(H,`padding-top: ${s(M)??""}px; padding-bottom: ${s(B)??""}px;`)}),rt(_,"offsetHeight",l=>p(L,l)),nt("scroll",_,Q),E(g,_),lt()}export{Ht as V};
