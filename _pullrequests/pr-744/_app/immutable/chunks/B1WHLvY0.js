import"./DsnmJJEf.js";import"./69_IOA4Y.js";import{o as S}from"./CKEs0Y6B.js";import{z as U,A as W,_ as X,aY as Z,k as q,m as K,a_ as C,a$ as $,g as s,b0 as x,aM as tt,p as et,b1 as D,b2 as st,c as O,ab as it,a as L,b as lt,az as F,R as y,i as p,r as N,a9 as R,aa as at}from"./CKFr55HY.js";import{e as nt}from"./BSJa-gCr.js";import{e as ot}from"./BfRwOU-Q.js";import{b as Y,c as G}from"./B0sfP6zc.js";import{b as rt}from"./DcK_9V6s.js";import{b as I}from"./B5L0AQ92.js";import{p as T}from"./BnINZmlg.js";function ft(g,a,i,m,r){U&&W();var t=a.$$slots?.[i],o=!1;t===!0&&(t=a.children,o=!0),t===void 0?r!==null&&r(g):t(g,o?()=>m:m)}function ct(g=!1){const a=X,i=a.l.u;if(!i)return;let m=()=>x(a.s);if(g){let r=0,t={};const o=tt(()=>{let c=!1;const f=a.s;for(const h in f)f[h]!==t[h]&&(t[h]=f[h],c=!0);return c&&r++,r});m=()=>s(o)}i.b.length&&Z(()=>{J(a,m),C(i.b)}),q(()=>{const r=K(()=>i.m.map($));return()=>{for(const t of r)typeof t=="function"&&t()}}),i.a.length&&q(()=>{J(a,m),C(i.a)})}function J(g,a){if(g.l.s)for(const i of g.l.s)s(i);a()}var ht=O("<svelte-virtual-list-row><!></svelte-virtual-list-row>",2),vt=O("<svelte-virtual-list-viewport><svelte-virtual-list-contents></svelte-virtual-list-contents></svelte-virtual-list-viewport>",2);function kt(g,a){et(a,!1);let i=T(a,"items",8),m=T(a,"height",8,"100%"),r=T(a,"itemHeight",8,void 0),t=T(a,"start",12,0),o=T(a,"end",12,0),c=[],f,h=y(),A=y(),z=y(0),j=y(),B=y(),M=y(0),E=y(0),d;async function P(l,_,n){const{scrollTop:v}=s(h);await R();let b=s(M)-v,e=t();for(;b<_&&e<l.length;){let H=f[e-t()];H||(o(e+1),await R(),H=f[e-t()]);const w=c[e]=n||H.offsetHeight;b+=w,e+=1}o(e);const V=l.length-o();d=(s(M)+b)/o(),p(E,V*d),c.length=l.length}async function Q(){const{scrollTop:l}=s(h),_=t();for(let e=0;e<f.length;e+=1)c[t()+e]=r()||f[e].offsetHeight;let n=0,v=0;for(;n<i().length;){const e=c[n]||d;if(v+e>l){t(n),p(M,v);break}v+=e,n+=1}for(;n<i().length&&(v+=c[n]||d,n+=1,!(v>l+s(z))););o(n);const b=i().length-o();for(d=v/o();n<i().length;)c[n++]=d;if(p(E,b*d),t()<_){await R();let e=0,V=0;for(let w=t();w<_;w+=1)f[w-t()]&&(e+=c[w],V+=r()||f[w-t()].offsetHeight);const H=V-e;s(h).scrollTo(0,l+H)}}S(()=>{f=s(A).getElementsByTagName("svelte-virtual-list-row"),p(B,!0)}),D(()=>(x(i()),x(t()),x(o())),()=>{p(j,i().slice(t(),o()).map((l,_)=>({index:_+t(),data:l})))}),D(()=>(s(B),x(i()),s(z),x(r())),()=>{s(B)&&P(i(),s(z),r())}),st(),ct();var u=vt();Y(u,1,"svelte-m5no5e");var k=F(u);Y(k,1,"svelte-m5no5e"),ot(k,5,()=>s(j),l=>l.index,(l,_)=>{var n=ht();Y(n,1,"svelte-m5no5e");var v=F(n);ft(v,a,"default",{get item(){return s(_),K(()=>s(_).data)}},b=>{var e=at("Missing template");L(b,e)}),N(n),L(l,n)}),N(k),I(k,l=>p(A,l),()=>s(A)),N(u),I(u,l=>p(h,l),()=>s(h)),it(()=>{G(u,`height: ${m()??""};`),G(k,`padding-top: ${s(M)??""}px; padding-bottom: ${s(E)??""}px;`)}),rt(u,"offsetHeight",l=>p(z,l)),nt("scroll",u,Q),L(g,u),lt()}export{kt as V};
