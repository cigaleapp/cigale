import"./DsnmJJEf.js";import{o as an,a as sn}from"./CKEs0Y6B.js";import{G as ln,x as cn,bE as un,z as Rt,F as dn,af as fn,at as lr,H as cr,I as ur,B as vn,j as pn,p as be,k as Oe,b as we,e as H,d as C,c as D,az as y,r as w,aA as M,ab as z,g as t,u as m,a as _,aZ as $t,m as hn,n as pe,a4 as gn,s as le,h as Vt,i as E,bC as mn,aa as me,aB as Ee,a9 as _n,f as tt,aY as bn,a7 as wn}from"./CKFr55HY.js";import{p as q,i as G,r as $e,s as dt}from"./BnINZmlg.js";import{e as at}from"./BfRwOU-Q.js";import{s as _e}from"./BnT1n4qy.js";import{_ as je,g as Be,a as Me,s as xe,b as _t,c as Sr,C as yn,r as xn}from"./B0sfP6zc.js";import{w as Cr}from"./CfgHx0iS.js";import{S as $r}from"./JAyE88We.js";import{b as Mn,g as it,a as lt,r as dr}from"./bCylyxMO.js";import{p as Ye}from"./CFsItWt6.js";import{G as kn,v as wt,Q as Pn,R as Sn,J as fr,ag as vr,ah as kt,ai as We,a as Cn,t as Ue,q as $n,z as In}from"./BfjK8oC1.js";import{o as gt,f as Kt}from"./BkWgRosR.js";import{c as On,a as O,m as An,u as Tn,o as ut,d as Yt,e as En}from"./BSJa-gCr.js";import{c as yt}from"./Eu4gtx6U.js";import{K as Dn,a as Ir,t as Or}from"./fs5VanAl.js";import{h as pr,a as Mt,b as Fn,t as Rn,M as Ln,T as Nn}from"./D8CcyO4e.js";import{i as It,s as He,a as Qe}from"./CaMFGYwT.js";import{e as hr,c as Ar,n as qt,A as zn,j as Hn}from"./BmYW83mJ.js";import{g as Ct,e as Kn,h as qn}from"./kBTncvD5.js";import{u as Y}from"./CzznUtHs.js";import{t as Te}from"./C4Cali0V.js";import{b as gr}from"./DcK_9V6s.js";import{R as De}from"./PUfmrO2I.js";import{j as Ot,o as Xt,l as Jt,k as xt,c as se,U as Tr,a0 as Er,Q as Dr,w as et,n as qe,O as Gn,R as Un,E as Fr,S as Qt,a1 as Rr,i as Gt,a2 as ft,a3 as Zt,a4 as jn,a5 as Lr,a6 as Bn,a7 as Wn,C as vt,a8 as Vn,u as pt,g as Nr,V as zr,a as Yn,a9 as Xn,Z as ot,T as Jn,aa as Qn,ab as Zn,ac as eo,m as Ge,ad as to,ae as ro,b as st,f as no,P as oo,d as ao,e as mr,F as so,A as io}from"./DvPbU154.js";import{A as Lt}from"./B6sNxcRK.js";import{C as Hr}from"./B7lodkbW.js";import{B as ct}from"./EISLmZ-s.js";import{B as Ve}from"./B0qXVrpE.js";import{c as Ke}from"./_Ua9-HGN.js";import{s as Ze}from"./BYsmyf-T.js";import{k as lo,B as co}from"./DV4fPt-7.js";import{L as uo}from"./CKTUSNu_.js";import{P as er}from"./De1XvMMn.js";import{a as nt}from"./CRIUswPx.js";import{n as tr,k as fo}from"./qhgpwkM7.js";import{D as vo}from"./CbFuusXn.js";import{d as po}from"./Y12U1EUt.js";import{I as rr,a as ho}from"./D4mJ-AV5.js";import{L as Kr}from"./ChskKCUc.js";import{R as go}from"./1oi2qjKX.js";import{e as mo}from"./6gwctXkp.js";import{A as _o}from"./CnQKqK84.js";import{S as Ut}from"./DhFJ2lNy.js";import{B as jt}from"./BMdCOrlL.js";import{b as bo}from"./B5L0AQ92.js";import{A as wo}from"./uMHR5rlx.js";import{C as yo}from"./BlPHIRxQ.js";import{L as xo}from"./B9ZlnstM.js";import{m as _r}from"./BTVA-Cj2.js";import{e as Mo,s as ko,g as Po,f as So}from"./CJ0dtI1a.js";function Co(r,e){let n=null,o=Rt;var a;if(Rt){n=vn;for(var d=dn(document.head);d!==null&&(d.nodeType!==fn||d.data!==r);)d=lr(d);if(d===null)cr(!1);else{var s=lr(d);d.remove(),ur(s)}}Rt||(a=document.head.appendChild(ln()));try{cn(()=>e(a),un)}finally{o&&(cr(!0),ur(n))}}function $o(r){let e;const n=On(a=>{let d=!1;const s=r.subscribe(i=>{e=i,d&&a()});return d=!0,s});function o(){return pn()?(n(),e):Mo(r)}return"set"in r?{get current(){return o()},set current(a){r.set(a)}}:{get current(){return o()}}}function Io(r){return kn(r,Date.now())}function Oo(r,e,n){const[o,a]=tr(n?.in,r,e),d=o.getFullYear()-a.getFullYear(),s=o.getMonth()-a.getMonth();return d*12+s}function Ao(r){return e=>{const o=(r?Math[r]:Math.trunc)(e);return o===0?0:o}}function To(r,e){return+wt(r)-+wt(e)}function Eo(r,e){const n=wt(r,e?.in);return n.setHours(23,59,59,999),n}function Do(r,e){const n=wt(r,e?.in),o=n.getMonth();return n.setFullYear(n.getFullYear(),o+1,0),n.setHours(23,59,59,999),n}function Fo(r,e){const n=wt(r,e?.in);return+Eo(n,e)==+Do(n,e)}function Ro(r,e,n){const[o,a,d]=tr(n?.in,r,r,e),s=Ct(a,d),i=Math.abs(Oo(a,d));if(i<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-s*i);let f=Ct(a,d)===-s;Fo(o)&&i===1&&Ct(o,d)===1&&(f=!1);const g=s*(i-+f);return g===0?0:g}function Lo(r,e,n){const o=To(r,e)/1e3;return Ao(n?.roundingMethod)(o)}function No(r,e,n){const o=Pn(),a=n?.locale??o.locale??Sn,d=2520,s=Ct(r,e);if(isNaN(s))throw new RangeError("Invalid time value");const i=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:s}),[f,g]=tr(n?.in,...s>0?[e,r]:[r,e]),u=Lo(g,f),c=(fr(g)-fr(f))/1e3,p=Math.round((u-c)/60);let v;if(p<2)return n?.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,i):u<10?a.formatDistance("lessThanXSeconds",10,i):u<20?a.formatDistance("lessThanXSeconds",20,i):u<40?a.formatDistance("halfAMinute",0,i):u<60?a.formatDistance("lessThanXMinutes",1,i):a.formatDistance("xMinutes",1,i):p===0?a.formatDistance("lessThanXMinutes",1,i):a.formatDistance("xMinutes",p,i);if(p<45)return a.formatDistance("xMinutes",p,i);if(p<90)return a.formatDistance("aboutXHours",1,i);if(p<vr){const l=Math.round(p/60);return a.formatDistance("aboutXHours",l,i)}else{if(p<d)return a.formatDistance("xDays",1,i);if(p<kt){const l=Math.round(p/vr);return a.formatDistance("xDays",l,i)}else if(p<kt*2)return v=Math.round(p/kt),a.formatDistance("aboutXMonths",v,i)}if(v=Ro(g,f),v<12){const l=Math.round(p/kt);return a.formatDistance("xMonths",l,i)}else{const l=v%12,h=Math.trunc(v/12);return l<3?a.formatDistance("aboutXYears",h,i):l<9?a.formatDistance("overXYears",h,i):a.formatDistance("almostXYears",h+1,i)}}function zo(r,e){return No(r,Io(r),e)}var Ho=["Shift","Meta","Alt","Control"],qr=typeof navigator=="object"?navigator.platform:"",Gr=/Mac|iPod|iPhone|iPad/.test(qr),Ko=Gr?"Meta":"Control",qo=qr==="Win32"?["Control","Alt"]:Gr?["Alt"]:[];function Bt(r,e){return typeof r.getModifierState=="function"&&(r.getModifierState(e)||qo.includes(e)&&r.getModifierState("AltGraph"))}function Go(r){return r.trim().split(" ").map(function(e){var n=e.split(/\b\+/),o=n.pop(),a=o.match(/^\((.+)\)$/);return a&&(o=new RegExp("^"+a[1]+"$")),[n=n.map(function(d){return d==="$mod"?Ko:d}),o]})}function Uo(r,e){var n=e[0],o=e[1];return!((o instanceof RegExp?!o.test(r.key)&&!o.test(r.code):o.toUpperCase()!==r.key.toUpperCase()&&o!==r.code)||n.find(function(a){return!Bt(r,a)})||Ho.find(function(a){return!n.includes(a)&&o!==a&&Bt(r,a)}))}function jo(r,e){var n;e===void 0&&(e={});var o=(n=e.timeout)!=null?n:1e3,a=Object.keys(r).map(function(i){return[Go(i),r[i]]}),d=new Map,s=null;return function(i){i instanceof KeyboardEvent&&(a.forEach(function(f){var g=f[0],u=f[1],c=d.get(g)||g;Uo(i,c[0])?c.length>1?d.set(g,c.slice(1)):(d.delete(g),u(i)):Bt(i,i.key)||d.delete(g)}),s&&clearTimeout(s),s=setTimeout(d.clear.bind(d),o))}}function Bo(r,e,n){var o={},a=o.event,d=a===void 0?"keydown":a,s=o.capture,i=jo(e,{timeout:o.timeout});return r.addEventListener(d,i,s),function(){r.removeEventListener(d,i,s)}}var Wo=D('<h2 class="svelte-6wpiuz"> </h2>'),Vo=D('<dt class="svelte-6wpiuz"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></dt> <dd class="svelte-6wpiuz"> </dd>',1),Yo=D('<!> <dl class="svelte-6wpiuz"></dl>',1),Xo=D('<dl class="svelte-6wpiuz"><div class="empty svelte-6wpiuz"><div class="sad svelte-6wpiuz"> </div> <p> </p></div></dl>');function Jo(r,e){be(e,!0);const n=m(()=>je(Be("main")));let o=q(e,"openHelp",15),a=q(e,"preventDefault",3,!1);const d=f=>(f instanceof KeyboardEvent||f instanceof MouseEvent)&&(f.target instanceof HTMLInputElement||f.target instanceof HTMLTextAreaElement);Oe(()=>Bo(window,Object.fromEntries(Object.entries(e.binds).flatMap(([f,g])=>{if(f.startsWith("Digit")&&!f.includes(" ")){const u=f.replace("Digit","");return[[f,g],[u,g],[`Shift+${u}`,g]]}return[[f,g]]}).map(([f,g])=>[f,async u=>{if(!g?.allowInModals&&pr(Ye)){console.warn(`a modal is open, ignoring keybinding ${f}`,Ye.state);return}if(d(u)&&!f.startsWith("$mod+")){console.warn(`in input, ignoring keybinding ${f}`,u.target);return}g.when&&!g.when(u)||g.debug&&!It()||(a()&&u.preventDefault(),await g.do(u))}]))));const s=["Recadrage","Observations","Général","Navigation","Debug mode"],i=m(()=>hr(hr(e.binds).reduce((f,[g,u])=>{if(u.hidden||u.debug&&!It())return f;const c=u.group??"Général";return f[c]||(f[c]=[]),f[c].push([g,u]),f},{})).toSorted(([f],[g])=>s.indexOf(f)-s.indexOf(g)));Oe(()=>{const f=g=>{g.key==="?"&&!d(g)&&!pr(Ye)&&o()?.()};return window.addEventListener("keyup",f),()=>window.removeEventListener("keyup",f)});{let f=m(()=>t(n).t(153));Mt(r,{key:"modal_keyboard_shortcuts_help",get title(){return t(f)},get open(){return o()},set open(g){o(g)},children:(g,u)=>{var c=H(),p=C(c);at(p,17,()=>t(i),([v,l])=>v,(v,l,h,b)=>{var x=m(()=>$t(t(l),2));let $=()=>t(x)[0],T=()=>t(x)[1];var I=Yo(),S=C(I);{var k=N=>{var R=Wo(),K=y(R,!0);w(R),z(()=>O(K,$())),_(N,R)};G(S,N=>{t(i).length>=2&&N(k)})}var P=M(S,2);at(P,21,T,([N,{help:R}])=>N,(N,R)=>{var K=m(()=>$t(t(R),2));let B=()=>t(K)[0],ee=()=>t(K)[1].help;var F=Vo(),A=C(F),U=y(A);yt(U,()=>({"--size":"1.2em"})),Dn(U.lastChild,{get shortcut(){return B()},get help(){return ee()}}),w(U),w(A);var Q=M(A,2),ae=y(Q,!0);w(Q),z(()=>O(ae,ee())),_(N,F)}),w(P),_(v,I)},v=>{var l=Xo(),h=y(l),b=y(h),x=y(b,!0);w(b);var $=M(b,2),T=y($,!0);w($),w(h),w(l),z((I,S)=>{O(x,I),O(T,S)},[()=>t(n).t(204),()=>t(n).t(36)]),_(v,l)}),_(g,c)},$$slots:{default:!0}})}we()}function Qo(r){Oe(()=>hn(()=>r()))}function Zo(r){return window.getComputedStyle(r).getPropertyValue("direction")}function ea(r="ltr",e="horizontal"){return{horizontal:r==="rtl"?Jt:Xt,vertical:xt}[e]}function ta(r="ltr",e="horizontal"){return{horizontal:r==="rtl"?Xt:Jt,vertical:Ot}[e]}function ra(r="ltr",e="horizontal"){return["ltr","rtl"].includes(r)||(r="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:ea(r,e),prevKey:ta(r,e)}}function na(r){const e=se(null);function n(){if(!Er)return[];const s=document.getElementById(r.rootNodeId.current);return s?r.candidateSelector?Array.from(s.querySelectorAll(r.candidateSelector)):r.candidateAttr?Array.from(s.querySelectorAll(`[${r.candidateAttr}]:not([data-disabled])`)):[]:[]}function o(){const s=n();s.length&&s[0]?.focus()}function a(s,i,f=!1){const g=document.getElementById(r.rootNodeId.current);if(!g||!s)return;const u=n();if(!u.length)return;const c=u.indexOf(s),p=Zo(g),{nextKey:v,prevKey:l}=ra(p,r.orientation.current),h=r.loop.current,b={[v]:c+1,[l]:c-1,[Dr]:0,[Tr]:u.length-1};if(f){const T=v===xt?Xt:xt,I=l===Ot?Jt:Ot;b[T]=c+1,b[I]=c-1}let x=b[i.key];if(x===void 0)return;i.preventDefault(),x<0&&h?x=u.length-1:x===u.length&&h&&(x=0);const $=u[x];if($)return $.focus(),e.current=$.id,r.onCandidateFocus?.($),$}function d(s){const i=n(),f=e.current!==null;return s&&!f&&i[0]===s?(e.current=s.id,0):s?.id===e.current?0:-1}return{setCurrentTabStopId(s){e.current=s},getTabIndex:d,handleKeydown:a,focusFirstCandidate:o,currentTabStopId:e}}function oa(r,e){var n=H(),o=C(n);lo(o,()=>e.children,a=>{var d=H(),s=C(d);_e(s,()=>e.children??pe),_(a,d)}),_(r,n)}function aa(r,e){be(e,!0);let n=q(e,"to",3,"body");const o=gn();let a=m(d);function d(){if(!Er||e.disabled)return null;let c=null;return typeof n()=="string"?c=document.querySelector(n()):(n()instanceof HTMLElement||n()instanceof DocumentFragment)&&(c=n()),c}let s;function i(){s&&(Tn(s),s=null)}et([()=>t(a),()=>e.disabled],([c,p])=>{if(!c||p){i();return}return s=An(oa,{target:c,props:{children:e.children},context:o}),()=>{i()}});var f=H(),g=C(f);{var u=c=>{var p=H(),v=C(p);_e(v,()=>e.children??pe),_(c,p)};G(g,c=>{e.disabled&&c(u)})}_(r,f),we()}function Hl(r,e,n=!0){if(!(r.length===0||e<0||e>=r.length))return r.length===1&&e===0?r[0]:e===r.length-1?n?r[0]:void 0:r[e+1]}function Kl(r,e,n=!0){if(!(r.length===0||e<0||e>=r.length))return r.length===1&&e===0?r[0]:e===0?n?r[r.length-1]:void 0:r[e-1]}function ql(r,e,n,o=!0){if(r.length===0||e<0||e>=r.length)return;let a=e+n;return o?a=(a%r.length+r.length)%r.length:a=Math.max(0,Math.min(a,r.length-1)),r[a]}function Gl(r,e,n,o=!0){if(r.length===0||e<0||e>=r.length)return;let a=e-n;return o?a=(a%r.length+r.length)%r.length:a=Math.max(0,Math.min(a,r.length-1)),r[a]}function Ur(r,e,n){const o=e.toLowerCase();if(o.endsWith(" ")){const c=o.slice(0,-1);if(r.filter(h=>h.toLowerCase().startsWith(c)).length<=1)return Ur(r,c,n);const v=n?.toLowerCase();if(v&&v.startsWith(c)&&v.charAt(c.length)===" "&&e.trim()===c)return n;const l=r.filter(h=>h.toLowerCase().startsWith(o));if(l.length>0){const h=n?r.indexOf(n):-1;return br(l,Math.max(h,0)).find($=>$!==n)||n}}const d=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=d.toLowerCase(),i=n?r.indexOf(n):-1;let f=br(r,Math.max(i,0));d.length===1&&(f=f.filter(c=>c!==n));const u=f.find(c=>c?.toLowerCase().startsWith(s));return u!==n?u:void 0}function br(r,e){return r.map((n,o)=>r[(e+o)%r.length])}function jr(r,e=1e4,n=qe){let o=null,a=le(Vt(r));function d(){return window.setTimeout(()=>{E(a,r,!0),n(r)},e)}return Oe(()=>()=>{o&&clearTimeout(o)}),se.with(()=>t(a),s=>{E(a,s,!0),n(s),o&&clearTimeout(o),o=d()})}function sa(r){const e=jr("",1e3),n=(s=>s.focus()),o=(()=>document.activeElement);function a(s,i){if(!i.length)return;e.current=e.current+s;const f=o(),g=i.find(v=>v===f)?.textContent?.trim()??"",u=i.map(v=>v.textContent?.trim()??""),c=Ur(u,e.current,g),p=i.find(v=>v.textContent?.trim()===c);return p&&n(p),p}function d(){e.current=""}return{search:e,handleTypeaheadSearch:a,resetTypeahead:d}}function wr(r,e){be(e,!0);let n=q(e,"mounted",15,!1),o=q(e,"onMountedChange",3,qe);Qo(()=>(n(!0),o()(!0),()=>{n(!1),o()(!1)})),we()}const ia=[Fr,Qt],la=[xt,Gn,Dr],Br=[Ot,Un,Tr],ca=[...la,...Br];function ua(r){return r==="indeterminate"}function da(r){return ua(r)?"indeterminate":r?"checked":"unchecked"}function yr(r){return r.pointerType==="mouse"}function fa(r){const e=m(()=>r.enabled()),n=jr(!1,r.transitTimeout??300,s=>{t(e)&&r.setIsPointerInTransit?.(s)});let o=le(null);function a(){E(o,null),n.current=!1}function d(s,i){const f=s.currentTarget;if(!ft(f))return;const g={x:s.clientX,y:s.clientY},u=va(g,f.getBoundingClientRect()),c=pa(g,u),p=ha(i.getBoundingClientRect()),v=ma([...c,...p]);E(o,v,!0),n.current=!0}return et([r.triggerNode,r.contentNode,r.enabled],([s,i,f])=>{if(!s||!i||!f)return;const g=c=>{d(c,i)},u=c=>{d(c,s)};return Rr(ut(s,"pointerleave",g),ut(i,"pointerleave",u))}),et(()=>t(o),()=>ut(document,"pointermove",i=>{if(!t(o))return;const f=i.target;if(!Gt(f))return;const g={x:i.clientX,y:i.clientY},u=r.triggerNode()?.contains(f)||r.contentNode()?.contains(f),c=!ga(g,t(o));u?a():c&&(a(),r.onPointerExit())})),{isPointerInTransit:n}}function va(r,e){const n=Math.abs(e.top-r.y),o=Math.abs(e.bottom-r.y),a=Math.abs(e.right-r.x),d=Math.abs(e.left-r.x);switch(Math.min(n,o,a,d)){case d:return"left";case a:return"right";case n:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function pa(r,e,n=5){const o=n*1.5;switch(e){case"top":return[{x:r.x-n,y:r.y+n},{x:r.x,y:r.y-o},{x:r.x+n,y:r.y+n}];case"bottom":return[{x:r.x-n,y:r.y-n},{x:r.x,y:r.y+o},{x:r.x+n,y:r.y-n}];case"left":return[{x:r.x+n,y:r.y-n},{x:r.x-o,y:r.y},{x:r.x+n,y:r.y+n}];case"right":return[{x:r.x-n,y:r.y-n},{x:r.x+o,y:r.y},{x:r.x-n,y:r.y+n}]}}function ha(r){const{top:e,right:n,bottom:o,left:a}=r;return[{x:a,y:e},{x:n,y:e},{x:n,y:o},{x:a,y:o}]}function ga(r,e){const{x:n,y:o}=r;let a=!1;for(let d=0,s=e.length-1;d<e.length;s=d++){const i=e[d].x,f=e[d].y,g=e[s].x,u=e[s].y;f>o!=u>o&&n<(g-i)*(o-f)/(u-f)+i&&(a=!a)}return a}function ma(r){const e=r.slice();return e.sort((n,o)=>n.x<o.x?-1:n.x>o.x?1:n.y<o.y?-1:n.y>o.y?1:0),_a(e)}function _a(r){if(r.length<=1)return r.slice();const e=[];for(let o=0;o<r.length;o++){const a=r[o];for(;e.length>=2;){const d=e[e.length-1],s=e[e.length-2];if((d.x-s.x)*(a.y-s.y)>=(d.y-s.y)*(a.x-s.x))e.pop();else break}e.push(a)}e.pop();const n=[];for(let o=r.length-1;o>=0;o--){const a=r[o];for(;n.length>=2;){const d=n[n.length-1],s=n[n.length-2];if((d.x-s.x)*(a.y-s.y)>=(d.y-s.y)*(a.x-s.x))n.pop();else break}n.push(a)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}function bt(){return{getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"}}function ba(r,e){if(!Zt(r,bt()))return wa(r,e);const n=jn(Lr(r).body,bt());e==="prev"&&n.reverse();const o=n.indexOf(r);return o===-1?document.body:n.slice(o+1)[0]}function wa(r,e){if(!Bn(r,bt()))return document.body;const n=Wn(Lr(r).body,bt());e==="prev"&&n.reverse();const o=n.indexOf(r);return o===-1?document.body:n.slice(o+1).find(d=>Zt(d,bt()))??document.body}const Wr=new vt("Menu.Root"),nr=new vt("Menu.Root | Menu.Sub"),Tt=new vt("Menu.Content"),Vr=new vt("Menu.Group | Menu.RadioGroup"),ya=new vt("Menu.RadioGroup"),or=new vt("Menu.CheckboxGroup"),xa=new Xn("bitsmenuopen",{bubbles:!1,cancelable:!0});class Ma{opts;isUsingKeyboard=new Je;#e=le(!1);get ignoreCloseAutoFocus(){return t(this.#e)}set ignoreCloseAutoFocus(e){E(this.#e,e,!0)}#t=le(!1);get isPointerInTransit(){return t(this.#t)}set isPointerInTransit(e){E(this.#t,e,!0)}constructor(e){this.opts=e}getAttr(e){return`data-${this.opts.variant.current}-${e}`}}class ka{opts;root;parentMenu;contentId=se.with(()=>"");#e=le(null);get contentNode(){return t(this.#e)}set contentNode(e){E(this.#e,e,!0)}#t=le(null);get triggerNode(){return t(this.#t)}set triggerNode(e){E(this.#t,e,!0)}constructor(e,n,o){this.opts=e,this.root=n,this.parentMenu=o,o&&et(()=>o.opts.open.current,()=>{o.opts.open.current||(this.opts.open.current=!1)})}toggleOpen(){this.opts.open.current=!this.opts.open.current}onOpen(){this.opts.open.current=!0}onClose(){this.opts.open.current=!1}}class Pa{opts;parentMenu;#e=le("");get search(){return t(this.#e)}set search(e){E(this.#e,e,!0)}#t=0;#r;rovingFocusGroup;#o=le(!1);get mounted(){return t(this.#o)}set mounted(e){E(this.#o,e,!0)}#a;constructor(e,n){this.opts=e,this.parentMenu=n,n.contentId=e.id,this.#a=e.isSub??!1,this.onkeydown=this.onkeydown.bind(this),this.onblur=this.onblur.bind(this),this.onfocus=this.onfocus.bind(this),this.handleInteractOutside=this.handleInteractOutside.bind(this),pt({...e,deps:()=>this.parentMenu.opts.open.current,onRefChange:o=>{this.parentMenu.contentNode!==o&&(this.parentMenu.contentNode=o)}}),fa({contentNode:()=>this.parentMenu.contentNode,triggerNode:()=>this.parentMenu.triggerNode,enabled:()=>this.parentMenu.opts.open.current&&!!this.parentMenu.triggerNode?.hasAttribute(this.parentMenu.root.getAttr("sub-trigger")),onPointerExit:()=>{this.parentMenu.opts.open.current=!1},setIsPointerInTransit:o=>{this.parentMenu.root.isPointerInTransit=o}}),this.#r=sa().handleTypeaheadSearch,this.rovingFocusGroup=na({rootNodeId:this.parentMenu.contentId,candidateAttr:this.parentMenu.root.getAttr("item"),loop:this.opts.loop,orientation:se.with(()=>"vertical")}),et(()=>this.parentMenu.contentNode,o=>{if(!o)return;const a=()=>{ot(()=>{this.parentMenu.root.isUsingKeyboard.current&&this.rovingFocusGroup.focusFirstCandidate()})};return xa.listen(o,a)}),Oe(()=>{this.parentMenu.opts.open.current||window.clearTimeout(this.#t)})}#l(){const e=this.parentMenu.contentNode;return e?Array.from(e.querySelectorAll(`[${this.parentMenu.root.getAttr("item")}]:not([data-disabled])`)):[]}#n(){return this.parentMenu.root.isPointerInTransit}onCloseAutoFocus=e=>{this.opts.onCloseAutoFocus.current(e),!(e.defaultPrevented||this.#a)&&this.parentMenu.triggerNode&&Zt(this.parentMenu.triggerNode)&&this.parentMenu.triggerNode.focus()};handleTabKeyDown(e){let n=this.parentMenu;for(;n.parentMenu!==null;)n=n.parentMenu;if(!n.triggerNode)return;e.preventDefault();const o=ba(n.triggerNode,e.shiftKey?"prev":"next");o?(this.parentMenu.root.ignoreCloseAutoFocus=!0,n.onClose(),ot(()=>{o.focus(),ot(()=>{this.parentMenu.root.ignoreCloseAutoFocus=!1})})):document.body.focus()}onkeydown(e){if(e.defaultPrevented)return;if(e.key===Jn){this.handleTabKeyDown(e);return}const n=e.target,o=e.currentTarget;if(!ft(n)||!ft(o))return;const a=n.closest(`[${this.parentMenu.root.getAttr("content")}]`)?.id===this.parentMenu.contentId.current,d=e.ctrlKey||e.altKey||e.metaKey,s=e.key.length===1;if(this.rovingFocusGroup.handleKeydown(n,e)||e.code==="Space")return;const f=this.#l();a&&!d&&s&&this.#r(e.key,f),e.target?.id===this.parentMenu.contentId.current&&ca.includes(e.key)&&(e.preventDefault(),Br.includes(e.key)&&f.reverse(),Qn(f))}onblur(e){Gt(e.currentTarget)&&Gt(e.target)&&(e.currentTarget.contains?.(e.target)||(window.clearTimeout(this.#t),this.search=""))}onfocus(e){this.parentMenu.root.isUsingKeyboard.current&&ot(()=>this.rovingFocusGroup.focusFirstCandidate())}onItemEnter(){return this.#n()}onItemLeave(e){if(e.currentTarget.hasAttribute(this.parentMenu.root.getAttr("sub-trigger"))||this.#n()||this.parentMenu.root.isUsingKeyboard.current)return;this.parentMenu.contentNode?.focus(),this.rovingFocusGroup.setCurrentTabStopId("")}onTriggerLeave(){return!!this.#n()}onOpenAutoFocus=e=>{if(e.defaultPrevented)return;e.preventDefault(),this.parentMenu.contentNode?.focus()};handleInteractOutside(e){if(!Zn(e.target))return;const n=this.parentMenu.triggerNode?.id;if(e.target.id===n){e.preventDefault();return}e.target.closest(`#${n}`)&&e.preventDefault()}#s=m(()=>({open:this.parentMenu.opts.open.current}));get snippetProps(){return t(this.#s)}set snippetProps(e){E(this.#s,e)}#i=m(()=>({id:this.opts.id.current,role:"menu","aria-orientation":eo("vertical"),[this.parentMenu.root.getAttr("content")]:"","data-state":Nr(this.parentMenu.opts.open.current),onkeydown:this.onkeydown,onblur:this.onblur,onfocus:this.onfocus,dir:this.parentMenu.root.opts.dir.current,style:{pointerEvents:"auto"}}));get props(){return t(this.#i)}set props(e){E(this.#i,e)}popperProps={onCloseAutoFocus:e=>this.onCloseAutoFocus(e)}}class Yr{opts;content;#e=le(!1);constructor(e,n){this.opts=e,this.content=n,this.onpointermove=this.onpointermove.bind(this),this.onpointerleave=this.onpointerleave.bind(this),this.onfocus=this.onfocus.bind(this),this.onblur=this.onblur.bind(this),pt({...e,deps:()=>this.content.mounted})}onpointermove(e){if(!e.defaultPrevented&&yr(e))if(this.opts.disabled.current)this.content.onItemLeave(e);else{if(this.content.onItemEnter())return;const o=e.currentTarget;if(!ft(o))return;o.focus()}}onpointerleave(e){e.defaultPrevented||yr(e)&&this.content.onItemLeave(e)}onfocus(e){ot(()=>{e.defaultPrevented||this.opts.disabled.current||E(this.#e,!0)})}onblur(e){ot(()=>{e.defaultPrevented||E(this.#e,!1)})}#t=m(()=>({id:this.opts.id.current,tabindex:-1,role:"menuitem","aria-disabled":to(this.opts.disabled.current),"data-disabled":zr(this.opts.disabled.current),"data-highlighted":t(this.#e)?"":void 0,[this.content.parentMenu.root.getAttr("item")]:"",onpointermove:this.onpointermove,onpointerleave:this.onpointerleave,onfocus:this.onfocus,onblur:this.onblur}));get props(){return t(this.#t)}set props(e){E(this.#t,e)}}class Xr{opts;item;#e=!1;root;constructor(e,n){this.opts=e,this.item=n,this.root=n.content.parentMenu.root,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this)}#t(){if(this.item.opts.disabled.current)return;const e=new CustomEvent("menuitemselect",{bubbles:!0,cancelable:!0});this.opts.onSelect.current(e),ot(()=>{if(e.defaultPrevented){this.item.content.parentMenu.root.isUsingKeyboard.current=!1;return}this.opts.closeOnSelect.current&&this.item.content.parentMenu.root.opts.onClose()})}onkeydown(e){const n=this.item.content.search!=="";if(!(this.item.opts.disabled.current||n&&e.key===Qt)&&ia.includes(e.key)){if(!ft(e.currentTarget))return;e.currentTarget.click(),e.preventDefault()}}onclick(e){this.item.opts.disabled.current||this.#t()}onpointerup(e){if(!e.defaultPrevented&&!this.#e){if(!ft(e.currentTarget))return;e.currentTarget?.click()}}onpointerdown(e){this.#e=!0}#r=m(()=>Ge(this.item.props,{onclick:this.onclick,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown}));get props(){return t(this.#r)}set props(e){E(this.#r,e)}}class Sa{opts;item;group;constructor(e,n,o=null){this.opts=e,this.item=n,this.group=o,this.group&&(et(()=>this.group.opts.value.current,a=>{this.opts.checked.current=a.includes(this.opts.value.current)}),et(()=>this.opts.checked.current,a=>{a?this.group.addValue(this.opts.value.current):this.group.removeValue(this.opts.value.current)}))}toggleChecked(){this.opts.indeterminate.current?(this.opts.indeterminate.current=!1,this.opts.checked.current=!0):this.opts.checked.current=!this.opts.checked.current}#e=m(()=>({checked:this.opts.checked.current,indeterminate:this.opts.indeterminate.current}));get snippetProps(){return t(this.#e)}set snippetProps(e){E(this.#e,e)}#t=m(()=>({...this.item.props,role:"menuitemcheckbox","aria-checked":ro(this.opts.checked.current,this.opts.indeterminate.current),"data-state":da(this.opts.checked.current),[this.item.root.getAttr("checkbox-item")]:""}));get props(){return t(this.#t)}set props(e){E(this.#t,e)}}class Ca{opts;root;#e=le(void 0);get groupHeadingId(){return t(this.#e)}set groupHeadingId(e){E(this.#e,e,!0)}constructor(e,n){this.opts=e,this.root=n,pt(this.opts)}#t=m(()=>({id:this.opts.id.current,role:"group","aria-labelledby":this.groupHeadingId,[this.root.getAttr("group")]:""}));get props(){return t(this.#t)}set props(e){E(this.#t,e)}}class Nt{opts;group;constructor(e,n){this.opts=e,this.group=n,pt({...e,onRefChange:o=>{this.group.groupHeadingId=o?.id}})}#e=m(()=>({id:this.opts.id.current,role:"group",[this.group.root.getAttr("group-heading")]:""}));get props(){return t(this.#e)}set props(e){E(this.#e,e)}}class $a{opts;parentMenu;constructor(e,n){this.opts=e,this.parentMenu=n,this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this),this.onkeydown=this.onkeydown.bind(this),pt({...e,onRefChange:o=>{this.parentMenu.triggerNode=o}})}onpointerdown(e){if(!this.opts.disabled.current){if(e.pointerType==="touch")return e.preventDefault();e.button===0&&e.ctrlKey===!1&&(this.parentMenu.toggleOpen(),this.parentMenu.opts.open.current||e.preventDefault())}}onpointerup(e){this.opts.disabled.current||e.pointerType==="touch"&&(e.preventDefault(),this.parentMenu.toggleOpen())}onkeydown(e){if(!this.opts.disabled.current){if(e.key===Qt||e.key===Fr){this.parentMenu.toggleOpen(),e.preventDefault();return}e.key===xt&&(this.parentMenu.onOpen(),e.preventDefault())}}#e=m(()=>{if(this.parentMenu.opts.open.current&&this.parentMenu.contentId.current)return this.parentMenu.contentId.current});#t=m(()=>({id:this.opts.id.current,disabled:this.opts.disabled.current,"aria-haspopup":"menu","aria-expanded":Yn(this.parentMenu.opts.open.current),"aria-controls":t(this.#e),"data-disabled":zr(this.opts.disabled.current),"data-state":Nr(this.parentMenu.opts.open.current),[this.parentMenu.root.getAttr("trigger")]:"",onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown}));get props(){return t(this.#t)}set props(e){E(this.#t,e)}}class Ia{opts;content;#e=le(null);get groupHeadingId(){return t(this.#e)}set groupHeadingId(e){E(this.#e,e,!0)}root;constructor(e,n){this.opts=e,this.content=n,this.root=n.parentMenu.root,pt(e)}addValue(e){if(e&&!this.opts.value.current.includes(e)){const n=[...Ze(this.opts.value.current),e];this.opts.value.current=n,this.opts.onValueChange.current(n)}}removeValue(e){if(!e||this.opts.value.current.indexOf(e)===-1)return;const o=this.opts.value.current.filter(a=>a!==e);this.opts.value.current=o,this.opts.onValueChange.current(o)}#t=m(()=>({id:this.opts.id.current,[this.root.getAttr("checkbox-group")]:"",role:"group","aria-labelledby":this.groupHeadingId}));get props(){return t(this.#t)}set props(e){E(this.#t,e)}}function Oa(r){const e=new Ma(r);return Vn.set({get ignoreCloseAutoFocus(){return e.ignoreCloseAutoFocus}}),Wr.set(e)}function Aa(r,e){return nr.set(new ka(e,r,null))}function Ta(r){return new $a(r,nr.get())}function Ea(r){return Tt.set(new Pa(r,nr.get()))}function Da(r){const e=new Yr(r,Tt.get());return new Xr(r,e)}function Fa(r,e){const n=new Xr(r,new Yr(r,Tt.get()));return new Sa(r,n,e)}function Ra(r){return Vr.set(new Ca(r,Wr.get()))}function La(r){const e=or.getOr(null);if(e)return new Nt(r,e);const n=ya.getOr(null);return n?new Nt(r,n):new Nt(r,Vr.get())}function Na(r){return or.set(new Ia(r,Tt.get()))}var za=D("<div><!></div>");function Ha(r,e){be(e,!0);let n=q(e,"ref",15,null),o=q(e,"id",19,st),a=q(e,"disabled",3,!1),d=q(e,"onSelect",3,qe),s=q(e,"closeOnSelect",3,!0),i=$e(e,["$$slots","$$events","$$legacy","child","children","ref","id","disabled","onSelect","closeOnSelect"]);const f=Da({id:se.with(()=>o()),disabled:se.with(()=>a()),onSelect:se.with(()=>d()),ref:se.with(()=>n(),l=>n(l)),closeOnSelect:se.with(()=>s())}),g=m(()=>Ge(i,f.props));var u=H(),c=C(u);{var p=l=>{var h=H(),b=C(h);_e(b,()=>e.child,()=>({props:t(g)})),_(l,h)},v=l=>{var h=za();Me(h,()=>({...t(g)}));var b=y(h);_e(b,()=>e.children??pe),w(h),_(l,h)};G(c,l=>{e.child?l(p):l(v,!1)})}_(r,u),we()}var Ka=D("<div><!></div>");function qa(r,e){be(e,!0);let n=q(e,"ref",15,null),o=q(e,"id",19,st),a=$e(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const d=Ra({id:se.with(()=>o()),ref:se.with(()=>n(),c=>n(c))}),s=m(()=>Ge(a,d.props));var i=H(),f=C(i);{var g=c=>{var p=H(),v=C(p);_e(v,()=>e.child,()=>({props:t(s)})),_(c,p)},u=c=>{var p=Ka();Me(p,()=>({...t(s)}));var v=y(p);_e(v,()=>e.children??pe),w(p),_(c,p)};G(f,c=>{e.child?c(g):c(u,!1)})}_(r,i),we()}var Ga=D("<div><!></div>");function xr(r,e){be(e,!0);let n=q(e,"ref",15,null),o=q(e,"id",19,st),a=$e(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const d=La({id:se.with(()=>o()),ref:se.with(()=>n(),c=>n(c))}),s=m(()=>Ge(a,d.props));var i=H(),f=C(i);{var g=c=>{var p=H(),v=C(p);_e(v,()=>e.child,()=>({props:t(s)})),_(c,p)},u=c=>{var p=Ga();Me(p,()=>({...t(s)}));var v=y(p);_e(v,()=>e.children??pe),w(p),_(c,p)};G(f,c=>{e.child?c(g):c(u,!1)})}_(r,i),we()}var Ua=D("<div><!></div>");function ja(r,e){be(e,!0);let n=q(e,"ref",15,null),o=q(e,"checked",15,!1),a=q(e,"id",19,st),d=q(e,"onCheckedChange",3,qe),s=q(e,"disabled",3,!1),i=q(e,"onSelect",3,qe),f=q(e,"closeOnSelect",3,!0),g=q(e,"indeterminate",15,!1),u=q(e,"onIndeterminateChange",3,qe),c=q(e,"value",3,""),p=$e(e,["$$slots","$$events","$$legacy","child","children","ref","checked","id","onCheckedChange","disabled","onSelect","closeOnSelect","indeterminate","onIndeterminateChange","value"]);const v=or.getOr(null);v&&c()&&(v.opts.value.current.includes(c())?o(!0):o(!1)),et.pre(()=>c(),()=>{v&&c()&&(v.opts.value.current.includes(c())?o(!0):o(!1))});const l=Fa({checked:se.with(()=>o(),S=>{o(S),d()(S)}),id:se.with(()=>a()),disabled:se.with(()=>s()),onSelect:se.with(()=>h),ref:se.with(()=>n(),S=>n(S)),closeOnSelect:se.with(()=>f()),indeterminate:se.with(()=>g(),S=>{g(S),u()(S)}),value:se.with(()=>c())},v);function h(S){i()(S),!S.defaultPrevented&&l.toggleChecked()}const b=m(()=>Ge(p,l.props));var x=H(),$=C(x);{var T=S=>{var k=H(),P=C(k);{let N=m(()=>({props:t(b),...l.snippetProps}));_e(P,()=>e.child,()=>t(N))}_(S,k)},I=S=>{var k=Ua();Me(k,()=>({...t(b)}));var P=y(k);_e(P,()=>e.children??pe,()=>l.snippetProps),w(k),_(S,k)};G($,S=>{e.child?S(T):S(I,!1)})}_(r,x),we()}var Ba=D("<div><!></div>");function Wa(r,e){be(e,!0);let n=q(e,"id",19,st),o=q(e,"ref",15,null),a=q(e,"value",31,()=>Vt([])),d=q(e,"onValueChange",3,qe),s=$e(e,["$$slots","$$events","$$legacy","id","children","child","ref","value","onValueChange"]);const i=Na({value:se.with(()=>Ze(a()),v=>{a(Ze(v)),d()(v)}),onValueChange:se.with(()=>d()),ref:se.with(()=>o(),v=>o(v)),id:se.with(()=>n())}),f=m(()=>Ge(s,i.props));var g=H(),u=C(g);{var c=v=>{var l=H(),h=C(l);_e(h,()=>e.child,()=>({props:t(f)})),_(v,l)},p=v=>{var l=Ba();Me(l,()=>({...t(f)}));var h=y(l);_e(h,()=>e.children??pe),w(l),_(v,l)};G(u,v=>{e.child?v(c):v(p,!1)})}_(r,g),we()}function Va(r,e){be(e,!0);let n=q(e,"open",15,!1),o=q(e,"dir",3,"ltr"),a=q(e,"onOpenChange",3,qe),d=q(e,"_internal_variant",3,"dropdown-menu");const s=Oa({variant:se.with(()=>d()),dir:se.with(()=>o()),onClose:()=>{n(!1),a()(!1)}});Aa(s,{open:se.with(()=>n(),i=>{n(i),a()(i)})}),no(r,{children:(i,f)=>{var g=H(),u=C(g);_e(u,()=>e.children??pe),_(i,g)},$$slots:{default:!0}}),we()}var Ya=D("<div><div><!></div></div>"),Xa=D("<!> <!>",1),Ja=D("<div><div><!></div></div>"),Qa=D("<!> <!>",1);function Za(r,e){be(e,!0);let n=q(e,"id",19,st),o=q(e,"ref",15,null),a=q(e,"loop",3,!0),d=q(e,"onInteractOutside",3,qe),s=q(e,"onEscapeKeydown",3,qe),i=q(e,"onCloseAutoFocus",3,qe),f=q(e,"forceMount",3,!1),g=$e(e,["$$slots","$$events","$$legacy","id","child","children","ref","loop","onInteractOutside","onEscapeKeydown","onCloseAutoFocus","forceMount"]);const u=Ea({id:se.with(()=>n()),loop:se.with(()=>a()),ref:se.with(()=>o(),$=>o($)),onCloseAutoFocus:se.with(()=>i())}),c=m(()=>Ge(g,u.props));function p($){u.handleInteractOutside($),!$.defaultPrevented&&(d()($),!$.defaultPrevented&&u.parentMenu.onClose())}function v($){s()($),!$.defaultPrevented&&u.parentMenu.onClose()}var l=H(),h=C(l);{var b=$=>{oo($,dt(()=>t(c),()=>u.popperProps,{get enabled(){return u.parentMenu.opts.open.current},onInteractOutside:p,onEscapeKeydown:v,trapFocus:!0,get loop(){return a()},forceMount:!0,get id(){return n()},popper:(I,S)=>{let k=()=>S?.().props,P=()=>S?.().wrapperProps;const N=m(()=>Ge(k(),{style:mr("dropdown-menu")}));var R=Xa(),K=C(R);{var B=A=>{var U=H(),Q=C(U);{let ae=m(()=>({props:t(N),wrapperProps:P(),...u.snippetProps}));_e(Q,()=>e.child,()=>t(ae))}_(A,U)},ee=A=>{var U=Ya();Me(U,()=>({...P()}));var Q=y(U);Me(Q,()=>({...t(N)}));var ae=y(Q);_e(ae,()=>e.children??pe),w(Q),w(U),_(A,U)};G(K,A=>{e.child?A(B):A(ee,!1)})}var F=M(K,2);wr(F,{get mounted(){return u.mounted},set mounted(A){u.mounted=A}}),_(I,R)},$$slots:{popper:!0}}))},x=$=>{var T=H(),I=C(T);{var S=k=>{ao(k,dt(()=>t(c),()=>u.popperProps,{get present(){return u.parentMenu.opts.open.current},onInteractOutside:p,onEscapeKeydown:v,trapFocus:!0,get loop(){return a()},forceMount:!1,get id(){return n()},popper:(N,R)=>{let K=()=>R?.().props,B=()=>R?.().wrapperProps;const ee=m(()=>Ge(K(),{style:mr("dropdown-menu")}));var F=Qa(),A=C(F);{var U=X=>{var ne=H(),ce=C(ne);{let ue=m(()=>({props:t(ee),wrapperProps:B(),...u.snippetProps}));_e(ce,()=>e.child,()=>t(ue))}_(X,ne)},Q=X=>{var ne=Ja();Me(ne,()=>({...B()}));var ce=y(ne);Me(ce,()=>({...t(ee)}));var ue=y(ce);_e(ue,()=>e.children??pe),w(ce),w(ne),_(X,ne)};G(A,X=>{e.child?X(U):X(Q,!1)})}var ae=M(A,2);wr(ae,{get mounted(){return u.mounted},set mounted(X){u.mounted=X}}),_(N,F)},$$slots:{popper:!0}}))};G(I,k=>{f()||k(S)},!0)}_($,T)};G(h,$=>{f()?$(b):$(x,!1)})}_(r,l),we()}var es=D("<button><!></button>");function ts(r,e){be(e,!0);let n=q(e,"id",19,st),o=q(e,"ref",15,null),a=q(e,"disabled",3,!1),d=q(e,"type",3,"button"),s=$e(e,["$$slots","$$events","$$legacy","id","ref","child","children","disabled","type"]);const i=Ta({id:se.with(()=>n()),disabled:se.with(()=>a()??!1),ref:se.with(()=>o(),g=>o(g))}),f=m(()=>Ge(s,i.props,{type:d()}));so(r,{get id(){return n()},children:(g,u)=>{var c=H(),p=C(c);{var v=h=>{var b=H(),x=C(b);_e(x,()=>e.child,()=>({props:t(f)})),_(h,b)},l=h=>{var b=es();Me(b,()=>({...t(f)}));var x=y(b);_e(x,()=>e.children??pe),w(b),_(h,b)};G(p,h=>{e.child?h(v):h(l,!1)})}_(g,c)},$$slots:{default:!0}}),we()}let mt=le(!1);class Je{static _refs=0;static _cleanup;constructor(){Oe(()=>(Je._refs===0&&(Je._cleanup=mn(()=>{const e=[],n=a=>{E(mt,!1)},o=a=>{E(mt,!0)};return e.push(ut(document,"pointerdown",n,{capture:!0}),ut(document,"pointermove",n,{capture:!0}),ut(document,"keydown",o,{capture:!0})),Rr(...e)})),Je._refs++,()=>{Je._refs--,Je._refs===0&&(E(mt,!1),Je._cleanup?.())}))}get current(){return t(mt)}set current(e){E(mt,e,!0)}}var rs=D("<!> <!>",1),ns=D("<!> <!>",1),os=D("<!> <!>",1),as=D("<!> <!>",1);function Jr(r,e){be(e,!0);const n=q(e,"selectableItems",19,()=>[]),o=q(e,"help",3,""),a=$e(e,["$$slots","$$events","$$legacy","items","item","selectableItems","trigger","testid","help"]),d=m(()=>({trigger:e.testid?`${e.testid}-open`:void 0,content:e.testid?`${e.testid}-options`:void 0}));let s=le(!1);var i=H(),f=C(i);Ke(f,()=>Va,(g,u)=>{u(g,{get open(){return t(s)},children:(c,p)=>{var v=as(),l=C(v);{const b=(x,$)=>{let T=()=>$?.().props;var I=H(),S=C(I);{let k=m(()=>({...T(),onclick:()=>{E(s,!t(s))}}));_e(S,()=>e.trigger,()=>t(k))}_(x,I)};Ke(l,()=>ts,(x,$)=>{$(x,dt(()=>a,{get"data-testid"(){return t(d).trigger},child:b,$$slots:{child:!0}}))})}var h=M(l,2);Ke(h,()=>aa,(b,x)=>{x(b,{children:($,T)=>{var I=H(),S=C(I);Ke(S,()=>Za,(k,P)=>{P(k,{get"data-testid"(){return t(d).content},children:(N,R)=>{var K=os(),B=C(K);{let F=m(()=>n().filter(A=>A.selected).map(A=>A.key.toString()));Ke(B,()=>Wa,(A,U)=>{U(A,{get value(){return t(F)},children:(Q,ae)=>{var X=rs(),ne=C(X);{var ce=j=>{var Z=H(),he=C(Z);Ke(he,()=>xr,(te,W)=>{W(te,{children:(J,oe)=>{Ee();var ge=me();z(()=>O(ge,o())),_(J,ge)},$$slots:{default:!0}})}),_(j,Z)};G(ne,j=>{o()&&j(ce)})}var ue=M(ne,2);at(ue,17,n,j=>j.label,(j,Z)=>{var he=H(),te=C(he);{let W=m(()=>t(Z).key.toString());Ke(te,()=>ja,(J,oe)=>{oe(J,{get checked(){return t(Z).selected},get onSelect(){return t(Z).onclick},get value(){return t(W)},get textValue(){return t(Z).label},get"aria-label"(){return t(Z).label},children:(ge,Ce)=>{var Le=H(),Fe=C(Le);{var Pe=Re=>{var Ne=H(),V=C(Ne);_e(V,()=>e.item,()=>t(Z)),_(Re,Ne)},Se=Re=>{var Ne=me();z(()=>O(Ne,t(Z).label)),_(Re,Ne)};G(Fe,Re=>{e.item?Re(Pe):Re(Se,!1)})}_(ge,Le)},$$slots:{default:!0}})})}_(j,he)}),_(Q,X)},$$slots:{default:!0}})})}var ee=M(B,2);Ke(ee,()=>qa,(F,A)=>{A(F,{children:(U,Q)=>{var ae=ns(),X=C(ae);{var ne=ue=>{var j=H(),Z=C(j);Ke(Z,()=>xr,(he,te)=>{te(he,{children:(W,J)=>{Ee();var oe=me();z(()=>O(oe,o())),_(W,oe)},$$slots:{default:!0}})}),_(ue,j)};G(X,ue=>{o()&&!n().length&&ue(ne)})}var ce=M(X,2);at(ce,17,()=>e.items,ue=>ue.label,(ue,j)=>{var Z=H(),he=C(Z);Ke(he,()=>Ha,(te,W)=>{W(te,{get textValue(){return t(j).label},get onSelect(){return t(j).onclick},get"aria-label"(){return t(j).label},children:(J,oe)=>{var ge=H(),Ce=C(ge);{var Le=Pe=>{var Se=H(),Re=C(Se);_e(Re,()=>e.item,()=>t(j)),_(Pe,Se)},Fe=Pe=>{var Se=me();z(()=>O(Se,t(j).label)),_(Pe,Se)};G(Ce,Pe=>{e.item?Pe(Le):Pe(Fe,!1)})}_(J,ge)},$$slots:{default:!0}})}),_(ue,Z)}),_(U,ae)},$$slots:{default:!0}})}),_(N,K)},$$slots:{default:!0}})}),_($,I)},$$slots:{default:!0}})}),_(c,v)},$$slots:{default:!0}})}),_(r,i),we()}var ss=D("<time><!></time>");function is(r,e){be(e,!0);const n=q(e,"show",3,"absolute"),o=$e(e,["$$slots","$$events","$$legacy","value","show"]),a=m(()=>typeof e.value=="string"?new Date(e.value):e.value),d=m(()=>fo(t(a),"PPpp")),s=m(()=>zo(t(a),{addSuffix:!0}));var i=ss();Me(i,c=>({...o,datetime:c}),[()=>t(a).toISOString()]);var f=y(i);{var g=c=>{var p=me();z(()=>O(p,t(d))),_(c,p)},u=c=>{var p=H(),v=C(p);{var l=b=>{var x=me();z(()=>O(x,t(s))),_(b,x)},h=b=>{var x=me();z(()=>O(x,`${t(d)??""} (${t(s)??""})`)),_(b,x)};G(v,b=>{n()=="relative"?b(l):b(h,!1)},!0)}_(c,p)};G(f,c=>{n()==="absolute"?c(g):c(u,!1)})}w(i),_(r,i),we()}var ls=D('<a class="github-user svelte-yvr6h4"><img class="svelte-yvr6h4"/> <!></a>'),cs=D("<!> <!> <!> <!> <!>",1),us=D('<span class="build-date"> </span>'),ds=D(" <a> </a> <!>",1),fs=D('<li class="svelte-yvr6h4"><!></li>'),vs=D('<!> <p class="svelte-yvr6h4"> </p> <ul><li class="svelte-yvr6h4"> <a> </a> <!></li> <!> <br/></ul> <p class="svelte-yvr6h4"> </p>',1),ps=D("<a><!></a>"),hs=D('<p class="svelte-yvr6h4"><!></p>');function gs(r,e){be(e,!0);const n=(f,g=pe)=>{var u=ls(),c=y(u),p=M(c,2);nt(p,()=>fetch(g().url).then(v=>v.json()),v=>{var l=me();z(()=>O(l,g().login)),_(v,l)},(v,l)=>{var h=m(()=>{var{name:$}=t(l);return{name:$}}),b=m(()=>t(h).name),x=me();z(()=>O(x,t(b)||g().login)),_(v,x)},(v,l)=>{var h=me();z(()=>O(h,g().login)),_(v,h)}),w(u),z(v=>{xe(u,"href",g().html_url),xe(u,"title",`@${g().login}`),xe(c,"src",g().avatar_url),xe(c,"alt",v)},[()=>t(o).t(41,[g().login])]),_(f,u)},o=m(()=>je(Be("main"))),a="ac0ccf7aaa725c4cd32d23e833f44b204891973f";let d=q(e,"open",15);function s(f){return`https://cigaleapp.github.io/cigale/${f}/pr-${We}`}async function i(f){return fetch(s(f),{method:"HEAD"}).then(g=>g.ok).catch(()=>!1)}{const f=(u,c)=>{let p=()=>c?.().close;const v=m(()=>I=>()=>{window.open(I),p()?.()});var l=cs(),h=C(l);{let I=m(()=>t(o).t(169));Ve(h,{get help(){return t(I)},onclick:()=>{Cn(),window.location.reload()},children:(S,k)=>{Ee();var P=me();z(N=>O(P,N),[()=>t(o).t(136)]),_(S,P)},$$slots:{default:!0}})}var b=M(h,2);{let I=m(()=>t(v)(`https://github.com/cigaleapp/cigale/pull/${We}`));Ve(b,{get onclick(){return t(I)},children:(S,k)=>{Ee();var P=me();z(N=>O(P,N),[()=>t(o).t(192)]),_(S,P)},$$slots:{default:!0}})}var x=M(b,2);nt(x,()=>i("_playwright"),null,(I,S)=>{var k=H(),P=C(k);{var N=R=>{{let K=m(()=>t(v)(s("_playwright")));Ve(R,{get onclick(){return t(K)},children:(B,ee)=>{Ee();var F=me();z(A=>O(F,A),[()=>t(o).t(182)]),_(B,F)},$$slots:{default:!0}})}};G(P,R=>{t(S)&&R(N)})}_(I,k)});var $=M(x,2);nt($,()=>i("_vitest"),null,(I,S)=>{var k=H(),P=C(k);{var N=R=>{{let K=m(()=>t(v)(s("_vitest")));Ve(R,{get onclick(){return t(K)},children:(B,ee)=>{Ee();var F=me();z(A=>O(F,A),[()=>t(o).t(183)]),_(B,F)},$$slots:{default:!0}})}};G(P,R=>{t(S)&&R(N)})}_(I,k)});var T=M($,2);nt(T,()=>i("_coverage"),null,(I,S)=>{var k=H(),P=C(k);{var N=R=>{{let K=m(()=>t(v)(s("_coverage")));Ve(R,{get onclick(){return t(K)},children:(B,ee)=>{Ee();var F=me();z(A=>O(F,A),[()=>t(o).t(73)]),_(B,F)},$$slots:{default:!0}})}};G(P,R=>{t(S)&&R(N)})}_(I,k)}),_(u,l)};let g=m(()=>t(o).t(79,[We]));Mt(r,{key:"modal_preview_pr",get title(){return t(g)},get open(){return d()},set open(u){d(u)},footer:f,children:(u,c)=>{const p=m(()=>`https://github.com/cigaleapp/cigale/pull/${We}`);var v=H(),l=C(v);nt(l,()=>fetch(`https://api.github.com/repos/cigaleapp/cigale/pulls/${We}`).then(h=>h.json()),h=>{var b=hs();{const $=(T,I=pe)=>{var S=ps(),k=y(S);{let P=m(()=>[We]);De(k,{get x(){return I()},n:!0,get a(){return t(P)}})}w(S),z(()=>xe(S,"href",t(p))),_(T,S)};var x=y(b);{let T=m(()=>[$]),I=m(()=>t(o).cx(78));De(x,{get t(){return t(T)},get x(){return t(I)}})}w(b)}_(h,b)},(h,b)=>{var x=m(()=>{var{title:j,user:Z,body:he}=t(b);return{title:j,user:Z,body:he}}),$=m(()=>t(x).title),T=m(()=>t(x).user),I=m(()=>t(x).body);const S=m(()=>/(Closes|Fixes) #(\d+)/i.exec(t(I))?.[2]);var k=vs(),P=C(k);{var N=j=>{var Z=H(),he=C(Z);nt(he,()=>fetch(`https://api.github.com/repos/cigaleapp/cigale/commits/${a}`).then(te=>te.json()),te=>{var W=us(),J=y(W,!0);w(W),z(oe=>O(J,oe),[()=>t(o).t(59)]),_(te,W)},(te,W)=>{var J=m(()=>{var{commit:{committer:{date:ge}}}=t(W);return{date:ge}}),oe=m(()=>t(J).date);is(te,{get value(){return t(oe)},show:"both"})}),_(j,Z)};G(P,j=>{j(N)})}var R=M(P,2),K=y(R,!0);w(R);var B=M(R,2),ee=y(B),F=y(ee),A=M(F),U=y(A);w(A);var Q=M(A),ae=M(Q);n(ae,()=>t(T)),w(ee);var X=M(ee,2);{var ne=j=>{var Z=fs(),he=y(Z);nt(he,()=>fetch(`https://api.github.com/repos/cigaleapp/cigale/issues/${t(S)}`).then(te=>te.json()),null,(te,W)=>{var J=m(()=>{var{title:de,number:ve,user:ye,html_url:ze}=t(W);return{title:de,number:ve,user:ye,html_url:ze}}),oe=m(()=>t(J).title),ge=m(()=>t(J).number),Ce=m(()=>t(J).user),Le=m(()=>t(J).html_url),Fe=ds(),Pe=C(Fe),Se=M(Pe),Re=y(Se);w(Se);var Ne=M(Se),V=M(Ne);n(V,()=>t(Ce)),z((de,ve)=>{O(Pe,`${de??""} `),xe(Se,"href",t(Le)),O(Re,`#${t(ge)??""} ${t(oe)??""}`),O(Ne,` ${ve??""} `)},[()=>t(o).t(199),()=>t(o).t(196)]),_(te,Fe)}),w(Z),_(j,Z)};G(X,j=>{t(S)&&j(ne)})}Ee(2),w(B);var ce=M(B,2),ue=y(ce,!0);w(ce),z((j,Z,he)=>{O(K,j),O(F,`${Z??""} `),xe(A,"href",t(p)),O(U,`#${We} ${t($)??""}`),O(Q,` ${he??""} `),O(ue,t(I))},[()=>t(o).t(52),()=>t(o).t(200),()=>t(o).t(196)]),_(h,k)},(h,b)=>{var x=me();z(()=>O(x,`#${We}`)),_(h,x)}),_(u,v)},$$slots:{footer:!0,default:!0}})}we()}var ms=D('<button role="radio" class="option svelte-13njdm8"> </button>'),_s=D("<div></div>");function Wt(r,e){be(e,!0);let n=q(e,"value",15),o=$e(e,["$$slots","$$events","$$legacy","options","labels","value","customOption","clickable-custom-options","onchange"]);var a=_s();Me(a,()=>({class:"segmented-group",role:"radiogroup",...o}),void 0,void 0,"svelte-13njdm8"),at(a,20,()=>e.options,d=>d,(d,s)=>{var i=H(),f=C(i);{var g=c=>{var p=ms();p.__click=()=>{n(s),e.onchange?.(s)};var v=y(p,!0);w(p),z(()=>{xe(p,"aria-checked",s===n()),O(v,e.labels?.[s]??s)}),_(c,p)},u=c=>{var p=H(),v=C(p);mo(v,()=>e["clickable-custom-options"]?"button":"div",!1,(l,h)=>{var b=()=>{e["clickable-custom-options"]&&(n(s),e.onchange?.(s))};Me(l,()=>({role:"radio","aria-checked":s===n(),class:"option",onclick:b}),void 0,void 0,"svelte-13njdm8");var x=H(),$=C(x);_e($,()=>e.customOption,()=>s),_(h,x)}),_(c,p)};G(f,c=>{!e.customOption||e.labels?.[s]?c(g):c(u,!1)})}_(d,i)}),w(a),_(r,a),we()}Yt(["click"]);var bs=D('<!> <section class="progress svelte-1h3fgf1"><!></section> <!>',1),ws=D('<div class="numeric svelte-1h3fgf1"><!> </div>'),ys=D('<div class="include svelte-1h3fgf1"><!></div> <section><div class="label svelte-1h3fgf1"> </div> <!> <p class="fineprint svelte-1h3fgf1"> </p></section>',1),xs=D('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Ms(r,e){be(e,!0);const n=m(()=>je(Be("main")));let o=q(e,"open",15);const a=m(()=>Y.processing.progress);let d=le(!1),s=le("croppedonly"),i=m(()=>gt(Y.currentProtocol?.crop.padding??"0px")),f=m(()=>t(i).unitless===0?"none":t(i).unit==="px"?"customPixels":t(i).unitless===5?"small":t(i).unitless===10?"medium":"customPercent");Oe(()=>{switch(t(f)){case"none":E(i,gt("0px"));break;case"small":E(i,gt("5%"));break;case"medium":E(i,gt("10%"));break}});async function g(){await Te.clear("exporter"),Y.processing.reset(),E(d,!0);const p=Ue.Protocol.state.find(v=>v.id===Y.currentProtocolId);if(!p){Te.error(t(n).t(35)),E(d,!1);return}try{await Kn(),Y.processing.task="export",Y.processing.total=1,Y.processing.done=0;const v=await e.swarpc.generateResultsZip({include:t(s),protocolId:p.id,cropPadding:t(i).withUnit,jsonSchemaURL:new URL(Mn("/results.schema.json"),Ye.url.origin).toString()},({warning:l,progress:h})=>{if(l){const[b,{filename:x}]=l;switch(b){case"exif-write-error":Te.warn(`Impossible d'ajouter les métadonnées EXIF à l'image ${x}`);break}}h&&(Y.processing.done=h)});po(v,"results.zip","application/zip")}catch(v){console.error(v),Te.error(`Erreur lors de l'exportation des résultats: ${v}`)}finally{E(d,!1)}}var u=xs(),c=C(u);{const p=l=>{var h=bs(),b=C(h);Fn(b,{pool:"exporter"});var x=M(b,2),$=y(x);er($,{percentage:!0,alwaysActive:!0,get progress(){return t(a)}}),w(x);var T=M(x,2);{const I=S=>{var k=H(),P=C(k);{var N=K=>{Kr(K,{})},R=K=>{vo(K,{})};G(P,K=>{t(d)?K(N):K(R,!1)})}_(S,k)};Ve(T,{onclick:g,_w_snippet_0:I,children:(S,k)=>{{let P=m(()=>[I]),N=m(()=>t(n).cx(21));De(S,{get t(){return t(P)},get x(){return t(N)}})}},$$slots:{_w_snippet_0:!0,default:!0}})}_(l,h)};let v=m(()=>t(n).t(95));yt(c,()=>({"--footer-direction":"column"})),Mt(c.lastChild,{key:"modal_export_results",get title(){return t(v)},onopen:()=>{Te.setCurrentPool("exporter")},onclose:()=>{Te.setCurrentPool("default"),Y.processing.reset()},get open(){return o()},set open(l){o(l)},footer:p,children:(l,h)=>{var b=ys(),x=C(b),$=y(x);go($,{options:[{key:"metadataonly",label:"Métadonnées seulement"},{key:"croppedonly",label:"Métadonnées et images recadrées"},{key:"full",label:"Métadonnées, images recadrées et images originales",subtext:"Permet de ré-importer les résultats ultérieurement"}],get value(){return t(s)},set value(K){E(s,K,!0)}}),w(x);var T=M(x,2);let I;var S=y(T),k=y(S,!0);w(S);var P=M(S,2);Wt(P,{options:["none","small","medium","customPercent","customPixels"],labels:{none:"Aucune",small:"5%",medium:"10%"},get value(){return t(f)},set value(B){E(f,B)},customOption:(B,ee=pe)=>{const F=m(()=>ee()==="customPercent"?"%":"px");var A=ws();let U;var Q=y(A);{let X=m(()=>ee()==="customPercent"?"en pourcentage des dimensions de l'image":"en pixels"),ne=m(()=>t(i).unitless===0?"0":t(i).unit===t(F)?t(i).unitless.toString():"?");rr(Q,{get label(){return t(X)},get value(){return t(ne)},onblur:async ce=>{await _n();const ue=Number.parseInt(ce,10);!isNaN(ue)&&ue>0&&(E(i,gt(ue+t(F))),E(f,ee()))}})}var ae=M(Q);w(A),z(()=>{U=Sr(A,"",U,{"--width":t(F)==="%"?"3ch":"4ch"}),O(ae,` ${t(F)??""}`)}),_(B,A)},$$slots:{customOption:!0}});var N=M(P,2),R=y(N,!0);w(N),w(T),z((K,B)=>{I=_t(T,1,"crop-padding svelte-1h3fgf1",null,I,{irrelevant:t(s)==="metadataonly"}),O(k,K),O(R,B)},[()=>t(n).t(126),()=>t(n).t(190)]),_(l,b)},$$slots:{footer:!0,default:!0}}),w(c)}_(r,u),we()}var ks=tt('<svg><path fill="currentColor" d="M18.207 9.043L12 2.836L5.793 9.043l1.414 1.414L12 5.664l4.793 4.793zM5.793 14.957L12 21.164l6.207-6.207l-1.414-1.414L12 18.336l-4.793-4.793z"></path></svg>');function Ps(r,e){const n=$e(e,["$$slots","$$events","$$legacy"]);var o=ks();Me(o,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...n})),_(r,o)}var Ss=tt('<svg><path fill="currentColor" d="M1 14.5a6.5 6.5 0 0 1 3.064-5.519a8.001 8.001 0 0 1 15.872 0a6.5 6.5 0 0 1-2.936 12L7 21c-3.356-.274-6-3.078-6-6.5m15.848 4.487a4.5 4.5 0 0 0 2.03-8.309l-.807-.503l-.12-.942a6.001 6.001 0 0 0-11.903 0l-.12.942l-.805.503a4.5 4.5 0 0 0 2.029 8.309l.173.013h9.35zM13 13v4h-2v-4H8l4-5l4 5z"></path></svg>');function Cs(r,e){const n=$e(e,["$$slots","$$events","$$legacy"]);var o=Ss();Me(o,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...n})),_(r,o)}var $s=D('<a target="_blank"><!></a>'),Is=D('<a target="_blank" href="https://fr.wikipedia.org/wiki/Hash"> </a>'),Os=D('<a target="_blank"> </a>'),As=D('<p> </p> <p><!></p> <ul><li> </li> <li> </li> <li> </li> <li> </li> <li> </li> <li> </li> <li><!></li></ul> <p> </p> <p><!></p> <section class="toggle svelte-o4fl4m"><!></section> <section class="email svelte-o4fl4m"><p> </p> <!></section>',1);function Ts(r,e){be(e,!0);const n=m(()=>je(Be("main")));let o=q(e,"open",15);const a=m(()=>{if(!URL.canParse(e.config.origin))return e.config.origin;const{host:i,protocol:f}=new URL(e.config.origin);return`${f}//${i}`}),d=m(()=>new URL(`/corrections/${e.protocol}`,e.config.origin)),s=m(()=>Qe().beamupPreferences[e.protocol]??{enable:!1,email:null});{const i=(g,u)=>{let c=()=>u?.().close;jt(g,{onclick:()=>c()?.(),children:(p,v)=>{Ee();var l=me();z(h=>O(l,h),[()=>t(n).t(402)]),_(p,l)},$$slots:{default:!0}})};let f=m(()=>t(n).t(387));Mt(r,{key:"modal_beamup_consent_learn_more",get title(){return t(f)},get open(){return o()},set open(g){o(g)},footer:i,children:(g,u)=>{var c=As(),p=C(c),v=y(p,!0);w(p);var l=M(p,2);{const te=(W,J=pe)=>{var oe=$s(),ge=y(oe);{let Ce=m(()=>[t(a)]);De(ge,{get x(){return J()},n:!0,get a(){return t(Ce)}})}w(oe),z(()=>xe(oe,"href",e.config.origin)),_(W,oe)};var h=y(l);{let W=m(()=>[te]),J=m(()=>t(n).cx(389));De(h,{get t(){return t(W)},get x(){return t(J)}})}w(l)}var b=M(l,2),x=y(b),$=y(x,!0);w(x);var T=M(x,2),I=y(T,!0);w(T);var S=M(T,2),k=y(S,!0);w(S);var P=M(S,2),N=y(P,!0);w(P);var R=M(P,2),K=y(R,!0);w(R);var B=M(R,2),ee=y(B,!0);w(B);var F=M(B,2);{const te=(W,J=pe)=>{var oe=Is(),ge=y(oe,!0);w(oe),z(Ce=>O(ge,Ce),[()=>t(n).tx(J())]),_(W,oe)};var A=y(F);{let W=m(()=>[te]),J=m(()=>t(n).cx(396));De(A,{get t(){return t(W)},get x(){return t(J)}})}w(F)}w(b);var U=M(b,2),Q=y(U,!0);w(U);var ae=M(U,2);{const te=W=>{var J=Os(),oe=y(J,!0);w(J),z(()=>{xe(J,"href",t(d).href),O(oe,t(d).href)}),_(W,J)};var X=y(ae);{let W=m(()=>[te]),J=m(()=>t(n).cx(398));De(X,{get t(){return t(W)},get x(){return t(J)}})}w(ae)}var ne=M(ae,2),ce=y(ne);{let te=m(()=>t(n).t(399));Ut(ce,{"show-label":!0,get label(){return t(te)},get value(){return t(s).enable},onchange:async W=>{await He("beamupPreferences",{...Qe().beamupPreferences,[e.protocol]:{...t(s),enable:W}})}})}w(ne);var ue=M(ne,2),j=y(ue),Z=y(j,!0);w(j);var he=M(j,2);{let te=m(()=>t(n).t(401)),W=m(()=>Qe().beamupPreferences[e.protocol]?.email??"");rr(he,{get label(){return t(te)},get value(){return t(W)},onblur:async J=>{await He("beamupPreferences",{...Qe().beamupPreferences,[e.protocol]:{...t(s),email:J.trim()||null}})}})}w(ue),z((te,W,J,oe,ge,Ce,Le,Fe,Pe)=>{O(v,te),O($,W),O(I,J),O(k,oe),O(N,ge),O(K,Ce),O(ee,Le),O(Q,Fe),O(Z,Pe)},[()=>t(n).t(388),()=>t(n).t(390),()=>t(n).t(391),()=>t(n).t(392),()=>t(n).t(393),()=>t(n).t(394),()=>t(n).t(395),()=>t(n).t(397),()=>t(n).t(400)]),_(g,c)},$$slots:{footer:!0,default:!0}})}we()}var Es=D("<button><!> <!></button>"),Ds=D('<strong class="onoff-indicator on svelte-1b302ru"> </strong>'),Fs=D('<strong class="onoff-indicator off svelte-1b302ru"> </strong>'),Rs=D('<code class="svelte-1b302ru"> </code>'),Ls=D("<!> <!>",1),Ns=D('<div class="item svelte-1b302ru"><div class="label svelte-1b302ru"><div class="icon svelte-1b302ru"><!></div> </div> <div class="version svelte-1b302ru"><!></div></div>'),zs=D("<!> <!>",1);function Hs(r,e){be(e,!0);const n=m(()=>je(Be("main")));let o=le(void 0);const a=m(()=>Y.currentProtocol?.beamup),d=m(()=>Qe().beamupPreferences[Y.currentProtocolId]);var s=zs(),i=C(s);{var f=u=>{Ts(u,{get protocol(){return Y.currentProtocolId},get config(){return t(a)},get open(){return t(o)},set open(c){E(o,c,!0)}})};G(i,u=>{t(a)&&u(f)})}var g=M(i,2);{const u=(v,l=pe)=>{var h=Es();Me(h,()=>({class:"trigger",...l(),[yn]:{"none-selected":!Y.currentProtocol}}),void 0,void 0,"svelte-1b302ru");var b=y(h);{var x=I=>{var S=me();z(()=>O(S,Y.currentProtocol?.name)),_(I,S)},$=I=>{var S=me();z(k=>O(S,k),[()=>t(n).t(35)]),_(I,S)};G(b,I=>{Y.currentProtocol?I(x):I($,!1)})}var T=M(b,2);Ps(T,{}),w(h),_(v,h)},c=(v,l)=>{let h=()=>l?.().label,b=()=>l?.().kind,x=()=>l?.().protocol;var $=Ns(),T=y($),I=y(T),S=y(I);{var k=F=>{Cs(F,{})},P=F=>{var A=H(),U=C(A);{var Q=X=>{_o(X,{})},ae=X=>{var ne=H(),ce=C(ne);{var ue=j=>{Hr(j,{})};G(ce,j=>{Y.currentProtocolId===x()?.id&&j(ue)},!0)}_(X,ne)};G(U,X=>{b()==="manage"?X(Q):X(ae,!1)},!0)}_(F,A)};G(S,F=>{b()==="beamup"?F(k):F(P,!1)})}w(I);var N=M(I);w(T);var R=M(T,2),K=y(R);{var B=F=>{var A=Ds(),U=y(A,!0);w(A),z(Q=>O(U,Q),[()=>t(n).t(385)]),_(F,A)},ee=F=>{var A=H(),U=C(A);{var Q=X=>{var ne=Fs(),ce=y(ne,!0);w(ne),z(ue=>O(ce,ue),[()=>t(n).t(386)]),_(X,ne)},ae=X=>{var ne=H(),ce=C(ne);{var ue=j=>{var Z=Ls(),he=C(Z);{var te=J=>{var oe=Rs(),ge=y(oe);w(oe),Ir(oe,(Ce,Le)=>Or?.(Ce,Le),()=>"Version du protocole"),z(()=>O(ge,`v${x().version??""}`)),_(J,oe)};G(he,J=>{x().version&&J(te)})}var W=M(he,2);co(W,dt({compact:!0},x)),_(j,Z)};G(ce,j=>{x()&&j(ue)},!0)}_(X,ne)};G(U,X=>{b()==="beamup"?X(Q):X(ae,!1)},!0)}_(F,A)};G(K,F=>{b()==="beamup"&&t(d)?.enable?F(B):F(ee,!1)})}w(R),w($),z(()=>O(N,` ${h()??""}`)),_(v,$)};let p=m(()=>Ue.Protocol.state.map(v=>({protocol:v,key:v.id,kind:"protocol",label:v.name,selected:Y.currentProtocolId===v.id,onclick(){Y.setCurrentProtocolId(v.id)}})));Jr(g,{testid:"protocol-switcher",get selectableItems(){return t(p)},items:[{protocol:null,kind:"beamup",label:"Contribuer à l'amélioration",onclick(){t(o)?.()}},{protocol:null,kind:"manage",label:"Gérer les protocoles",onclick(){it("/protocols")}}],trigger:u,item:c,$$slots:{trigger:!0,item:!0}})}_(r,s),we()}var Ks=tt('<svg><path fill="currentColor" d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12S6.477 2 12 2h.1A6.98 6.98 0 0 0 10 7m-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938A8 8 0 0 0 4 12"></path></svg>');function qs(r,e){const n=$e(e,["$$slots","$$events","$$legacy"]);var o=Ks();Me(o,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...n})),_(r,o)}var Gs=tt('<svg><path fill="currentColor" d="M3.34 17a10 10 0 0 1-.979-2.326a3 3 0 0 0 .003-5.347a10 10 0 0 1 2.5-4.337a3 3 0 0 0 4.632-2.674a10 10 0 0 1 5.007.003a3 3 0 0 0 4.632 2.671a10.06 10.06 0 0 1 2.503 4.336a3 3 0 0 0-.002 5.347a10 10 0 0 1-2.501 4.337a3 3 0 0 0-4.632 2.674a10 10 0 0 1-5.007-.002a3 3 0 0 0-4.631-2.672A10 10 0 0 1 3.339 17m5.66.196a5 5 0 0 1 2.25 2.77q.75.07 1.499.002a5 5 0 0 1 2.25-2.772a5 5 0 0 1 3.526-.564q.435-.614.748-1.298A5 5 0 0 1 18 12c0-1.26.47-2.437 1.273-3.334a8 8 0 0 0-.75-1.298A5 5 0 0 1 15 6.804a5 5 0 0 1-2.25-2.77q-.75-.071-1.5-.001A5 5 0 0 1 9 6.804a5 5 0 0 1-3.526.564q-.436.614-.747 1.298A5 5 0 0 1 6 12c0 1.26-.471 2.437-1.273 3.334a8 8 0 0 0 .75 1.298A5 5 0 0 1 9 17.196M12 15a3 3 0 1 1 0-6a3 3 0 0 1 0 6m0-2a1 1 0 1 0 0-2a1 1 0 0 0 0 2"></path></svg>');function Us(r,e){const n=$e(e,["$$slots","$$events","$$legacy"]);var o=Gs();Me(o,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...n})),_(r,o)}var js=tt('<svg><path fill="currentColor" d="m19 3l4 5h-3v12h-2V8h-3zm-5 15v2H3v-2zm0-7v2H3v-2zm-2-7v2H3V4z"></path></svg>');function Bs(r,e){const n=$e(e,["$$slots","$$events","$$legacy"]);var o=js();Me(o,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...n})),_(r,o)}var Ws=tt('<svg><path fill="currentColor" d="M20 4v12h3l-4 5l-4-5h3V4zm-8 14v2H3v-2zm2-7v2H3v-2zm0-7v2H3V4z"></path></svg>');function Vs(r,e){const n=$e(e,["$$slots","$$events","$$legacy"]);var o=Ws();Me(o,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...n})),_(r,o)}var Ys=tt('<svg><path fill="currentColor" d="M5 11v2h14v-2z"></path></svg>');function Xs(r,e){const n=$e(e,["$$slots","$$events","$$legacy"]);var o=Ys();Me(o,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...n})),_(r,o)}var Js=tt('<svg><path fill="currentColor" d="M12 18a6 6 0 1 1 0-12a6 6 0 0 1 0 12m0-2a4 4 0 1 0 0-8a4 4 0 0 0 0 8M11 1h2v3h-2zm0 19h2v3h-2zM3.515 4.929l1.414-1.414L7.05 5.636L5.636 7.05zM16.95 18.364l1.414-1.414l2.121 2.121l-1.414 1.414zm2.121-14.85l1.414 1.415l-2.121 2.121l-1.414-1.414zM5.636 16.95l1.414 1.414l-2.121 2.121l-1.414-1.414zM23 11v2h-3v-2zM4 11v2H1v-2z"></path></svg>');function Qs(r,e){const n=$e(e,["$$slots","$$events","$$legacy"]);var o=Js();Me(o,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...n})),_(r,o)}var Zs=D('<p class="details svelte-qprabs"> </p>'),ei=D("<a> </a>"),ti=D("<a> </a>"),ri=D('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <dialog class="container svelte-qprabs" data-testid="app-settings"><header class="svelte-qprabs"> </header> <div class="listParam svelte-qprabs"><div class="label svelte-qprabs"> </div> <div class="setting svelte-qprabs"><!> <!></div> <div class="label svelte-qprabs"> </div> <div class="setting svelte-qprabs"><!></div> <div class="label svelte-qprabs"> </div> <div class="setting svelte-qprabs"><!> <!></div> <div class="label svelte-qprabs"> </div> <div class="setting svelte-qprabs"><input type="range" min="0.5" max="2" step="0.01" list="gridsize-marks"/> <datalist id="gridsize-marks"><option></option></datalist></div> <div class="label svelte-qprabs"> </div> <div class="setting svelte-qprabs"><!></div> <div class="label svelte-qprabs"><!></div> <div class="setting svelte-qprabs"><!> <div class="number-input svelte-qprabs"><!></div> <!></div></div> <section class="actions svelte-qprabs"><!> <!></section> <footer class="svelte-qprabs"><!></footer></dialog>',1);function ni(r,e){be(e,!0);const n=m(()=>je(Be("main")));let o=le(!1),a=le(void 0);Oe(()=>{window.addEventListener("mouseup",({target:L})=>{L!==t(a)&&(t(a)?.contains(L)||E(o,!1))})});const d=m(Qe),s=m(()=>t(d).theme),i=m(()=>t(d).showTechnicalMetadata),f=m(()=>t(d).gallerySort),g=m(()=>t(d).gridSize),u=m(()=>t(d).language),c=m(()=>t(d).parallelism);let p=le(!0);Oe(()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",L=>{E(p,!L.matches)})});const v=m(()=>{const L=Qe().theme;return L==="auto"?t(p)?"light":"dark":L});Cr(()=>t(v),L=>{window.nativeWindow?.setControlsColor(getComputedStyle(document.documentElement).getPropertyValue(`--${L}__fg-primary`))});var l=ri(),h=C(l);{let L=m(()=>t(o)?"Fermer":"Réglages");yt(h,()=>({"--fg":"var(--trigger-fg)","--bg":"var(--trigger-bg)","--hover-fg":"var(--trigger-hover-fg)","--hover-bg":"var(--trigger-hover-bg)"})),ct(h.lastChild,{"data-testid":"settings-button",get help(){return t(L)},onclick:()=>{E(o,!t(o))},children:(re,fe)=>{var ie=H(),ke=C(ie);{var Ae=Ie=>{yo(Ie,{})},rt=Ie=>{Us(Ie,{})};G(ke,Ie=>{t(o)?Ie(Ae):Ie(rt,!1)})}_(re,ie)},$$slots:{default:!0}}),w(h)}var b=M(h,2),x=y(b),$=y(x,!0);w(x);var T=M(x,2),I=y(T),S=y(I,!0);w(I);var k=M(I,2),P=y(k);{let L=m(()=>t(s)==="auto"?t(p):t(s)==="light"),re=m(()=>({on:Qs,off:qs}));Ut(P,{get value(){return t(L)},onchange:async fe=>{await He("theme",fe?"light":"dark")},get icons(){return t(re)}})}var N=M(P,2);{let L=m(()=>t(s)==="auto"),re=m(()=>t(n).t(176));ct(N,{get disabled(){return t(L)},onclick:async()=>await He("theme","auto"),get help(){return t(re)},children:(fe,ie)=>{xo(fe,{})},$$slots:{default:!0}})}w(k);var R=M(k,2),K=y(R,!0);w(R);var B=M(R,2),ee=y(B);Ut(ee,{"data-testid":"debug-mode",get value(){return t(i)},onchange:async L=>{await He("showTechnicalMetadata",L)}}),w(B);var F=M(B,2),A=y(F,!0);w(F);var U=M(F,2),Q=y(U),ae=()=>t(f).key,X=L=>He("gallerySort",{...t(f),key:L});{let L=m(()=>t(n).t(144));Wt(Q,{get"aria-label"(){return t(L)},options:["filename","date"],get value(){return ae()},set value(re){X(re)},labels:{filename:"Fichier",date:"Date"}})}var ne=M(Q,2);{let L=m(()=>t(f).direction==="asc"?"Trier par ordre décroissant":"Trier par ordre croissant");ct(ne,{"data-testid":"toggle-sort-direction",onclick:async()=>await He("gallerySort",{...t(f),direction:t(f).direction==="asc"?"desc":"asc"}),get help(){return t(L)},children:(re,fe)=>{var ie=H(),ke=C(ie);{var Ae=Ie=>{Bs(Ie,{})},rt=Ie=>{Vs(Ie,{})};G(ke,Ie=>{t(f).direction==="asc"?Ie(Ae):Ie(rt,!1)})}_(re,ie)},$$slots:{default:!0}})}w(U);var ce=M(U,2),ue=y(ce,!0);w(ce);var j=M(ce,2),Z=y(j);xn(Z);var he=M(Z,2),te=y(he);te.value=te.__value="1",w(he),w(j);var W=M(j,2),J=y(W,!0);w(W);var oe=M(W,2),ge=y(oe);{const L=(fe,ie=pe)=>{const ke=m(()=>({en:"English",fr:"Français",ja:"日本語"}));Ee();var Ae=me();z(()=>O(Ae,t(ke)[ie()]||ie())),_(fe,Ae)};let re=m(()=>t(n).t(122));Wt(ge,{"data-testid":"language-selection",get"aria-label"(){return t(re)},"clickable-custom-options":!0,options:["en","fr"],get value(){return t(u)},onchange:async fe=>{await He("language",fe),window.location.reload()},customOption:L,$$slots:{customOption:!0}})}w(oe);var Ce=M(oe,2);{const L=(re,fe=pe)=>{var ie=Zs(),ke=y(ie,!0);w(ie),z(Ae=>O(ke,Ae),[()=>t(n).tx(fe())]),_(re,ie)};var Le=y(Ce);{let re=m(()=>[L]),fe=m(()=>t(n).cx(372));De(Le,{get t(){return t(re)},get x(){return t(fe)}})}w(Ce)}var Fe=M(Ce,2),Pe=y(Fe);{let L=m(()=>t(n).t(373));ct(Pe,{get help(){return t(L)},onclick:async()=>{await He("parallelism",Math.max(1,t(c)-1))},children:(re,fe)=>{Xs(re,{})},$$slots:{default:!0}})}var Se=M(Pe,2),Re=y(Se);{let L=m(()=>t(n).t(374));rr(Re,{get label(){return t(L)},get value(){return t(c)},onblur:async re=>{await He("parallelism",Number.parseInt(re))}})}w(Se);var Ne=M(Se,2);{let L=m(()=>t(n).t(375));ct(Ne,{get help(){return t(L)},onclick:async()=>{await He("parallelism",t(c)+1)},children:(re,fe)=>{wo(re,{})},$$slots:{default:!0}})}w(Fe),w(T);var V=M(T,2),de=y(V);Ve(de,{onclick:()=>{e.openKeyboardShortcuts?.()},children:(L,re)=>{Ee();var fe=me();z(ie=>O(fe,ie),[()=>t(n).t(153)]),_(L,fe)},$$slots:{default:!0}});var ve=M(de,2);{let L=m(()=>t(n).t(189));Ve(ve,{get help(){return t(L)},onclick:()=>{e.openPrepareForOfflineUse?.()},children:(re,fe)=>{Ee();var ie=me();z(ke=>O(ie,ke),[()=>t(n).t(151)]),_(re,ie)},$$slots:{default:!0}})}w(V);var ye=M(V,2);{const L=fe=>{var ie=ei(),ke=y(ie,!0);w(ie),z(Ae=>{xe(ie,"href","https://github.com/cigaleapp/cigale/tree/ac0ccf7aaa725c4cd32d23e833f44b204891973f"),O(ke,Ae)},[()=>"ac0ccf7aaa725c4cd32d23e833f44b204891973f".slice(0,7)]),_(fe,ie)},re=(fe,ie=pe)=>{var ke=ti();ke.__click=()=>{E(o,!1)};var Ae=y(ke,!0);w(ke),z((rt,Ie)=>{xe(ke,"href",rt),O(Ae,Ie)},[()=>lt("/about"),()=>t(n).tx(ie())]),_(fe,ke)};var ze=y(ye);{let fe=m(()=>[L,re]),ie=m(()=>t(n).cx(46));De(ze,{get t(){return t(fe)},get x(){return t(ie)}})}w(ye)}w(b),bo(b,L=>E(a,L),()=>t(a)),z((L,re,fe,ie,ke,Ae)=>{xe(b,"data-theme",t(s)),b.open=t(o)?!0:void 0,O($,L),O(S,re),O(K,fe),O(A,ie),O(ue,ke),O(J,Ae)},[()=>t(n).t(163),()=>t(n).t(184),()=>t(n).t(133),()=>t(n).t(187),()=>t(n).t(181),()=>t(n).t(121)]),En("blur",Z,async()=>He("gridSize",t(g))),ho(Z,()=>t(g),L=>{const re=Ue.Settings.state;re[re.findIndex(fe=>fe.id==="user")].gridSize=L}),_(r,l),we()}Yt(["click"]);var oi=D('<div class="selected-model-indicator svelte-1nmekgl"><!></div> ',1),ai=D('<div class="inference svelte-1nmekgl"><!></div>'),si=D('<button class="pr-number svelte-1nmekgl"><!></button>'),ii=D('<div class="line svelte-1nmekgl"></div>'),li=D('<div class="line svelte-1nmekgl"></div>'),ci=D('<div class="line svelte-1nmekgl"></div>'),ui=D('<!> <!> <header><div class="progressbar svelte-1nmekgl"><!></div> <nav data-testid="app-nav"><div class="logo svelte-1nmekgl"><a class="svelte-1nmekgl"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></a> <!></div> <div class="steps svelte-1nmekgl"><a data-testid="goto-import" class="svelte-1nmekgl"><!></a> <div class="separator svelte-1nmekgl"><!></div> <div class="with-inference-indicator svelte-1nmekgl"><a data-testid="goto-crop" class="svelte-1nmekgl"><!></a> <!></div> <div class="separator svelte-1nmekgl"><!></div> <div class="with-inference-indicator svelte-1nmekgl"><a data-testid="goto-classify" class="svelte-1nmekgl"><!></a> <!></div> <div class="separator svelte-1nmekgl"><!></div> <!></div> <aside><!> <div class="settings svelte-1nmekgl"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></div></aside></nav></header>',1);function di(r,e){be(e,!0);const n=(V,de=pe,ve=pe,ye=pe,ze=pe)=>{var L=ai(),re=y(L);{var fe=ie=>{{const ke=(ht,Xe=pe)=>{ct(ht,dt({help:""},Xe,{children:(Et,sr)=>{io(Et,{})},$$slots:{default:!0}}))},Ae=(ht,Xe)=>{let Et=()=>Xe?.().label,sr=()=>Xe?.().key;var ir=oi(),Dt=C(ir),rn=y(Dt);{var nn=Ft=>{Hr(Ft,{})};G(rn,Ft=>{sr()===ye()&&Ft(nn)})}w(Dt);var on=M(Dt);z(()=>O(on,` ${Et()??""}`)),_(ht,ir)};let rt=m(()=>t(o).t(134)),Ie=m(()=>[{key:-1,label:"Aucune inférence",selected:ye()===-1,onclick:()=>ze()(-1)},...ve().map((ht,Xe)=>({key:Xe,label:ht.name??"",onclick:()=>ze()(Xe),selected:ye()===Xe}))]);Jr(ie,{get testid(){return`${de()??""}-models`},get help(){return t(rt)},items:[],get selectableItems(){return t(Ie)},trigger:ke,item:Ae,$$slots:{trigger:!0,item:!0}})}};G(re,ie=>{Y.currentProtocol&&ie(fe)})}w(L),_(V,L)},o=m(()=>je(Be("main")));let a=q(e,"progress",3,0),d=q(e,"floating",3,!1);const s=m(()=>Ye.url.hash.replace(/^#/,"")),i=m(()=>Ue.Image.state.length>0);let f=le(void 0),g=le(void 0),u=le(void 0),c=le(void 0),p=le(!0),v=le(!1),l=le(!1);Oe(()=>{E(l,"nativeWindow"in window)}),Oe(()=>{t(g)&&window.nativeWindow?.setControlsHeight(t(g))}),Oe(()=>{window.nativeWindow?.setProgress(Ar(a(),0,1)),a()>=1&&window.nativeWindow?.startCallingAttention()}),Oe(()=>{if(t(l))return;const V=document.title.replace(/^(⏳ \d+% ·|🆗) /,"");a()>=1||t(v)?document.title=`🆗 ${V}`:a()===0?document.title=V:document.title=`⏳ ${$n(a())} · ${V}`}),Oe(()=>{document.addEventListener("processing-queue-drained",()=>{t(p)||E(v,!0)}),window.addEventListener("focus",()=>{E(v,!1),E(p,!0)}),window.addEventListener("blur",()=>{E(p,!1)})}),Kt("navigation",{"g p":{do:()=>it("/"),help:t(o).t(61)},"g i":{do:()=>it("/import"),help:t(o).t(110)},"g r":{do:()=>it("/crop"),help:t(o).t(156)},"g n":{do:()=>it("/classify"),help:t(o).t(66)},"g x":{do:()=>t(u)(),help:t(o).t(95)},"g m":{do:()=>it("/protocols/"),help:t(o).t(101)}});var h=ui(),b=C(h);Ms(b,{get swarpc(){return e.swarpc},get open(){return t(u)},set open(V){E(u,V,!0)}});var x=M(b,2);{var $=V=>{gs(V,{get open(){return t(c)},set open(de){E(c,de,!0)}})};G(x,V=>{V($)})}var T=M(x,2);let I;var S=y(T),k=y(S);{let V=m(()=>Y.processing.task==="export"?0:a());er(k,{get progress(){return t(V)}})}w(S);var P=M(S,2);let N;var R=y(P),K=y(R),B=y(K);yt(B,()=>({"--stroke-width":"75","--size":"2rem","--fill":"transparent"})),uo(B.lastChild,{}),w(B),w(K);var ee=M(K,2);{var F=V=>{var de=si();de.__click=function(...ye){t(c)?.apply(this,ye)};var ve=y(de);{let ye=m(()=>t(o).cx(147)),ze=m(()=>[We]);De(ve,{get x(){return t(ye)},get a(){return t(ze)}})}w(de),_(V,de)};G(ee,V=>{V(F)})}w(R);var A=M(R,2),U=y(A);{const V=de=>{var ve=H(),ye=C(ve);{var ze=L=>{var re=ii();_(L,re)};G(ye,L=>{t(s)=="/import"&&L(ze)})}_(de,ve)};var Q=y(U);{let de=m(()=>[V]),ve=m(()=>t(o).cx(109));De(Q,{get t(){return t(de)},get x(){return t(ve)}})}w(U)}var ae=M(U,2),X=y(ae);Lt(X,{}),w(ae);var ne=M(ae,2),ce=y(ne);{const V=de=>{var ve=H(),ye=C(ve);{var ze=L=>{var re=li();_(L,re)};G(ye,L=>{t(s).startsWith("/crop")&&L(ze)})}_(de,ve)};var ue=y(ce);{let de=m(()=>[V]),ve=m(()=>t(o).cx(155));De(ue,{get t(){return t(de)},get x(){return t(ve)}})}w(ce)}var j=M(ce,2);n(j,()=>"crop",()=>Y.cropModels,()=>Y.selectedCropModel,()=>V=>Y.setModelSelections({crop:V})),w(ne);var Z=M(ne,2),he=y(Z);Lt(he,{}),w(Z);var te=M(Z,2),W=y(te);{const V=de=>{var ve=H(),ye=C(ve);{var ze=L=>{var re=ci();_(L,re)};G(ye,L=>{t(s)=="/classify"&&L(ze)})}_(de,ve)};var J=y(W);{let de=m(()=>[V]),ve=m(()=>t(o).cx(65));De(J,{get t(){return t(de)},get x(){return t(ve)}})}w(W)}var oe=M(W,2);n(oe,()=>"classify",()=>Y.classificationModels,()=>Y.selectedClassificationModel,()=>V=>Y.setModelSelections({classification:V})),w(te),Ir(te,(V,de)=>Or?.(V,de),()=>Y.processing.task==="detection"&&Y.processing.progress<1?"Veuillez attendre la fin de l'analyse des images avant de les classifier":void 0);var ge=M(te,2),Ce=y(ge);Lt(Ce,{}),w(ge);var Le=M(ge,2);Ve(Le,{testid:"export-results-button",tight:!0,get onclick(){return t(u)},children:(V,de)=>{Ee();var ve=me();z(ye=>O(ve,ye),[()=>t(o).t(13)]),_(V,ve)},$$slots:{default:!0}}),w(A);var Fe=M(A,2);let Pe;var Se=y(Fe);Hs(Se,{});var Re=M(Se,2),Ne=y(Re);yt(Ne,()=>({"--navbar-height":`${t(f)??""}px`})),ni(Ne.lastChild,{get openPrepareForOfflineUse(){return e.openPrepareForOfflineUse},get openKeyboardShortcuts(){return e.openKeyboardShortcuts}}),w(Ne),w(Re),w(Fe),w(P),w(T),z((V,de,ve,ye)=>{I=_t(T,1,"svelte-1nmekgl",null,I,{"native-window":t(l)}),N=_t(P,1,"svelte-1nmekgl",null,N,{floating:d()}),xe(K,"href",V),xe(U,"href",de),xe(U,"aria-disabled",!Y.currentProtocol),xe(ce,"href",ve),xe(ce,"aria-disabled",!Y.currentProtocol||!t(i)),xe(W,"href",ye),xe(W,"aria-disabled",!Y.currentProtocol||!t(i)||Y.processing.task==="detection"&&Y.processing.progress<1),Pe=_t(Fe,1,"svelte-1nmekgl",null,Pe,{native:t(l)})},[()=>lt("/"),()=>lt("/import"),()=>Ye.route.id!=="/(app)/(sidepanel)/crop/[image]"&&Y.imageOpenedInCropper?lt("/(app)/(sidepanel)/crop/[image]",{image:Y.imageOpenedInCropper}):lt("/crop"),()=>lt("/classify")]),gr(P,"clientHeight",V=>E(g,V)),gr(T,"clientHeight",V=>E(f,V)),_(r,h),we()}Yt(["click"]);async function fi(r,e){const n=Ue.Protocol.state.filter(d=>r.includes(d.id));if(n.length<r.length)throw new Error(`Some protocols not found in ${r.join(", ")}`);const o=[...n.flatMap(d=>d.crop.infer?.map(s=>s.model)??[]),...n.flatMap(d=>d.metadata.map(s=>Ue.Metadata.getFromState(s)).filter(qt).flatMap(({infer:s})=>s&&"neural"in s?s.neural.map(({model:i})=>i):[]))],a=await Promise.allSettled(o.map((d,s)=>zn(d,{cacheAs:"model",onProgress({total:i,transferred:f}){e?.({done:f,total:i,modelNo:s,modelURL:_r(d)})}})));if(a.some(d=>d.status==="rejected"))throw new Error("Could not download all models: "+a.map((d,s)=>{if(d.status!=="fulfilled")return`${_r(o[s])}: ${d.reason}`}).filter(qt).join("; "))}var vi=D('<li class="svelte-au9nsu"><span class="url svelte-au9nsu"> </span> <!></li>'),pi=D("<!> ",1),hi=D('<p> </p> <ul class="bars svelte-au9nsu"></ul> <section class="state svelte-au9nsu"><!></section>',1);function gi(r,e){be(e,!0);const n=m(()=>je(Be("main")));let o=q(e,"open",15),a=le(void 0),d=le(void 0);async function s(){await fi(Ue.Protocol.state.map(u=>u.id),({modelNo:u,...c})=>{i.set(u,c)}).catch(u=>{E(a,u,!0)})}Oe(()=>{t(f)&&i.values().every(u=>u.done>=u.total)&&E(a,!0)});let i=new $r;const f=m(()=>i.size>0),g=m(()=>Rn(t(a)===!0?"success":"error"));{const u=(p,v)=>{let l=()=>v?.().close;var h=H(),b=C(h);{var x=T=>{jt(T,{get loading(){return t(f)},onclick:s,children:(I,S)=>{Ee();var k=me();z(P=>O(k,P),[()=>t(n).t(77)]),_(I,k)},$$slots:{default:!0}})},$=T=>{jt(T,{onclick:()=>{i.clear(),E(a,void 0),l()?.()},children:(I,S)=>{Ee();var k=me();z(P=>O(k,P),[()=>t(n).t(96)]),_(I,k)},$$slots:{default:!0}})};G(b,T=>{t(a)!==!0?T(x):T($,!1)})}_(p,h)};let c=m(()=>t(n).t(151));Mt(r,{key:"modal_prepare_for_offline",get title(){return t(c)},get open(){return o()},set open(p){o(p)},get close(){return t(d)},set close(p){E(d,p,!0)},footer:u,children:(p,v)=>{var l=hi(),h=C(l),b=y(h,!0);w(h);var x=M(h,2);at(x,21,()=>i,([P,{done:N,total:R,modelURL:K}])=>P,(P,N)=>{var R=m(()=>$t(t(N),2));let K=()=>t(R)[1].done,B=()=>t(R)[1].total,ee=()=>t(R)[1].modelURL;var F=vi(),A=y(F),U=y(A,!0);w(A);var Q=M(A,2);{let ae=m(()=>Ar(K()/B(),0,1));er(Q,{alwaysActive:!0,get progress(){return t(ae)}})}w(F),z(()=>O(U,ee())),_(P,F)}),w(x);var $=M(x,2);let T;var I=y($);{var S=P=>{const N=R=>{var K=H(),B=C(K);Ke(B,()=>t(g),(ee,F)=>{F(ee,{})}),_(R,K)};{let R=m(()=>[N]),K=m(()=>t(n).cx(8));De(P,{get t(){return t(R)},get x(){return t(K)}})}},k=P=>{var N=H(),R=C(N);{var K=ee=>{var F=pi(),A=C(F);Ke(A,()=>t(g),(Q,ae)=>{ae(Q,{})});var U=M(A);z(()=>O(U,` ${t(a)??""}`)),_(ee,F)},B=ee=>{var F=H(),A=C(F);{var U=Q=>{const ae=X=>{Kr(X,{})};{let X=m(()=>[ae]),ne=m(()=>t(n).cx(2));De(Q,{get t(){return t(X)},get x(){return t(ne)}})}};G(A,Q=>{i.size>0&&Q(U)},!0)}_(ee,F)};G(R,ee=>{t(a)!==void 0?ee(K):ee(B,!1)},!0)}_(P,N)};G(I,P=>{t(a)===!0?P(S):P(k,!1)})}w($),z(P=>{O(b,P),T=Sr($,"",T,{color:`var(--fg-${t(a)===!0?"success":t(f)?"secondary":"error"})`})},[()=>t(n).t(188)]),_(p,l)},$$slots:{footer:!0,default:!0}})}we()}function mi(r){const e={encode:o=>JSON.stringify(o),decode:o=>{if(o===null)return null;try{return JSON.parse(o)}catch{return null}},defaultValue:r};function n(o){return{...e,equalityFn:o}}return Object.assign(n,e)}function _i(r){const e={encode:o=>JSON.stringify(o),decode:o=>{if(o===null)return null;try{return JSON.parse(o)}catch{return null}},defaultValue:r};function n(o){return{...e,equalityFn:o}}return Object.assign(n,e)}let Pt=String.fromCharCode,Qr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",St={};function bi(r,e){if(!St[r]){St[r]={};for(let n=0;n<r.length;n++)St[r][r.charAt(n)]=n}return St[r][e]}function wi(r){return r==null?"":xi(r,6,function(e){return Qr.charAt(e)})}function yi(r){return r==null?"":r==""?null:Mi((r=r.replace(/ /g,"+")).length,32,function(e){return bi(Qr,r.charAt(e))})}function xi(r,e,n){if(r==null)return"";let o,a,d={},s={},i="",f="",g="",u=2,c=3,p=2,v=[],l=0,h=0,b;for(b=0;b<r.length;b+=1)if(i=r.charAt(b),Object.prototype.hasOwnProperty.call(d,i)||(d[i]=c++,s[i]=!0),f=g+i,Object.prototype.hasOwnProperty.call(d,f))g=f;else{if(Object.prototype.hasOwnProperty.call(s,g)){if(256>g.charCodeAt(0)){for(o=0;o<p;o++)l<<=1,h==e-1?(h=0,v.push(n(l)),l=0):h++;for(o=0,a=g.charCodeAt(0);o<8;o++)l=l<<1|1&a,h==e-1?(h=0,v.push(n(l)),l=0):h++,a>>=1}else{for(o=0,a=1;o<p;o++)l=l<<1|a,h==e-1?(h=0,v.push(n(l)),l=0):h++,a=0;for(o=0,a=g.charCodeAt(0);o<16;o++)l=l<<1|1&a,h==e-1?(h=0,v.push(n(l)),l=0):h++,a>>=1}--u==0&&(u=Math.pow(2,p),p++),delete s[g]}else for(o=0,a=d[g];o<p;o++)l=l<<1|1&a,h==e-1?(h=0,v.push(n(l)),l=0):h++,a>>=1;--u==0&&(u=Math.pow(2,p),p++),d[f]=c++,g=String(i)}if(g!==""){if(Object.prototype.hasOwnProperty.call(s,g)){if(256>g.charCodeAt(0)){for(o=0;o<p;o++)l<<=1,h==e-1?(h=0,v.push(n(l)),l=0):h++;for(o=0,a=g.charCodeAt(0);o<8;o++)l=l<<1|1&a,h==e-1?(h=0,v.push(n(l)),l=0):h++,a>>=1}else{for(o=0,a=1;o<p;o++)l=l<<1|a,h==e-1?(h=0,v.push(n(l)),l=0):h++,a=0;for(o=0,a=g.charCodeAt(0);o<16;o++)l=l<<1|1&a,h==e-1?(h=0,v.push(n(l)),l=0):h++,a>>=1}--u==0&&(u=Math.pow(2,p),p++),delete s[g]}else for(o=0,a=d[g];o<p;o++)l=l<<1|1&a,h==e-1?(h=0,v.push(n(l)),l=0):h++,a>>=1;--u==0&&(u=Math.pow(2,p),p++)}for(o=0,a=2;o<p;o++)l=l<<1|1&a,h==e-1?(h=0,v.push(n(l)),l=0):h++,a>>=1;for(;;){if(l<<=1,h==e-1){v.push(n(l));break}h++}return v.join("")}function Mi(r,e,n){let o=[],a=4,d=4,s=3,i="",f=[],g,u,c,p,v,l,h,b={val:n(0),position:e,index:1};for(g=0;g<3;g+=1)o[g]=g;for(c=0,v=4,l=1;l!=v;)p=b.val&b.position,b.position>>=1,b.position==0&&(b.position=e,b.val=n(b.index++)),c|=(p>0?1:0)*l,l<<=1;switch(c){case 0:for(c=0,v=256,l=1;l!=v;)p=b.val&b.position,b.position>>=1,b.position==0&&(b.position=e,b.val=n(b.index++)),c|=(p>0?1:0)*l,l<<=1;h=Pt(c);break;case 1:for(c=0,v=65536,l=1;l!=v;)p=b.val&b.position,b.position>>=1,b.position==0&&(b.position=e,b.val=n(b.index++)),c|=(p>0?1:0)*l,l<<=1;h=Pt(c);break;case 2:return""}for(o[3]=h,u=h,f.push(h);;){if(b.index>r)return"";for(c=0,v=Math.pow(2,s),l=1;l!=v;)p=b.val&b.position,b.position>>=1,b.position==0&&(b.position=e,b.val=n(b.index++)),c|=(p>0?1:0)*l,l<<=1;switch(h=c){case 0:for(c=0,v=256,l=1;l!=v;)p=b.val&b.position,b.position>>=1,b.position==0&&(b.position=e,b.val=n(b.index++)),c|=(p>0?1:0)*l,l<<=1;o[d++]=Pt(c),h=d-1,a--;break;case 1:for(c=0,v=65536,l=1;l!=v;)p=b.val&b.position,b.position>>=1,b.position==0&&(b.position=e,b.val=n(b.index++)),c|=(p>0?1:0)*l,l<<=1;o[d++]=Pt(c),h=d-1,a--;break;case 2:return f.join("")}if(a==0&&(a=Math.pow(2,s),s++),o[h])i=o[h];else{if(h!==d)return null;i=u+u.charAt(0)}f.push(i),o[d++]=u+i.charAt(0),a--,u=i,a==0&&(a=Math.pow(2,s),s++)}}function ki(r){const e={encode:o=>wi(JSON.stringify(o)),decode:o=>{if(!o)return null;try{return JSON.parse(yi(o)??"")}catch{return null}},defaultValue:r};function n(o){return{...e,equalityFn:o}}return Object.assign(n,e)}function zt({encode:r,decode:e}){function n(o){return{encode:r,decode:e,defaultValue:o}}return n}const Pi={number:zt({encode:r=>r.toString(),decode:r=>r?parseFloat(r):null}),boolean:zt({encode:r=>r+"",decode:r=>r!==null&&r!=="false"}),string:zt({encode:r=>r??"",decode:r=>r}),object:mi,array:_i,lz:ki},Si=()=>{const r=ko;return{page:{subscribe:r.page.subscribe},navigating:{subscribe:r.navigating.subscribe},updated:r.updated}},Ci={subscribe(r){return Si().page.subscribe(r)}};let Zr;Zr=Ci;function $i(r,e,n=(o,a)=>JSON.stringify(o)===JSON.stringify(a)){return typeof r=="object"&&typeof e=="object"&&n(r,e)}const Ii={keepFocus:!0,noScroll:!0,replaceState:!0},Oi={keepFocus:!0,noScroll:!0,replaceState:!1},Ht=new Set;let Mr;const kr=new Map,en=$o(Zr),At={encode:r=>r.toString(),decode:r=>r?r.toString():null},Pr=Symbol("raw");function ar(r,e,n,o,a){o[r]=e;const{debounceHistory:d=0,pushHistory:s=!0,sort:i=!0}=a,f=window.location.hash,g=c=>{if(e==null)c.delete(r);else{const p=(n.get(r)??At.encode)(e);p==null?c.delete(r):c.set(r,p)}};Ht.add(g),clearTimeout(Mr);const u=new URLSearchParams(window.location.search);Mr=setTimeout(async()=>{Ht.forEach(c=>{c(u)}),clearTimeout(kr.get(r));{async function c(){i&&u.sort(),await Po(`?${u}${f}`,s?Oi:Ii),o[r]=void 0}d===0?c():kr.set(r,setTimeout(c,d))}Ht.clear()})}function Ai(r,e,n,o){return(a,d,s)=>{const i=[...a],f=i.shift(),g=structuredClone(Ze(n[f])??r);let u=g;for(const c of i)u=u[c];u[d]=s,ar(f,Array.isArray(g)&&d==="length"?structuredClone(g):g,e,n,o)}}function tn(r,e,n,o,a,d,s,i=[],f){return new Proxy(r,{get(g,u){if(u===Pr)return g;const c=Reflect.get(g,u);if(typeof u=="symbol"||i.length!==0)return c;if(c)return Reflect.get(e,u);if(u==="toJSON")return()=>{const v=Ze(e),l=new URLSearchParams(window.location.search);for(const[h,b]of l.entries())h in e||(v[h]=b);return v};const p=e[u]??(n.get(u)??At.decode)(en.current.url.searchParams.get(u));return p!=null&&typeof p=="object"?tn(p,e,n,o,a,d,s,[...i,u],f??Ai(p,o,a,s)):p},set(g,u,c){return typeof u=="symbol"?Reflect.set(g,u,c):f?(f(i,u,c),!0):(ar(u,c,o,a,s),!0)},has(g,u){return u===Pr?!0:Reflect.has(g,u)}})}function Ti(r,e,n,o,a,d,s){return r==null&&typeof n!="boolean"&&n.defaultValue!=null?(o&&ar(e,n.defaultValue,a,d,s),!0):!1}function Ei(r,e={}){const{showDefaults:n=!0}=e,o={},a=new Map,d=new Map,s=new Map,i=Vt({});for(const f in r){const g=typeof r?.[f]=="boolean"?At.decode:r?.[f].decode,u=typeof r?.[f]=="boolean"?At.encode:r?.[f].encode;a.set(f,g),d.set(f,u);const c=m(()=>{const p=i[f]??g(en.current.url.searchParams.get(f)),v=s.get(f)??null;return $i(Ze(p),Ze(v),typeof r[f]=="boolean"?void 0:r[f].equalityFn)?v:(s.set(f,Ze(p)),p)});bn(()=>{Ti(t(c),f,r[f],n,d,i,e)&&(i[f]=r[f].defaultValue)}),Object.defineProperty(o,f,{get(){return t(c)},enumerable:!0})}return tn({},o,a,d,i,s,e)}var Di=D(" <strong> </strong> ",1),Fi=D("<a><!></a>");function Ri(r,e){be(e,!0);const n=p=>{Ee();var v=Di(),l=C(v,!0),h=M(l),b=y(h,!0);w(h);var x=M(h,1,!0);z(()=>{O(l,t(s)),O(b,t(o)),O(x,t(i))}),_(p,v)},o=m(()=>URL.canParse(e.url)?new URL(e.url).hostname:""),a=m(()=>e.url.split(t(o),2)),d=m(()=>$t(t(a),2)),s=m(()=>t(d)[0]),i=m(()=>t(d)[1]);var f=H(),g=C(f);{var u=p=>{var v=Fi(),l=y(v);n(l),w(v),z(()=>xe(v,"href",e.url)),_(p,v)},c=p=>{n(p)};G(g,p=>{e.linkify?p(u):p(c,!1)})}_(r,f),we()}var Li=D("<p> </p>"),Ni=D('<section class="modal-import-loading svelte-1qpv17f"><!></section>');function zi(r,e){be(e,!0);const n=m(()=>je(Be("main"))),o=m(()=>Ye.data),a=m(()=>t(o).swarpc);let d=le(!1);const s={encode:u=>u===null?void 0:(Number(u)+1).toString(),decode:u=>u===null?null:Number(u)-1},i=Ei({protocol:Pi.string(),classificationModel:s,cropModel:s});let f=le(void 0);const g=m(()=>!!(i.protocol?.startsWith("https:")&&URL.canParse(i.protocol)));So(()=>{t(g)&&t(f)&&!t(d)&&t(f)()}),Oe(()=>{t(g)||(i.protocol&&(Y.setCurrentProtocolId(i.protocol),i.protocol=null),Y.setModelSelections({classification:i.classificationModel,crop:i.cropModel}).then(()=>{i.classificationModel!==null&&(i.classificationModel=null),i.cropModel!==null&&(i.cropModel=null)}))});{const u=l=>{var h=H(),b=C(h);{var x=$=>{Ri($,{linkify:!0,get url(){return i.protocol}})};G(b,$=>{i.protocol&&t(g)&&$(x)})}_(l,h)},c=(l,h=pe)=>{var b=Ni(),x=y(b);{var $=T=>{var I=Li(),S=y(I,!0);w(I),z(k=>O(S,k),[()=>t(n).t(403)]),_(T,I)};G(x,T=>{t(d)&&T($)})}w(b),_(l,b)};let p=m(()=>t(n).t(111)),v=m(()=>t(n).t(108));Ln(r,{get title(){return t(p)},key:"modal_import_remote_protocol",get confirm(){return t(v)},oncancel:()=>{i.protocol=null},onconfirm:async()=>{if(!i.protocol)return;E(d,!0);const l=await fetch(i.protocol).then(h=>h.text()).catch(h=>(Te.error(t(n).t(90,[h])),null));if(l)try{const{id:h}=await t(a).importProtocol({contents:l});await Ue.Protocol.refresh(),await Ue.Metadata.refresh(),Y.setCurrentProtocolId(h),i.protocol=null}catch(h){Te.error(`Erreur lors de l'import du protocole distant: ${h}`)}finally{E(d,!1)}},get open(){return t(f)},set open(l){E(f,l,!0)},_w_snippet_0:u,_w_snippet_1:c,children:(l,h)=>{{let b=m(()=>[u,c]),x=m(()=>t(n).cx(48));De(l,{get t(){return t(b)},get x(){return t(x)}})}},$$slots:{_w_snippet_0:!0,_w_snippet_1:!0,default:!0}})}we()}const Hi=new $r;var Ki=D("<base/>"),qi=D('<!> <!> <!> <!> <section class="toasts svelte-1v2axqk" data-testid="toasts-area"></section> <div><!></div>',1);function Ul(r,e){be(e,!0);const n=m(()=>je(Be("main"))),o=m(()=>e.data.swarpc),a=m(()=>e.data.parallelism);let d=le("full");wn("setNavbarAppearance",k=>{an(()=>{E(d,k,!0)}),sn(()=>{E(d,"full")})}),qn({swarpc:t(o),cancellers:Hi,parallelism:t(a)});const s={capture(){return Hn(Y,"currentProtocolId")},restore({currentProtocolId:k}){Y.setCurrentProtocolId(k)}},i=m(()=>Ue.Image.state.map(k=>k.fileId).filter(qt));Cr(()=>t(i),k=>{for(const P of k)(async()=>{if(Y.hasPreviewURL(P))return;const N=await In("ImagePreviewFile",P);if(!N)return;const R=new Blob([N.bytes],{type:N.contentType});Y.setPreviewURL(P,URL.createObjectURL(R))})()}),Kt("general",{"$mod+s":{help:"",hidden:!0,do:()=>Te.info(t(n).t(146))},"i d e v":{help:t(n).t(26),do:async()=>{await He("showTechnicalMetadata",!It())}}}),Kt("debugmode",Object.fromEntries(["warn","error","info","debug","success"].map(k=>{const P={warn:()=>Te.warn("Example warning toast"),error:()=>Te.error("Example error toast"),info:()=>Te.info("Example info toast"),debug:()=>Te.add("debug","Example debug toast"),success:()=>Te.success("Example success toast")};return[`t t ${k.charAt(0)}`,{help:`Summon a ${k} toast`,debug:!0,allowInModals:!0,when:It,do:P[k]}]})));const f=m(Qe);Oe(()=>{document.documentElement.dataset.theme=t(f).theme});let g=le(void 0),u=le(void 0);var c={snapshot:s},p=qi();Co("1v2axqk",k=>{var P=Ki();z(N=>xe(P,"href",N),[()=>dr("/")==="/"?"":dr("/")+"index.html"]),_(k,P)});var v=C(p);Jo(v,{preventDefault:!0,get binds(){return Y.keybinds},get openHelp(){return t(g)},set openHelp(k){E(g,k,!0)}});var l=M(v,2);gi(l,{get open(){return t(u)},set open(k){E(u,k,!0)}});var h=M(l,2);zi(h,{});var b=M(h,2);{var x=k=>{{let P=m(()=>t(d)==="floating");di(k,{get swarpc(){return t(o)},get openKeyboardShortcuts(){return t(g)},get openPrepareForOfflineUse(){return t(u)},get floating(){return t(P)},get progress(){return Y.processing.progress}})}};G(b,k=>{t(d)!=="hidden"&&k(x)})}var $=M(b,2);at($,21,()=>Te.items("default"),k=>k.id,(k,P)=>{Nn(k,dt(()=>t(P),{get action(){return t(P).labels.action},get dismiss(){return t(P).labels.close},onaction:()=>{t(P).callbacks?.action?.(t(P))},ondismiss:()=>{Te.remove(t(P).id)}}))}),w($);var T=M($,2);let I;var S=y(T);return _e(S,()=>e.children??pe),w(T),z(k=>I=_t(T,1,"contents svelte-1v2axqk",null,I,k),[()=>({padded:!Ye.route.id?.includes("/(sidepanel)")&&!Ye.route.id?.includes("protocols/[id]/")})]),_(r,p),we(c)}export{wr as M,aa as P,Xs as S,Ul as _,Gl as b,Hi as c,ql as f,Hl as n,Kl as p};
