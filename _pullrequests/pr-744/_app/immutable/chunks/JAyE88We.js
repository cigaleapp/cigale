import{s as n,aC as h,Q as c,g as i,i as u,aD as a}from"./CKFr55HY.js";var m=["forEach","isDisjointFrom","isSubsetOf","isSupersetOf"],S=["difference","intersection","symmetricDifference","union"],v=!1;class p extends Set{#r=new Map;#e=n(0);#s=n(0);#u=h||-1;constructor(e){if(super(),e){for(var s of e)super.add(s);this.#s.v=super.size}v||this.#i()}#t(e){return h===this.#u?n(e):c(e)}#i(){v=!0;var e=p.prototype,s=Set.prototype;for(const r of m)e[r]=function(...t){return i(this.#e),s[r].apply(this,t)};for(const r of S)e[r]=function(...t){i(this.#e);var f=s[r].apply(this,t);return new p(f)}}has(e){var s=super.has(e),r=this.#r,t=r.get(e);if(t===void 0){if(!s)return i(this.#e),!1;t=this.#t(!0),r.set(e,t)}return i(t),s}add(e){return super.has(e)||(super.add(e),u(this.#s,super.size),a(this.#e)),this}delete(e){var s=super.delete(e),r=this.#r,t=r.get(e);return t!==void 0&&(r.delete(e),u(t,!1)),s&&(u(this.#s,super.size),a(this.#e)),s}clear(){if(super.size!==0){super.clear();var e=this.#r;for(var s of e.values())u(s,!1);e.clear(),u(this.#s,0),a(this.#e)}}keys(){return this.values()}values(){return i(this.#e),super.values()}entries(){return i(this.#e),super.entries()}[Symbol.iterator](){return this.keys()}get size(){return i(this.#s)}}class M extends Map{#r=new Map;#e=n(0);#s=n(0);#u=h||-1;constructor(e){if(super(),e){for(var[s,r]of e)super.set(s,r);this.#s.v=super.size}}#t(e){return h===this.#u?n(e):c(e)}has(e){var s=this.#r,r=s.get(e);if(r===void 0){var t=super.get(e);if(t!==void 0)r=this.#t(0),s.set(e,r);else return i(this.#e),!1}return i(r),!0}forEach(e,s){this.#i(),super.forEach(e,s)}get(e){var s=this.#r,r=s.get(e);if(r===void 0){var t=super.get(e);if(t!==void 0)r=this.#t(0),s.set(e,r);else{i(this.#e);return}}return i(r),super.get(e)}set(e,s){var r=this.#r,t=r.get(e),f=super.get(e),l=super.set(e,s),o=this.#e;if(t===void 0)t=this.#t(0),r.set(e,t),u(this.#s,super.size),a(o);else if(f!==s){a(t);var d=o.reactions===null?null:new Set(o.reactions),g=d===null||!t.reactions?.every(z=>d.has(z));g&&a(o)}return l}delete(e){var s=this.#r,r=s.get(e),t=super.delete(e);return r!==void 0&&(s.delete(e),u(this.#s,super.size),u(r,-1),a(this.#e)),t}clear(){if(super.size!==0){super.clear();var e=this.#r;u(this.#s,0);for(var s of e.values())u(s,-1);a(this.#e),e.clear()}}#i(){i(this.#e);var e=this.#r;if(this.#s.v!==e.size){for(var s of super.keys())if(!e.has(s)){var r=this.#t(0);e.set(s,r)}}for([,r]of this.#r)i(r)}keys(){return i(this.#e),super.keys()}values(){return this.#i(),super.values()}entries(){return this.#i(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return i(this.#s),super.size}}export{M as S,p as a};
