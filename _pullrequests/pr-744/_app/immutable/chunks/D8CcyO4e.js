import"./DsnmJJEf.js";import{f as ne,a as r,c as C,az as f,e as V,d as W,g as y,r as v,aA as P,ab as q,aB as I,aa as T,p as D,b as F,k as J,s as re,u as S,i as ie,n as le}from"./CKFr55HY.js";import{d as X,a as M,e as ce}from"./BSJa-gCr.js";import{s as E}from"./BnT1n4qy.js";import{r as Y,i as j,p as b,s as de}from"./BnINZmlg.js";import{B as ve}from"./BMdCOrlL.js";import{B as ue}from"./B0qXVrpE.js";import{a as fe,s as K,c as Z,_ as me,g as _e}from"./B0sfP6zc.js";import{b as he}from"./B5L0AQ92.js";import{C as G,B as ge}from"./EISLmZ-s.js";import{d as R}from"./CJ0dtI1a.js";import{p as N}from"./CFsItWt6.js";import{t as H}from"./C4Cali0V.js";import{a as $}from"./CRIUswPx.js";import{e as ye}from"./BfRwOU-Q.js";import{c as ee}from"./_Ua9-HGN.js";import{t as Q,s as be,f as we}from"./CQ7DZjSk.js";import{C as ke}from"./B7lodkbW.js";import{I as Be}from"./D_T35tsn.js";import{T as pe}from"./Y12U1EUt.js";import{B as U}from"./B1ufcx3J.js";import{a as xe}from"./CaMFGYwT.js";import{i as Pe}from"./BmYW83mJ.js";var Ce=ne('<svg><path fill="currentColor" d="M10.562 4.148a7 7 0 0 1 2.876 0l1.683-1.684l1.414 1.415l-1.05 1.05A7.03 7.03 0 0 1 18.327 8H21v2h-2.07q.07.49.07 1v1h2v2h-2v1q0 .51-.07 1H21v2h-2.674a7 7 0 0 1-12.652 0H3v-2h2.07A7 7 0 0 1 5 15v-1H3v-2h2v-1q0-.51.07-1H3V8h2.674a7.03 7.03 0 0 1 2.84-3.072l-1.05-1.05L8.88 2.465zM12 6a5 5 0 0 0-5 5v4a5 5 0 0 0 10 0v-4a5 5 0 0 0-5-5m-3 8h6v2H9zm0-4h6v2H9z"></path></svg>');function qe(i,e){const a=Y(e,["$$slots","$$events","$$legacy"]);var h=Ce();fe(h,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...a})),r(i,h)}function te(i){switch(i){case"info":return Be;case"success":return ke;case"warning":return pe;case"error":return G;case"debug":return qe}}function L(i){switch(i){case"info":return"primary";case"success":return"success";case"warning":return"warning";case"error":return"error";case"debug":return"secondary"}}var Me=C('<button class="svelte-1q6vvua"><!></button>'),ze=C('<article class="toast svelte-1q6vvua"><div class="icon svelte-1q6vvua"><!></div> <p class="svelte-1q6vvua"> </p> <section class="actions svelte-1q6vvua"><!> <!></section></article>');function it(i,e){var a=ze();let h;var l=f(a),x=f(l);$(x,()=>te(e.type),null,(t,o)=>{var n=V(),B=W(n);ee(B,()=>y(o),(A,O)=>{O(A,{})}),r(t,n)}),v(l);var c=P(l,2),p=f(c,!0);v(c);var m=P(c,2),w=f(m);{var d=t=>{U(t,{get onclick(){return e.onaction},children:(o,n)=>{I();var B=T();q(()=>M(B,e.action)),r(o,B)},$$slots:{default:!0}})};j(w,t=>{e.action&&e.onaction&&t(d)})}var s=P(w,2);{var u=t=>{U(t,{get onclick(){return e.ondismiss},children:(o,n)=>{I();var B=T();q(()=>M(B,e.dismiss)),r(o,B)},$$slots:{default:!0}})},k=t=>{var o=Me();o.__click=function(...B){e.ondismiss?.apply(this,B)};var n=f(o);G(n,{}),v(o),r(t,o)};j(s,t=>{e.dismiss?t(u):t(k,!1)})}v(m),v(a),q(t=>{K(a,"data-type",e.type),h=Z(a,"",h,t),M(p,e.message)},[()=>({"--bg":`var(--bg-${L(e.type)??""})`,"--fg":`var(--fg-${L(e.type)??""})`})]),Q(1,a,()=>be,()=>({axis:"y",duration:200})),Q(2,a,()=>we,()=>({duration:200})),r(i,a)}X(["click"]);var He=C('<li class="svelte-18zhjb0"><!> </li>'),Ae=C('<section class="toasts svelte-18zhjb0"><ul class="svelte-18zhjb0"></ul></section>');function Ie(i,e){D(e,!0);var a=Ae(),h=f(a);ye(h,21,()=>H.items(e.pool),l=>l.id,(l,x)=>{var c=He();let p;var m=f(c);$(m,()=>te(y(x).type),null,(d,s)=>{var u=V(),k=W(u);ee(k,()=>y(s),(t,o)=>{o(t,{})}),r(d,u)});var w=P(m);v(c),q(d=>{p=Z(c,"",p,d),M(w,` ${y(x).message??""}`)},[()=>({color:`var(--fg-${L(y(x).type)??""})`})]),r(l,c)}),v(h),v(a),r(i,a),F()}function lt(i){return Object.entries(i.state).some(([e,a])=>e.startsWith("modal_")&&a)}var Te=C('<section class="toasts svelte-5awcn0"><!></section>'),je=C('<footer class="svelte-5awcn0"><!></footer>'),Oe=C('<dialog class="svelte-5awcn0"><header class="svelte-5awcn0"><h1 class="svelte-5awcn0"> </h1> <!></header> <main class="svelte-5awcn0"><!></main> <!> <!></dialog>');function Se(i,e){D(e,!0);const a=S(()=>me(_e("main")));let h=b(e,"open",15,void 0),l=b(e,"close",15,void 0),x=b(e,"onclose",3,void 0),c=b(e,"onopen",3,void 0),p=b(e,"footer",3,void 0),m=b(e,"toasts",3,void 0);J(()=>{console.debug(`Binding functions to ${e.key} `),h(()=>{c()?.(),m()&&(H.setCurrentPool(m()),H.clear()),R("",{[e.key]:!0})}),l(()=>{x()?.(),m()&&(H.setCurrentPool("default"),H.clear()),R("",{[e.key]:!1})})});let w=re(void 0);J(()=>{y(w)&&(N.state[e.key]?y(w).showModal():y(w).close())});const d=S(()=>xe().theme);var s=Oe();s.__mousedown=({target:_,currentTarget:g,offsetX:z,offsetY:oe})=>{Pe({offsetX:z,offsetY:oe},g.getBoundingClientRect(),20)||_===g&&l()?.()};var u=f(s),k=f(u),t=f(k,!0);v(k);var o=P(k,2);{let _=S(()=>y(a).t(96));ge(o,{get help(){return y(_)},onclick:()=>{l()?.()},children:(g,z)=>{G(g,{})},$$slots:{default:!0}})}v(u);var n=P(u,2),B=f(n);E(B,()=>e.children,()=>({close:l()})),v(n);var A=P(n,2);{var O=_=>{var g=Te(),z=f(g);Ie(z,{get pool(){return m()}}),v(g),r(_,g)};j(A,_=>{m()&&_(O)})}var ae=P(A,2);{var se=_=>{var g=je(),z=f(g);E(z,p,()=>({close:l()})),v(g),r(_,g)};j(ae,_=>{p()&&_(se)})}v(s),he(s,_=>ie(w,_),()=>y(w)),q(()=>{K(s,"aria-hidden",!N.state[e.key]),K(s,"data-theme",y(d)),M(t,e.title)}),ce("close",s,()=>{R("",{[e.key]:!1})}),r(i,s),F()}X(["mousedown"]);var Re=C('<div class="actions svelte-owp9dc"><!> <!></div>');function ct(i,e){D(e,!0);let a=b(e,"oncancel",3,void 0),h=b(e,"children",3,void 0),l=b(e,"confirm",3,"OK"),x=b(e,"cancel",3,"Annuler"),c=b(e,"close",15,void 0),p=b(e,"open",15,void 0),m=Y(e,["$$slots","$$events","$$legacy","onconfirm","oncancel","children","confirm","cancel","close","open"]);Se(i,de(()=>m,{get close(){return c()},set close(d){c(d)},get open(){return p()},set open(d){p(d)},footer:d=>{var s=Re(),u=f(s);ue(u,{loading:!0,onclick:async()=>{await a()?.(),c()?.()},children:(t,o)=>{I();var n=T();q(()=>M(n,x())),r(t,n)},$$slots:{default:!0}});var k=P(u,2);ve(k,{loading:!0,onclick:async()=>{await e.onconfirm(),c()?.()},children:(t,o)=>{I();var n=T();q(()=>M(n,l())),r(t,n)},$$slots:{default:!0}}),v(s),r(d,s)},children:(d,s)=>{var u=V(),k=W(u);E(k,()=>h()??le),r(d,u)},$$slots:{footer:!0,default:!0}})),F()}export{ct as M,it as T,Se as a,Ie as b,lt as h,te as t};
