import"./DsnmJJEf.js";import{p as w,c as h,i as s,s as z,ab as A,a as g,b as E,aA as m,az as b,g as r,r as v}from"./CKFr55HY.js";import{d as H}from"./BSJa-gCr.js";import{s as j}from"./BnT1n4qy.js";import{p as l,i as u}from"./BnINZmlg.js";import{a as p,t as C,K as D}from"./fs5VanAl.js";import{s as _,b as F}from"./B0sfP6zc.js";import{L as G}from"./ChskKCUc.js";var I=h('<div class="loading-spinner svelte-1q9lvcx"><!></div>'),J=h("<button><!> <!> <!></button>");function V(k,a){w(a,!0);let y=l(a,"disabled",3,!1),S=l(a,"danger",3,!1),n=l(a,"loading",3,!1),x=l(a,"tight",3,!1),i=z(!1);var t=J();t.__click=async e=>{n()&&!a.onclick.toString().includes("loadingStarted")&&s(i,!0);try{await a.onclick(e,{loadingStarted:()=>{s(i,!0)},loadingEnded:()=>{s(i,!1)}})}finally{n()&&s(i,!1)}};let o;var f=b(t);{var L=e=>{var d=I(),K=b(d);G(K,{}),v(d),g(e,d)};u(f,e=>{r(i)&&e(L)})}var c=m(f,2);j(c,()=>a.children,()=>({loading:r(i)&&n()}));var q=m(c,2);{var B=e=>{D(e,{get shortcut(){return a.keyboard}})};u(q,e=>{a.keyboard&&e(B)})}v(t),p(t,(e,d)=>C?.(e,d),()=>a.help?{text:a.help,keyboard:a.keyboard}:void 0),A(()=>{t.disabled=y()||r(i),_(t,"aria-pressed",a["aria-pressed"]),_(t,"data-testid",a.testid||void 0),o=F(t,1,"svelte-1q9lvcx",null,o,{tight:x(),danger:S()})}),g(k,t),E()}H(["click"]);export{V as B};
