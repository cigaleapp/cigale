import"./DsnmJJEf.js";import{p as y,c as u,az as C,aA as j,g as r,u as i,r as k,ab as b,a as h,b as S}from"./CKFr55HY.js";import{r as Y}from"./BSJa-gCr.js";import{p as z,i as A,r as E}from"./BnINZmlg.js";import{a as H,S as I,b as L,s as M}from"./B0sfP6zc.js";import{a as R}from"./BTVA-Cj2.js";var T=u('<img class="blur svelte-gh0xrt" alt="" aria-hidden="true"/>'),W=u("<picture><!> <img/></picture>");function J(p,t){y(t,!0);const v=z(t,"class",3,""),d=E(t,["$$slots","$$events","$$legacy","src","box","blurfill","class"]),s=i(()=>R(t.box)),m=i(()=>t.box.width/t.box.height);function l([a,e]){return[a*100,e*100].map(c=>c+"%").join(" ")}const n=i(()=>1/t.box.width*Math.min(r(m),1)),x=i(()=>{const[a,e]=r(s).topleft,[c,w]=[r(n)*t.box.width,r(n)*t.box.height];return r(m)>1?[-a,-e+1/2-w/2]:[-a+1/2-c/2,-e]});var o=W(),f=C(o);{var _=a=>{var e=T();b(()=>M(e,"src",t.src)),h(a,e)};A(f,a=>{t.blurfill&&a(_)})}var g=j(f,2);H(g,a=>({src:t.src,...d,[I]:a}),[()=>({"transform-origin":l(r(s).topleft),translate:l(r(x)),scale:`${r(n)*100}%`,"clip-path":`polygon(${[r(s).topleft,r(s).topright,r(s).bottomright,r(s).bottomleft].map(l).join(", ")??""})`})],void 0,"svelte-gh0xrt"),k(o),b(()=>L(o,1,`cropped ${v()??""}`,"svelte-gh0xrt")),Y(g),h(p,o),S()}export{J as C};
