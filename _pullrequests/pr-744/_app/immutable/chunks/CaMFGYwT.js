import{g as i,u as r}from"./CKFr55HY.js";import{T as g,t as s}from"./BfjK8oC1.js";const u=r(()=>s.Settings.state.find(t=>t.id==="user")??s.Settings.state.find(t=>t.id==="defaults"));function o(){return i(u)}async function d(t,e){console.debug("setSetting",t,e);const a=await s.Settings.get("user")??await s.Settings.get("defaults");if(!a)throw new Error("Les réglages par défaut n'ont pas été initialisés. Rechargez la page.");return s.Settings.set({...a,id:"user",[t]:e})}async function S(t,e,{fallback:a}={}){const n=e?g.Settings.assert(await e.get("Settings","user")??await e.get("Settings","defaults")):await s.Settings.get("user")??await s.Settings.get("defaults");if(!n){if(a!==void 0)return a;throw new Error("Les réglages par défaut n'ont pas été initialisés. Rechargez la page.")}return n[t]}async function l(t){const e=await s.Settings.get("user")??await s.Settings.get("defaults");if(!e)throw new Error("Les réglages par défaut n'ont pas été initialisés. Rechargez la page.");return s.Settings.set({...e,id:"user",[t]:!e[t]})}function w(){return o().showTechnicalMetadata}export{o as a,S as g,w as i,d as s,l as t};
