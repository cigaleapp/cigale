import{_ as e,g as s}from"./gEdK1vYj.js";import{t as i,n as m,e as n,A as c,d as _}from"./BZvTGrCn.js";import{i as g}from"./DcwTdUGT.js";import{p as a}from"./Bls8_OGj.js";import{t as o}from"./CAsIlwrN.js";function v(d){return e(s("main")),async p=>{if(e(s("main")),!a.params.metadata||!a.params.id)return;const t=await i.Metadata.raw.get(m(a.params.id,a.params.metadata));if(!t)return;const f=structuredClone(t);try{await d(t,p)}catch(r){o.error(`Valeur invalide : ${r instanceof c?r.summary:n(r)}`);return}JSON.stringify(f)!==JSON.stringify(t)&&(await i.Metadata.set(t).catch(r=>{const u=e(s("main"));o.error(u.t(251,[n(r)]))}),await g(_("Metadata",m(a.params.id,a.params.metadata))))}}export{v as u};
