import"./DsnmJJEf.js";import{w as De,x as Se,H as Ve,t as ze,f as we,a as t,p as Me,e as n,d as r,b as Re,g as e,u as v,c as I,ay as J,aw as E,r as K,a6 as ae,a7 as N,av as ve,ax as he}from"./CEjrMSr3.js";import{a as te}from"./CzPTknfj.js";import{s as O}from"./Bt4b35Jj.js";import{a as Te}from"./CS3lvyui.js";import{r as ke,i}from"./BQwRB0hY.js";import{B as Ue}from"./DdOVdAP5.js";import{c as W}from"./kjmZGRhK.js";import{a as xe,b as Ee,_ as Ie,g as He}from"./CFKIlU8F.js";import{R as fe}from"./KtucAqHY.js";import{A as Qe}from"./CSZcEuzQ.js";import{h as Fe,u as Ge,A as Je}from"./vGStSCwM.js";import{E as Ke}from"./DuvTf5Ps.js";import{L as Ne}from"./CXtcPrRZ.js";import{p as Oe}from"./55T8DwzO.js";import{B as We}from"./CSXPGx0M.js";import{L as Xe}from"./42xSxnnI.js";import{t as pe}from"./CdFpUUK-.js";import{B as Ye}from"./B6FvvaJA.js";function Ze(U,a,s){De&&Se();var A=new Ue(U),X=!Ve();ze(()=>{var x=a();X&&x!==null&&typeof x=="object"&&(x={}),A.ensure(x,s)})}var $e=we('<svg><path fill="currentColor" d="M4 12a8 8 0 1 1 16 0a8 8 0 0 1-16 0m8-10C6.477 2 2 6.477 2 12s4.477 10 10 10s10-4.477 10-10S17.523 2 12 2m5.457 7.457l-1.414-1.414L11 13.086l-2.793-2.793l-1.414 1.414L11 15.914z"></path></svg>');function ea(U,a){const s=ke(a,["$$slots","$$events","$$legacy"]);var A=$e();xe(A,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...s})),t(U,A)}var aa=we('<svg><path fill="currentColor" d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10m0-2a8 8 0 1 0 0-16a8 8 0 0 0 0 16m-1-5h2v2h-2zm2-1.645V14h-2v-1.5a1 1 0 0 1 1-1a1.5 1.5 0 1 0-1.471-1.794l-1.962-.393A3.501 3.501 0 1 1 13 13.355"></path></svg>');function be(U,a){const s=ke(a,["$$slots","$$events","$$legacy"]);var A=aa();xe(A,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...s})),t(U,A)}var ta=I("<span><!></span>"),ra=I('<span class="version-check up-to-date svelte-1h004jq"><!> <!></span> <!>',1),na=I("<span><!> <!></span>"),oa=I('<span class="version-check error svelte-1h004jq"><!> <!></span>'),sa=I("<!> <!>",1),va=I('<span class="version-check not-applicable svelte-1h004jq"><!> <!></span>'),la=I('<span class="version-check not-applicable svelte-1h004jq"><!> <!></span>');function La(U,a){Me(a,!0);const s=v(()=>Ie(He("main"))),A=v(()=>Oe.data.swarpc);let X=he(0),x=he(!1);const H=v(()=>a.compact?Ye:We);var me=n(),je=r(me);{var ye=Q=>{var Y=n(),le=r(Y);Ze(le,()=>e(X),ie=>{var re=n(),z=r(re);Te(z,()=>Fe({id:a.id,version:a.version,source:a.source}),j=>{var y=n(),D=r(y);{var B=l=>{var f=n(),c=r(f);O(c,()=>a.button,()=>({onclick:()=>{},help:"Recherche de mise à jour…",state:"checking",current:a.version,newest:void 0})),t(l,f)},u=l=>{var f=n(),c=r(f);{let p=v(()=>e(s).t(158));W(c,()=>e(H),(m,b)=>{b(m,{get help(){return e(p)},disabled:!0,onclick:()=>{},children:(o,d)=>{var w=sa(),S=r(w);Ne(S,{});var C=E(S,2);{var g=_=>{var k=ae();N(P=>te(k,P),[()=>e(s).t(131)]),t(_,k)};i(C,_=>{a.compact||_(g)})}t(o,w)},$$slots:{default:!0}})})}t(l,f)};i(D,l=>{a.button?l(B):l(u,!1)})}t(j,y)},(j,y)=>{var D=v(()=>{var{upToDate:o,newVersion:d}=e(y);return{upToDate:o,newVersion:d}}),B=v(()=>e(D).upToDate),u=v(()=>e(D).newVersion);const l=v(()=>async()=>{e(B)?ve(X,Date.now(),!0):(ve(x,!0),await Ge({version:a.version,source:a.source,id:a.id,swarpc:e(A)}).then(({version:o})=>{pe.success(e(s).t(381,[o])),a.onupgrade?.(o)}).catch(o=>{pe.error(e(s).t(382,[o]))}).finally(()=>{ve(x,!1)}))}),f=v(()=>e(B)?`Le protocole est à jour (v${e(u)}). Cliquer pour vérifier à nouveau`:`Une mise à jour vers la v${e(u)} est disponible`);var c=n(),p=r(c);{var m=o=>{var d=n(),w=r(d);O(w,()=>a.button,()=>({onclick:e(l),help:e(f),state:"uptodate",current:a.version,newest:e(u)})),t(o,d)},b=o=>{var d=n(),w=r(d);{var S=g=>{var _=n(),k=r(_);W(k,()=>e(H),(P,M)=>{M(P,{get help(){return e(f)},onclick:e(l),children:(h,V)=>{var R=ra(),Z=r(R),ne=J(Z);ea(ne,{});var ce=E(ne,2);{var de=L=>{var T=ae();N($=>te(T,$),[()=>e(s).t(205)]),t(L,T)};i(ce,L=>{a.compact||L(de)})}K(Z);var F=E(Z,2);{var oe=L=>{var T=ta(),$=J(T);{let _e=v(()=>e(s).cx(202)),ue=v(()=>[a.version]);fe($,{get x(){return e(_e)},get a(){return e(ue)}})}K(T),t(L,T)};i(F,L=>{a.compact||L(oe)})}t(h,R)},$$slots:{default:!0}})}),t(g,_)},C=g=>{var _=n(),k=r(_);{var P=h=>{var V=n(),R=r(V);O(R,()=>a.button,()=>({onclick:e(l),help:e(f),state:e(x)?"upgrading":"available",current:a.version,newest:e(u)})),t(h,V)},M=h=>{var V=n(),R=r(V);W(R,()=>e(H),(Z,ne)=>{ne(Z,{onclick:e(l),get help(){return e(f)},children:(ce,de)=>{var F=na();let oe;var L=J(F);{var T=q=>{Xe(q,{})},$=q=>{Je(q,{})};i(L,q=>{e(x)?q(T):q($,!1)})}var _e=E(L,2);{var ue=q=>{var ge=n(),Ce=r(ge);{var Pe=G=>{var se=ae();N(ee=>te(se,ee),[()=>e(s).t(132)]),t(G,se)},Le=G=>{const se=ee=>{Qe(ee,{})};{let ee=v(()=>[se]),qe=v(()=>e(s).cx(203)),Ae=v(()=>[a.version,e(u)]);fe(G,{get t(){return e(ee)},get x(){return e(qe)},get a(){return e(Ae)}})}};i(Ce,G=>{e(x)?G(Pe):G(Le,!1)})}t(q,ge)};i(_e,q=>{a.compact||q(ue)})}K(F),N(()=>oe=Ee(F,1,"version-check svelte-1h004jq",null,oe,{"update-available":!e(x)})),t(ce,F)},$$slots:{default:!0}})}),t(h,V)};i(k,h=>{a.button?h(P):h(M,!1)},!0)}t(g,_)};i(w,g=>{e(B)?g(S):g(C,!1)},!0)}t(o,d)};i(p,o=>{e(B)&&a.button?o(m):o(b,!1)})}t(j,c)},(j,y)=>{const D=v(()=>()=>{ve(X,Date.now(),!0)});var B=n(),u=r(B);{var l=c=>{var p=n(),m=r(p);O(m,()=>a.button,()=>({onclick:e(D),help:`Impossible de vérifier les mises à jour: ${e(y)}`,state:"error",current:a.version,newest:void 0})),t(c,p)},f=c=>{var p=n(),m=r(p);{let b=v(()=>e(s).t(226,[e(y)]));W(m,()=>e(H),(o,d)=>{d(o,{onclick:e(D),get help(){return e(b)},children:(w,S)=>{var C=oa(),g=J(C);Ke(g,{});var _=E(g,2);{var k=P=>{var M=ae();N(h=>te(M,h),[()=>e(s).t(165)]),t(P,M)};i(_,P=>{a.compact||P(k)})}K(C),t(w,C)},$$slots:{default:!0}})})}t(c,p)};i(u,c=>{a.button?c(l):c(f,!1)})}t(j,B)}),t(ie,re)}),t(Q,Y)},Be=Q=>{var Y=n(),le=r(Y);{var ie=z=>{var j=n(),y=r(j);O(y,()=>a.button,()=>({onclick:()=>{},help:"Ce protocole ne supporte pas la vérification des mises à jour",state:"error",current:a.version,newest:void 0})),t(z,j)},re=z=>{var j=n(),y=r(j);{var D=u=>{var l=n(),f=r(l);{let c=v(()=>e(s).t(50));W(f,()=>e(H),(p,m)=>{m(p,{onclick:()=>{},get help(){return e(c)},children:(b,o)=>{var d=va(),w=J(d);be(w,{});var S=E(w,2);{var C=g=>{{let _=v(()=>e(s).cx(202)),k=v(()=>[a.version]);fe(g,{get x(){return e(_)},get a(){return e(k)}})}};i(S,g=>{a.compact||g(C)})}K(d),t(b,d)},$$slots:{default:!0}})})}t(u,l)},B=u=>{var l=n(),f=r(l);{var c=m=>{var b=n(),o=r(b);O(o,()=>a.button,()=>({onclick:()=>{},help:"Ce protocole n'est pas versionné, pour le mettre à jour, supprimer le et importez la nouvelle version",state:"error",current:void 0,newest:void 0})),t(m,b)},p=m=>{var b=n(),o=r(b);{let d=v(()=>e(s).t(49));W(o,()=>e(H),(w,S)=>{S(w,{onclick:()=>{},get help(){return e(d)},children:(C,g)=>{var _=la(),k=J(_);be(k,{});var P=E(k,2);{var M=h=>{var V=ae();N(R=>te(V,R),[()=>e(s).t(384)]),t(h,V)};i(P,h=>{a.compact||h(M)})}K(_),t(C,_)},$$slots:{default:!0}})})}t(m,b)};i(f,m=>{a.button?m(c):m(p,!1)},!0)}t(u,l)};i(y,u=>{a.version?u(D):u(B,!1)},!0)}t(z,j)};i(le,z=>{a.version&&a.button?z(ie):z(re,!1)},!0)}t(Q,Y)};i(je,Q=>{a.version&&a.source?Q(ye):Q(Be,!1)})}t(U,me),Re()}export{La as B,Ze as k};
