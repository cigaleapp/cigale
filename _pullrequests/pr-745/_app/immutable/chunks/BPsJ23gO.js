import"./DsnmJJEf.js";import{f as ne,a as r,c as C,ay as f,e as V,d as W,g as y,r as d,aw as P,a7 as q,aA as I,a6 as T,p as D,b as F,i as J,ax as re,u as S,av as ie,n as le}from"./CEjrMSr3.js";import{d as X,a as M,e as ce}from"./CzPTknfj.js";import{s as E}from"./Bt4b35Jj.js";import{r as Y,i as j,p as w,s as ve}from"./BQwRB0hY.js";import{B as de}from"./B0JAIya_.js";import{B as ue}from"./CSXPGx0M.js";import{a as fe,s as K,c as Z,_ as me,g as _e}from"./CFKIlU8F.js";import{b as he}from"./C7fIX-p5.js";import{C as G,B as ge}from"./B6FvvaJA.js";import{d as R}from"./B8cK6Xik.js";import{p as N}from"./55T8DwzO.js";import{t as z}from"./CdFpUUK-.js";import{a as $}from"./CS3lvyui.js";import{e as ye}from"./B5t4nw1a.js";import{c as ee}from"./kjmZGRhK.js";import{t as Q,s as we,f as be}from"./IkhSBAvL.js";import{C as ke}from"./B1DjANuF.js";import{I as xe}from"./BzQ8_Z_j.js";import{T as pe}from"./vGStSCwM.js";import{B as U}from"./AyPaKyzk.js";import{a as Be}from"./C4k7jWy3.js";import{i as Pe}from"./DvdFYW7d.js";var Ce=ne('<svg><path fill="currentColor" d="M10.562 4.148a7 7 0 0 1 2.876 0l1.683-1.684l1.414 1.415l-1.05 1.05A7.03 7.03 0 0 1 18.327 8H21v2h-2.07q.07.49.07 1v1h2v2h-2v1q0 .51-.07 1H21v2h-2.674a7 7 0 0 1-12.652 0H3v-2h2.07A7 7 0 0 1 5 15v-1H3v-2h2v-1q0-.51.07-1H3V8h2.674a7.03 7.03 0 0 1 2.84-3.072l-1.05-1.05L8.88 2.465zM12 6a5 5 0 0 0-5 5v4a5 5 0 0 0 10 0v-4a5 5 0 0 0-5-5m-3 8h6v2H9zm0-4h6v2H9z"></path></svg>');function qe(i,e){const a=Y(e,["$$slots","$$events","$$legacy"]);var h=Ce();fe(h,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...a})),r(i,h)}function te(i){switch(i){case"info":return xe;case"success":return ke;case"warning":return pe;case"error":return G;case"debug":return qe}}function L(i){switch(i){case"info":return"primary";case"success":return"success";case"warning":return"warning";case"error":return"error";case"debug":return"secondary"}}var Me=C('<button class="svelte-1q6vvua"><!></button>'),He=C('<article class="toast svelte-1q6vvua"><div class="icon svelte-1q6vvua"><!></div> <p class="svelte-1q6vvua"> </p> <section class="actions svelte-1q6vvua"><!> <!></section></article>');function it(i,e){var a=He();let h;var l=f(a),B=f(l);$(B,()=>te(e.type),null,(t,s)=>{var n=V(),x=W(n);ee(x,()=>y(s),(A,O)=>{O(A,{})}),r(t,n)}),d(l);var c=P(l,2),p=f(c,!0);d(c);var m=P(c,2),b=f(m);{var v=t=>{U(t,{get onclick(){return e.onaction},children:(s,n)=>{I();var x=T();q(()=>M(x,e.action)),r(s,x)},$$slots:{default:!0}})};j(b,t=>{e.action&&e.onaction&&t(v)})}var o=P(b,2);{var u=t=>{U(t,{get onclick(){return e.ondismiss},children:(s,n)=>{I();var x=T();q(()=>M(x,e.dismiss)),r(s,x)},$$slots:{default:!0}})},k=t=>{var s=Me();s.__click=function(...x){e.ondismiss?.apply(this,x)};var n=f(s);G(n,{}),d(s),r(t,s)};j(o,t=>{e.dismiss?t(u):t(k,!1)})}d(m),d(a),q(t=>{K(a,"data-type",e.type),h=Z(a,"",h,t),M(p,e.message)},[()=>({"--bg":`var(--bg-${L(e.type)??""})`,"--fg":`var(--fg-${L(e.type)??""})`})]),Q(1,a,()=>we,()=>({axis:"y",duration:200})),Q(2,a,()=>be,()=>({duration:200})),r(i,a)}X(["click"]);var ze=C('<li class="svelte-18zhjb0"><!> </li>'),Ae=C('<section class="toasts svelte-18zhjb0"><ul class="svelte-18zhjb0"></ul></section>');function Ie(i,e){D(e,!0);var a=Ae(),h=f(a);ye(h,21,()=>z.items(e.pool),l=>l.id,(l,B)=>{var c=ze();let p;var m=f(c);$(m,()=>te(y(B).type),null,(v,o)=>{var u=V(),k=W(u);ee(k,()=>y(o),(t,s)=>{s(t,{})}),r(v,u)});var b=P(m);d(c),q(v=>{p=Z(c,"",p,v),M(b,` ${y(B).message??""}`)},[()=>({color:`var(--fg-${L(y(B).type)??""})`})]),r(l,c)}),d(h),d(a),r(i,a),F()}function lt(i){return Object.entries(i.state).some(([e,a])=>e.startsWith("modal_")&&a)}var Te=C('<section class="toasts svelte-5awcn0"><!></section>'),je=C('<footer class="svelte-5awcn0"><!></footer>'),Oe=C('<dialog class="svelte-5awcn0"><header class="svelte-5awcn0"><h1 class="svelte-5awcn0"> </h1> <!></header> <main class="svelte-5awcn0"><!></main> <!> <!></dialog>');function Se(i,e){D(e,!0);const a=S(()=>me(_e("main")));let h=w(e,"open",15,void 0),l=w(e,"close",15,void 0),B=w(e,"onclose",3,void 0),c=w(e,"onopen",3,void 0),p=w(e,"footer",3,void 0),m=w(e,"toasts",3,void 0);J(()=>{console.debug(`Binding functions to ${e.key} `),h(()=>{c()?.(),m()&&(z.setCurrentPool(m()),z.clear()),R("",{[e.key]:!0})}),l(()=>{B()?.(),m()&&(z.setCurrentPool("default"),z.clear()),R("",{[e.key]:!1})})});let b=re(void 0);J(()=>{y(b)&&(N.state[e.key]?y(b).showModal():y(b).close())});const v=S(()=>Be().theme);var o=Oe();o.__mousedown=({target:_,currentTarget:g,offsetX:H,offsetY:se})=>{Pe({offsetX:H,offsetY:se},g.getBoundingClientRect(),20)||_===g&&l()?.()};var u=f(o),k=f(u),t=f(k,!0);d(k);var s=P(k,2);{let _=S(()=>y(a).t(96));ge(s,{get help(){return y(_)},onclick:()=>{l()?.()},children:(g,H)=>{G(g,{})},$$slots:{default:!0}})}d(u);var n=P(u,2),x=f(n);E(x,()=>e.children,()=>({close:l()})),d(n);var A=P(n,2);{var O=_=>{var g=Te(),H=f(g);Ie(H,{get pool(){return m()}}),d(g),r(_,g)};j(A,_=>{m()&&_(O)})}var ae=P(A,2);{var oe=_=>{var g=je(),H=f(g);E(H,p,()=>({close:l()})),d(g),r(_,g)};j(ae,_=>{p()&&_(oe)})}d(o),he(o,_=>ie(b,_),()=>y(b)),q(()=>{K(o,"aria-hidden",!N.state[e.key]),K(o,"data-theme",y(v)),M(t,e.title)}),ce("close",o,()=>{R("",{[e.key]:!1})}),r(i,o),F()}X(["mousedown"]);var Re=C('<div class="actions svelte-owp9dc"><!> <!></div>');function ct(i,e){D(e,!0);let a=w(e,"oncancel",3,void 0),h=w(e,"children",3,void 0),l=w(e,"confirm",3,"OK"),B=w(e,"cancel",3,"Annuler"),c=w(e,"close",15,void 0),p=w(e,"open",15,void 0),m=Y(e,["$$slots","$$events","$$legacy","onconfirm","oncancel","children","confirm","cancel","close","open"]);Se(i,ve(()=>m,{get close(){return c()},set close(v){c(v)},get open(){return p()},set open(v){p(v)},footer:v=>{var o=Re(),u=f(o);ue(u,{loading:!0,onclick:async()=>{await a()?.(),c()?.()},children:(t,s)=>{I();var n=T();q(()=>M(n,B())),r(t,n)},$$slots:{default:!0}});var k=P(u,2);de(k,{loading:!0,onclick:async()=>{await e.onconfirm(),c()?.()},children:(t,s)=>{I();var n=T();q(()=>M(n,l())),r(t,n)},$$slots:{default:!0}}),d(o),r(v,o)},children:(v,o)=>{var u=V(),k=W(u);E(k,()=>h()??le),r(v,u)},$$slots:{footer:!0,default:!0}})),F()}export{ct as M,it as T,Se as a,Ie as b,lt as h,te as t};
