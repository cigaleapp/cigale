import"./DsnmJJEf.js";import"./69_IOA4Y.js";import{o as Q}from"./DNb_7-rZ.js";import{w as R,x as S,W as U,aX as Y,i as j,m as I,aZ as q,a_ as $,g as s,a$ as x,aL as tt,p as et,b0 as A,b1 as st,c as J,a7 as it,a as N,b as lt,ay as C,O as y,av as p,r as O,a5 as W,a6 as at}from"./CEjrMSr3.js";import{e as nt}from"./CzPTknfj.js";import{e as ot}from"./B5t4nw1a.js";import{b as X,c as D}from"./CFKIlU8F.js";import{b as rt}from"./DCzt9psv.js";import{b as F}from"./C7fIX-p5.js";import{p as T}from"./BQwRB0hY.js";function ft(g,a,i,u,r){R&&S();var t=a.$$slots?.[i],o=!1;t===!0&&(t=a.children,o=!0),t===void 0?r!==null&&r(g):t(g,o?()=>u:u)}function ct(g=!1){const a=U,i=a.l.u;if(!i)return;let u=()=>x(a.s);if(g){let r=0,t={};const o=tt(()=>{let c=!1;const f=a.s;for(const h in f)f[h]!==t[h]&&(t[h]=f[h],c=!0);return c&&r++,r});u=()=>s(o)}i.b.length&&Y(()=>{G(a,u),q(i.b)}),j(()=>{const r=I(()=>i.m.map($));return()=>{for(const t of r)typeof t=="function"&&t()}}),i.a.length&&j(()=>{G(a,u),q(i.a)})}function G(g,a){if(g.l.s)for(const i of g.l.s)s(i);a()}var ht=J("<svelte-virtual-list-row><!></svelte-virtual-list-row>",2),vt=J("<svelte-virtual-list-viewport><svelte-virtual-list-contents></svelte-virtual-list-contents></svelte-virtual-list-viewport>",2);function Ht(g,a){et(a,!1);let i=T(a,"items",8),u=T(a,"height",8,"100%"),r=T(a,"itemHeight",8,void 0),t=T(a,"start",12,0),o=T(a,"end",12,0),c=[],f,h=y(),z=y(),L=y(0),Z=y(),B=y(),M=y(0),E=y(0),d;async function K(l,m,n){const{scrollTop:v}=s(h);await W();let w=s(M)-v,e=t();for(;w<m&&e<l.length;){let k=f[e-t()];k||(o(e+1),await W(),k=f[e-t()]);const b=c[e]=n||k.offsetHeight;w+=b,e+=1}o(e);const V=l.length-o();d=(s(M)+w)/o(),p(E,V*d),c.length=l.length}async function P(){const{scrollTop:l}=s(h),m=t();for(let e=0;e<f.length;e+=1)c[t()+e]=r()||f[e].offsetHeight;let n=0,v=0;for(;n<i().length;){const e=c[n]||d;if(v+e>l){t(n),p(M,v);break}v+=e,n+=1}for(;n<i().length&&(v+=c[n]||d,n+=1,!(v>l+s(L))););o(n);const w=i().length-o();for(d=v/o();n<i().length;)c[n++]=d;if(p(E,w*d),t()<m){await W();let e=0,V=0;for(let b=t();b<m;b+=1)f[b-t()]&&(e+=c[b],V+=r()||f[b-t()].offsetHeight);const k=V-e;s(h).scrollTo(0,l+k)}}Q(()=>{f=s(z).getElementsByTagName("svelte-virtual-list-row"),p(B,!0)}),A(()=>(x(i()),x(t()),x(o())),()=>{p(Z,i().slice(t(),o()).map((l,m)=>({index:m+t(),data:l})))}),A(()=>(s(B),x(i()),s(L),x(r())),()=>{s(B)&&K(i(),s(L),r())}),st(),ct();var _=vt();X(_,1,"svelte-m5no5e");var H=C(_);X(H,1,"svelte-m5no5e"),ot(H,5,()=>s(Z),l=>l.index,(l,m)=>{var n=ht();X(n,1,"svelte-m5no5e");var v=C(n);ft(v,a,"default",{get item(){return s(m),I(()=>s(m).data)}},w=>{var e=at("Missing template");N(w,e)}),O(n),N(l,n)}),O(H),F(H,l=>p(z,l),()=>s(z)),O(_),F(_,l=>p(h,l),()=>s(h)),it(()=>{D(_,`height: ${u()??""};`),D(H,`padding-top: ${s(M)??""}px; padding-bottom: ${s(E)??""}px;`)}),rt(_,"offsetHeight",l=>p(L,l)),nt("scroll",_,P),N(g,_),lt()}export{Ht as V};
