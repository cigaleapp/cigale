import"./DsnmJJEf.js";import{p as y,c as u,ay as C,aw as j,g as r,u as i,r as k,a7 as b,a as h,b as S}from"./CEjrMSr3.js";import{r as Y}from"./CzPTknfj.js";import{p as E,i as H,r as I}from"./BQwRB0hY.js";import{a as L,S as M,b as R,s as T}from"./CFKIlU8F.js";import{a as W}from"./DSBtPKP_.js";var X=u('<img class="blur svelte-gh0xrt" alt="" aria-hidden="true"/>'),q=u("<picture><!> <img/></picture>");function J(p,t){y(t,!0);const v=E(t,"class",3,""),d=I(t,["$$slots","$$events","$$legacy","src","box","blurfill","class"]),s=i(()=>W(t.box)),m=i(()=>t.box.width/t.box.height);function l([a,e]){return[a*100,e*100].map(c=>c+"%").join(" ")}const n=i(()=>1/t.box.width*Math.min(r(m),1)),x=i(()=>{const[a,e]=r(s).topleft,[c,w]=[r(n)*t.box.width,r(n)*t.box.height];return r(m)>1?[-a,-e+1/2-w/2]:[-a+1/2-c/2,-e]});var o=q(),f=C(o);{var _=a=>{var e=X();b(()=>T(e,"src",t.src)),h(a,e)};H(f,a=>{t.blurfill&&a(_)})}var g=j(f,2);L(g,a=>({src:t.src,...d,[M]:a}),[()=>({"transform-origin":l(r(s).topleft),translate:l(r(x)),scale:`${r(n)*100}%`,"clip-path":`polygon(${[r(s).topleft,r(s).topright,r(s).bottomright,r(s).bottomleft].map(l).join(", ")??""})`})],void 0,"svelte-gh0xrt"),k(o),b(()=>R(o,1,`cropped ${v()??""}`,"svelte-gh0xrt")),Y(g),h(p,o),S()}export{J as C};
