import{H as x,t as D,w as n,x as g,I as N,J as A,F as H,K as L,D as c,s as R,L as v,M as T,O as E,P as S,Q as B,R as M,T as O,U as P}from"./CEjrMSr3.js";import{B as U}from"./DdOVdAP5.js";const b=0,_=1;function G(m,k,y,r,l){n&&g();var I=x(),t=P,i=I?T(t):E(t,!1,!1),o=I?T(t):E(t,!1,!1),s=new U(m);D(()=>{var u=k(),d=!1;let h=n&&N(u)===(m.data===A);if(h&&(H(L()),c(!1)),N(u)){var w=S(),p=!1;const a=e=>{if(!d){p=!0,w(),n&&c(!1);try{e()}finally{B(),M||O()}}};u.then(e=>{a(()=>{v(i,e),s.ensure(_,r&&(f=>r(f,i)))})},e=>{a(()=>{if(v(o,e),s.ensure(_,l&&(f=>l(f,o))),!l)throw o.v})}),n?s.ensure(b,y):R(()=>{p||a(()=>{s.ensure(b,y)})})}else v(i,u),s.ensure(_,r&&(a=>r(a,i)));return h&&c(!0),()=>{d=!0}})}export{G as a};
