import"./DsnmJJEf.js";import{p as K,c as h,av as s,ax as E,a7 as H,a as g,b as j,aw as m,ay as v,g as r,r as b}from"./CEjrMSr3.js";import{d as p}from"./CzPTknfj.js";import{s as z}from"./Bt4b35Jj.js";import{p as l,i as u}from"./BQwRB0hY.js";import{a as A,t as C,K as D}from"./DLjgCAwv.js";import{s as _,b as F}from"./CFKIlU8F.js";import{L as G}from"./42xSxnnI.js";var I=h('<div class="loading-spinner svelte-1q9lvcx"><!></div>'),J=h("<button><!> <!> <!></button>");function V(y,a){K(a,!0);let k=l(a,"disabled",3,!1),x=l(a,"danger",3,!1),n=l(a,"loading",3,!1),S=l(a,"tight",3,!1),i=E(!1);var t=J();t.__click=async e=>{n()&&!a.onclick.toString().includes("loadingStarted")&&s(i,!0);try{await a.onclick(e,{loadingStarted:()=>{s(i,!0)},loadingEnded:()=>{s(i,!1)}})}finally{n()&&s(i,!1)}};let o;var f=v(t);{var L=e=>{var d=I(),B=v(d);G(B,{}),b(d),g(e,d)};u(f,e=>{r(i)&&e(L)})}var c=m(f,2);z(c,()=>a.children,()=>({loading:r(i)&&n()}));var q=m(c,2);{var w=e=>{D(e,{get shortcut(){return a.keyboard}})};u(q,e=>{a.keyboard&&e(w)})}b(t),A(t,(e,d)=>C?.(e,d),()=>a.help?{text:a.help,keyboard:a.keyboard}:void 0),H(()=>{t.disabled=k()||r(i),_(t,"aria-pressed",a["aria-pressed"]),_(t,"data-testid",a.testid||void 0),o=F(t,1,"svelte-1q9lvcx",null,o,{tight:S(),danger:x()})}),g(y,t),j()}p(["click"]);export{V as B};
