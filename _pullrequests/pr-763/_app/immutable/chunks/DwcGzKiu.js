import"./DsnmJJEf.js";import{p as w,c as u,ay as C,az as j,g as a,u as i,r as k,aa as b,a as h,b as S}from"./Bn_ZbADV.js";import{r as Y}from"./C0Q0tU0C.js";import{p as z,i as E,r as H}from"./dHQvgpC_.js";import{a as I,S as L,b as M,s as R}from"./ByTqR5TD.js";import{a as T}from"./CgGYYexj.js";var W=u('<img class="blur svelte-gh0xrt" alt="" aria-hidden="true"/>'),X=u("<picture><!> <img/></picture>");function J(p,t){w(t,!0);const v=z(t,"class",3,""),d=H(t,["$$slots","$$events","$$legacy","src","box","blurfill","class"]),s=i(()=>T(t.box)),m=i(()=>t.box.width/t.box.height);function l([r,e]){return[r*100,e*100].map(c=>c+"%").join(" ")}const n=i(()=>1/t.box.width*Math.min(a(m),1)),x=i(()=>{const[r,e]=a(s).topleft,[c,y]=[a(n)*t.box.width,a(n)*t.box.height];return a(m)>1?[-r,-e+1/2-y/2]:[-r+1/2-c/2,-e]});var o=X(),f=C(o);{var _=r=>{var e=W();b(()=>R(e,"src",t.src)),h(r,e)};E(f,r=>{t.blurfill&&r(_)})}var g=j(f,2);I(g,r=>({src:t.src,...d,[L]:r}),[()=>({"transform-origin":l(a(s).topleft),translate:l(a(x)),scale:`${a(n)*100}%`,"clip-path":`polygon(${[a(s).topleft,a(s).topright,a(s).bottomright,a(s).bottomleft].map(l).join(", ")??""})`})],void 0,"svelte-gh0xrt"),k(o),b(()=>M(o,1,`cropped ${v()??""}`,"svelte-gh0xrt")),Y(g),h(p,o),S()}export{J as C};
