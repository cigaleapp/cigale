import"./DsnmJJEf.js";import{f as ne,a as r,c as C,ay as f,e as V,d as W,g as y,r as v,az as P,aa as q,aA as I,a9 as T,p as D,b as F,k as J,s as re,u as S,i as ie,n as le}from"./Bn_ZbADV.js";import{d as X,a as M,e as ce}from"./C0Q0tU0C.js";import{s as E}from"./D9gih6mG.js";import{r as Y,i as j,p as w,s as de}from"./dHQvgpC_.js";import{B as ve}from"./DxiPMQpi.js";import{B as ue}from"./Bg7L1dYG.js";import{a as fe,s as K,c as Z,_ as me,g as _e}from"./ByTqR5TD.js";import{b as he}from"./CoBO7ZM6.js";import{C as G,B as ge}from"./DDqzxxyE.js";import{d as R}from"./Cupsj_od.js";import{p as N}from"./AjLkue78.js";import{t as H}from"./CM1wOxol.js";import{a as $}from"./BgDQWD78.js";import{e as ye}from"./WunZNVQx.js";import{c as ee}from"./C-HhNZ1M.js";import{t as Q,s as we,f as be}from"./D4q3eRn6.js";import{C as ke}from"./DCQ6EIJ0.js";import{I as pe}from"./DJxvkVZ4.js";import{T as xe}from"./CqvX9GtU.js";import{B as U}from"./BNxh-1nu.js";import{a as Be}from"./KMAftsCj.js";import{i as Pe}from"./DvdFYW7d.js";var Ce=ne('<svg><path fill="currentColor" d="M10.562 4.148a7 7 0 0 1 2.876 0l1.683-1.684l1.414 1.415l-1.05 1.05A7.03 7.03 0 0 1 18.327 8H21v2h-2.07q.07.49.07 1v1h2v2h-2v1q0 .51-.07 1H21v2h-2.674a7 7 0 0 1-12.652 0H3v-2h2.07A7 7 0 0 1 5 15v-1H3v-2h2v-1q0-.51.07-1H3V8h2.674a7.03 7.03 0 0 1 2.84-3.072l-1.05-1.05L8.88 2.465zM12 6a5 5 0 0 0-5 5v4a5 5 0 0 0 10 0v-4a5 5 0 0 0-5-5m-3 8h6v2H9zm0-4h6v2H9z"></path></svg>');function qe(i,e){const a=Y(e,["$$slots","$$events","$$legacy"]);var h=Ce();fe(h,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...a})),r(i,h)}function te(i){switch(i){case"info":return pe;case"success":return ke;case"warning":return xe;case"error":return G;case"debug":return qe}}function L(i){switch(i){case"info":return"primary";case"success":return"success";case"warning":return"warning";case"error":return"error";case"debug":return"secondary"}}var Me=C('<button class="svelte-1q6vvua"><!></button>'),ze=C('<article class="toast svelte-1q6vvua"><div class="icon svelte-1q6vvua"><!></div> <p class="svelte-1q6vvua"> </p> <section class="actions svelte-1q6vvua"><!> <!></section></article>');function it(i,e){var a=ze();let h;var l=f(a),B=f(l);$(B,()=>te(e.type),null,(t,o)=>{var n=V(),p=W(n);ee(p,()=>y(o),(A,O)=>{O(A,{})}),r(t,n)}),v(l);var c=P(l,2),x=f(c,!0);v(c);var m=P(c,2),b=f(m);{var d=t=>{U(t,{get onclick(){return e.onaction},children:(o,n)=>{I();var p=T();q(()=>M(p,e.action)),r(o,p)},$$slots:{default:!0}})};j(b,t=>{e.action&&e.onaction&&t(d)})}var s=P(b,2);{var u=t=>{U(t,{get onclick(){return e.ondismiss},children:(o,n)=>{I();var p=T();q(()=>M(p,e.dismiss)),r(o,p)},$$slots:{default:!0}})},k=t=>{var o=Me();o.__click=function(...p){e.ondismiss?.apply(this,p)};var n=f(o);G(n,{}),v(o),r(t,o)};j(s,t=>{e.dismiss?t(u):t(k,!1)})}v(m),v(a),q(t=>{K(a,"data-type",e.type),h=Z(a,"",h,t),M(x,e.message)},[()=>({"--bg":`var(--bg-${L(e.type)??""})`,"--fg":`var(--fg-${L(e.type)??""})`})]),Q(1,a,()=>we,()=>({axis:"y",duration:200})),Q(2,a,()=>be,()=>({duration:200})),r(i,a)}X(["click"]);var He=C('<li class="svelte-18zhjb0"><!> </li>'),Ae=C('<section class="toasts svelte-18zhjb0"><ul class="svelte-18zhjb0"></ul></section>');function Ie(i,e){D(e,!0);var a=Ae(),h=f(a);ye(h,21,()=>H.items(e.pool),l=>l.id,(l,B)=>{var c=He();let x;var m=f(c);$(m,()=>te(y(B).type),null,(d,s)=>{var u=V(),k=W(u);ee(k,()=>y(s),(t,o)=>{o(t,{})}),r(d,u)});var b=P(m);v(c),q(d=>{x=Z(c,"",x,d),M(b,` ${y(B).message??""}`)},[()=>({color:`var(--fg-${L(y(B).type)??""})`})]),r(l,c)}),v(h),v(a),r(i,a),F()}function lt(i){return Object.entries(i.state).some(([e,a])=>e.startsWith("modal_")&&a)}var Te=C('<section class="toasts svelte-5awcn0"><!></section>'),je=C('<footer class="svelte-5awcn0"><!></footer>'),Oe=C('<dialog class="svelte-5awcn0"><header class="svelte-5awcn0"><h1 class="svelte-5awcn0"> </h1> <!></header> <main class="svelte-5awcn0"><!></main> <!> <!></dialog>');function Se(i,e){D(e,!0);const a=S(()=>me(_e("main")));let h=w(e,"open",15,void 0),l=w(e,"close",15,void 0),B=w(e,"onclose",3,void 0),c=w(e,"onopen",3,void 0),x=w(e,"footer",3,void 0),m=w(e,"toasts",3,void 0);J(()=>{console.debug(`Binding functions to ${e.key} `),h(()=>{c()?.(),m()&&(H.setCurrentPool(m()),H.clear()),R("",{[e.key]:!0})}),l(()=>{B()?.(),m()&&(H.setCurrentPool("default"),H.clear()),R("",{[e.key]:!1})})});let b=re(void 0);J(()=>{y(b)&&(N.state[e.key]?y(b).showModal():y(b).close())});const d=S(()=>Be().theme);var s=Oe();s.__mousedown=({target:_,currentTarget:g,offsetX:z,offsetY:oe})=>{Pe({offsetX:z,offsetY:oe},g.getBoundingClientRect(),20)||_===g&&l()?.()};var u=f(s),k=f(u),t=f(k,!0);v(k);var o=P(k,2);{let _=S(()=>y(a).t(96));ge(o,{get help(){return y(_)},onclick:()=>{l()?.()},children:(g,z)=>{G(g,{})},$$slots:{default:!0}})}v(u);var n=P(u,2),p=f(n);E(p,()=>e.children,()=>({close:l()})),v(n);var A=P(n,2);{var O=_=>{var g=Te(),z=f(g);Ie(z,{get pool(){return m()}}),v(g),r(_,g)};j(A,_=>{m()&&_(O)})}var ae=P(A,2);{var se=_=>{var g=je(),z=f(g);E(z,x,()=>({close:l()})),v(g),r(_,g)};j(ae,_=>{x()&&_(se)})}v(s),he(s,_=>ie(b,_),()=>y(b)),q(()=>{K(s,"aria-hidden",!N.state[e.key]),K(s,"data-theme",y(d)),M(t,e.title)}),ce("close",s,()=>{R("",{[e.key]:!1})}),r(i,s),F()}X(["mousedown"]);var Re=C('<div class="actions svelte-owp9dc"><!> <!></div>');function ct(i,e){D(e,!0);let a=w(e,"oncancel",3,void 0),h=w(e,"children",3,void 0),l=w(e,"confirm",3,"OK"),B=w(e,"cancel",3,"Annuler"),c=w(e,"close",15,void 0),x=w(e,"open",15,void 0),m=Y(e,["$$slots","$$events","$$legacy","onconfirm","oncancel","children","confirm","cancel","close","open"]);Se(i,de(()=>m,{get close(){return c()},set close(d){c(d)},get open(){return x()},set open(d){x(d)},footer:d=>{var s=Re(),u=f(s);ue(u,{loading:!0,onclick:async()=>{await a()?.(),c()?.()},children:(t,o)=>{I();var n=T();q(()=>M(n,B())),r(t,n)},$$slots:{default:!0}});var k=P(u,2);ve(k,{loading:!0,onclick:async()=>{await e.onconfirm(),c()?.()},children:(t,o)=>{I();var n=T();q(()=>M(n,l())),r(t,n)},$$slots:{default:!0}}),v(s),r(d,s)},children:(d,s)=>{var u=V(),k=W(u);E(k,()=>h()??le),r(d,u)},$$slots:{footer:!0,default:!0}})),F()}export{ct as M,it as T,Se as a,Ie as b,lt as h,te as t};
