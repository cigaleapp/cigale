import{_ as W,a as va,s as ca,b as U,g as ma}from"../chunks/ByTqR5TD.js";import{j as pa,n as ua,d as fa,t as _a,k as ha,r as S,u as ga,p as ba}from"../chunks/GdErsj6s.js";import{e as $a}from"../chunks/_tMfN55X.js";import{m as ja}from"../chunks/DqO7cyx5.js";import"../chunks/DsnmJJEf.js";import{f as ya,a as y,p as xa,c as C,n as k,aa as x,b as Ia,g as a,u as d,ay as t,az as r,r as e,aA as Ma,a9 as wa,ac as Y,aD as G}from"../chunks/Bn_ZbADV.js";import{a as j}from"../chunks/C0Q0tU0C.js";import{s as Ta}from"../chunks/D9gih6mG.js";import{r as za,i as J}from"../chunks/dHQvgpC_.js";import{c as Ha}from"../chunks/C-HhNZ1M.js";import{a as Sa,t as ka}from"../chunks/DiOkT0aq.js";import{t as Ca,f as Oa}from"../chunks/D4q3eRn6.js";import{I as Aa}from"../chunks/DJxvkVZ4.js";import{L as Da}from"../chunks/Cqz3Olg7.js";import{S as Fa}from"../chunks/Dlp6D5Pv.js";import{p as Q}from"../chunks/AjLkue78.js";import{I as Na}from"../chunks/BUH-c0xA.js";import{I as Pa}from"../chunks/DhJZr4Fe.js";import{a as Va}from"../chunks/KMAftsCj.js";import{T as Ea}from"../chunks/BIR5kMQz.js";import{u as La}from"../chunks/375YhVTa.js";async function Ra({params:u,parent:i,depends:m}){const v=W(pa("js")),c=await i(),$=ua(c.id,u.metadata);m(fa("Metadata",$));const f=await _a.Metadata.get($);f||$a(404,v.t(370,[$,c.id]));const _=await ha().count("MetadataOption",ja(c.id,u.metadata));return{protocol:c,metadata:f,optionsCount:_}}const ft=Object.freeze(Object.defineProperty({__proto__:null,load:Ra},Symbol.toStringTag,{value:"Module"}));var qa=ya('<svg><path fill="currentColor" d="M10 2a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H8v2h5V9a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-1H8v6h5v-1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-1H7a1 1 0 0 1-1-1V8H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1zm9 16h-4v2h4zm0-8h-4v2h4zM9 4H5v2h4z"></path></svg>');function Ba(u,i){const m=za(i,["$$slots","$$events","$$legacy"]);var v=qa();va(v,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...m})),y(u,v)}var Ka=C('<code class="badge svelte-h9jg4i"> </code>'),Ua=C("<a><!> <!></a>"),Ya=C('<div class="header-and-scrollable svelte-h9jg4i"><header class="svelte-h9jg4i"><div class="text svelte-h9jg4i"><span class="supertitle svelte-h9jg4i"> </span> <h2 class="svelte-h9jg4i"><span class="title svelte-h9jg4i"><!></span></h2> <code class="id svelte-h9jg4i"><!></code> <div class="datatype svelte-h9jg4i"><!> </div></div> <nav class="svelte-h9jg4i"><!> <!> <!> <!></nav></header> <div><!></div></div>');function _t(u,i){xa(i,!0);const m=d(()=>W(ma("main"))),v=d(()=>i.data.metadata),c=d(()=>a(v).id),$=d(()=>a(v).label),f=d(()=>a(v).type);var _=Ya(),I=t(_),M=t(I),w=t(M),X=t(w,!0);e(w);var T=r(w,2),O=t(T),Z=t(O);{let o=d(()=>a(m).t(248)),s=d(()=>a($)||S(a(c))),p=d(()=>La(async(h,g)=>{g&&(h.label=g)}));Pa(Z,{discreet:!0,get help(){return a(o)},get value(){return a(s)},get onblur(){return a(p)}})}e(O),e(T);var z=r(T,2),aa=t(z);{let o=d(()=>a(m).t(333));Ea(aa,{get text(){return a(o)},children:(s,p)=>{Ma();var h=wa();x(g=>j(h,g),[()=>S(a(c))]),y(s,h)},$$slots:{default:!0}})}e(z);var A=r(z,2),D=t(A);Na(D,{get type(){return a(f)}});var ta=r(D);e(A),e(M);var F=r(M,2);{const o=(s,p=k,h=k,g=k,L)=>{let oa=Y(()=>G(L?.(),()=>({}),!0).help),R=Y(()=>G(L?.(),()=>({}),!0).count);var b=Ua();let q;var B=t(b);Ha(B,g,(n,l)=>{l(n,{})});var K=r(B),ia=r(K);{var na=n=>{var l=Ka(),la=t(l,!0);e(l),x(da=>j(la,da),[()=>Intl.NumberFormat(Va().language).format(a(R))]),y(n,l)};J(ia,n=>{a(R)&&n(na)})}e(b),Sa(b,(n,l)=>ka?.(n,l),()=>a(oa)),x((n,l)=>{ca(b,"href",`#/protocols/${i.data.protocol.id??""}/metadata/${n??""}/${p()??""}`),q=U(b,1,"svelte-h9jg4i",null,q,l),j(K,` ${h()??""} `)},[()=>S(a(c)),()=>({active:Q.url.hash.includes(`/${p()}`)})]),y(s,b)};var N=t(F);o(N,()=>"infos",()=>"Informations",()=>Aa);var P=r(N,2);{var ea=s=>{o(s,()=>"options",()=>"Options",()=>Da,()=>({count:i.data.optionsCount}))};J(P,s=>{a(f)==="enum"&&s(ea)})}var V=r(P,2);o(V,()=>"inference",()=>"Inférence",()=>Fa);var sa=r(V,2);o(sa,()=>"cascades",()=>"Cascades",()=>Ba,()=>({help:"Changer les valeurs d'autres métadonnées en fonction de celle-ci"})),e(F)}e(I);var H=r(I,2);let E;var ra=t(H);Ta(ra,()=>i.children),e(H),e(_),x((o,s,p)=>{j(X,o),j(ta,` ${s??""}`),E=U(H,1,"scrollable svelte-h9jg4i",null,E,p)},[()=>a(m).t(332),()=>ga(ba[a(f)].label??""),()=>({padded:!Q.route.id?.includes("/options")})]),Ca(1,_,()=>Oa,()=>({duration:100})),y(u,_),Ia()}export{_t as component,ft as universal};
