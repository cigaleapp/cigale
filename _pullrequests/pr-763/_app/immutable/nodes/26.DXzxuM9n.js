import"../chunks/DsnmJJEf.js";import{f as Be,a as r,p as qe,c as f,d as w,ay as v,g as e,r as l,az as ae,aa as B,e as j,n as ce,b as He,u as n,ac as Ke,aD as Qe,a9 as be,aY as Ye,h as Xe,aA as Ie}from"../chunks/Bn_ZbADV.js";import{a as F}from"../chunks/C0Q0tU0C.js";import{a as De}from"../chunks/BgDQWD78.js";import{r as Le,i as h,s as Ze}from"../chunks/dHQvgpC_.js";import{c as et}from"../chunks/Ceb8Mi8c.js";import{a as Oe,b as we,s as ye,_ as Ue,g as We,c as tt}from"../chunks/ByTqR5TD.js";import{t as Me,f as Ve}from"../chunks/D4q3eRn6.js";import{R as ve}from"../chunks/DHI2XP9K.js";import{D as rt,g as Ge,t as Ne,F as at,z as st,B as ot,q as nt}from"../chunks/GdErsj6s.js";import{C as lt}from"../chunks/DCQ6EIJ0.js";import{h as vt,T as Ae}from"../chunks/CqvX9GtU.js";import{p as Pe}from"../chunks/CAILCW9-.js";import{B as Ce}from"../chunks/BNxh-1nu.js";import{B as it}from"../chunks/CFIEvhui.js";import{F as dt}from"../chunks/DQbvqQ6G.js";import{E as _t,F as pt}from"../chunks/xMJZW7_h.js";import{I as ft}from"../chunks/DhJZr4Fe.js";import{L as ut}from"../chunks/Db2b552w.js";import{L as ct}from"../chunks/i04FUm_M.js";import{e as gt,d as mt,c as ht}from"../chunks/DvdFYW7d.js";import{u as me}from"../chunks/BwaoDaF9.js";import{e as he,i as Te}from"../chunks/WunZNVQx.js";import{A as xt}from"../chunks/DiOs4Ftk.js";import{A as wt}from"../chunks/BoC_Jw-8.js";import{D as yt}from"../chunks/tQ5xpUhk.js";import{P as bt}from"../chunks/Cey8vZT0.js";import{B as kt}from"../chunks/DDqzxxyE.js";import{a as Se}from"../chunks/wr4YUA__.js";var $t=Be('<svg><path fill="currentColor" d="m3.515 2.1l19.092 19.092l-1.415 1.415l-2.014-2.015A6 6 0 0 1 17 21H7A6 6 0 0 1 5.008 9.339a7 7 0 0 1 .353-2.563L2.1 3.514zM7 9q0 .122.006.243l.07 1.488l-1.404.494A4.002 4.002 0 0 0 7 19h10q.28 0 .548-.037L7.03 8.445Q7 8.718 7 9m5-7a7 7 0 0 1 6.992 7.339a6.003 6.003 0 0 1 3.212 8.65l-1.493-1.494a3.999 3.999 0 0 0-5.207-5.206L14.01 9.796A6 6 0 0 1 17 9a5 5 0 0 0-7.876-4.09l-1.43-1.43A6.97 6.97 0 0 1 12 2"></path></svg>');function zt(ie,c){const s=Le(c,["$$slots","$$events","$$legacy"]);var i=$t();Oe(i,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...s})),r(ie,i)}var Re,Fe;function jt(){if(Fe)return Re;Fe=1;var ie={diffString:function(c,s){var i=this.diff(c.split(/\s+/),s.split(/\s+/)),y=[],t=0,b=0,I,a=c.match(/\s+/g);a==null?a=[""]:a.push("");var U=s.match(/\s+/g);for(U==null?U=[""]:U.push("");t<i.o.length||b<i.n.length;){for(I={remove:"",add:""};t<i.o.length&&i.o[t].text==null;)I.remove+=i.o[t]+a[t],t++;for(;b<i.n.length&&i.n[b].text==null;)I.add+=i.n[b]+U[b],b++;for((I.add||I.remove)&&y.push(I),I={text:""};t<i.o.length&&b<i.n.length&&i.o[t].text!=null&&i.n[b].text!=null;)I.text+=i.o[t].text+a[t],t++,b++;I.text&&y.push(I)}return y},diff:function(c,s){for(var i=new Object,y=new Object,t=0;t<s.length;t++)i[s[t]]==null&&(i[s[t]]={rows:new Array,o:null}),i[s[t]].rows.push(t);for(var t=0;t<c.length;t++)y[c[t]]==null&&(y[c[t]]={rows:new Array,n:null}),y[c[t]].rows.push(t);for(var t in i)i[t].rows.length==1&&typeof y[t]<"u"&&y[t].rows.length==1&&(s[i[t].rows[0]]={text:s[i[t].rows[0]],row:y[t].rows[0]},c[y[t].rows[0]]={text:c[y[t].rows[0]],row:i[t].rows[0]});for(var t=0;t<s.length-1;t++)s[t].text!=null&&s[t+1].text==null&&s[t].row+1<c.length&&c[s[t].row+1].text==null&&s[t+1]==c[s[t].row+1]&&(s[t+1]={text:s[t+1],row:s[t].row+1},c[s[t].row+1]={text:c[s[t].row+1],row:t+1});for(var t=s.length-1;t>0;t--)s[t].text!=null&&s[t-1].text==null&&s[t].row>0&&c[s[t].row-1].text==null&&s[t-1]==c[s[t].row-1]&&(s[t-1]={text:s[t-1],row:s[t].row-1},c[s[t].row-1]={text:c[s[t].row-1],row:t-1});return{o:c,n:s}}};return Re=ie,Re}var Et=jt();const At=rt(Et);var Ct=Be('<svg><path fill="currentColor" d="m8.369 12l4.747-8.968l1.768.936L10.632 12l4.252 8.032l-1.768.936z"></path></svg>');function Rt(ie,c){const s=Le(c,["$$slots","$$events","$$legacy"]);var i=Ct();Oe(i,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...s})),r(ie,i)}var Dt=Be('<svg><path fill="currentColor" d="m15.632 12l-4.748-8.968l-1.768.936L13.368 12l-4.252 8.032l1.768.936z"></path></svg>');function Mt(ie,c){const s=Le(c,["$$slots","$$events","$$legacy"]);var i=Dt();Oe(i,()=>({class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...s})),r(ie,i)}const Vt=(ie,c=ce)=>{var s=j(),i=w(s);he(i,17,c,Te,(y,t)=>{var b=j(),I=w(b);{var a=q=>{var W=tr(),X=v(W,!0);l(W),B(()=>F(X,e(t).text)),r(q,W)},U=q=>{var W=sr(),X=w(W);{var Z=g=>{var E=rr(),z=v(E,!0);l(E),B(()=>F(z,e(t).remove)),r(g,E)};h(X,g=>{e(t).remove&&g(Z)})}var se=ae(X,2);{var oe=g=>{var E=ar(),z=v(E,!0);l(E),B(()=>F(z,e(t).add)),r(g,E)};h(se,g=>{e(t).add&&g(oe)})}r(q,W)};h(I,q=>{e(t).text?q(a):q(U,!1)})}r(y,b)}),r(ie,s)};var Pt=f('<span class="separator svelte-dmhzg9" aria-hidden="true"><!></span>'),Tt=f("<a> </a>"),Bt=f("<a> </a>"),Lt=f("<span> </span>"),Ot=f("<span> </span>"),It=f('<span class="index"><!></span>'),St=f("<span> </span>"),Ft=f("<!> <!>",1),qt=f('<span class="root">/</span>'),Ht=f('<div class="string url svelte-dmhzg9"> <!></div>'),Ut=f("<span><!></span>"),Wt=f('<span class="number svelte-dmhzg9"> </span>'),Gt=f('<span class="boolean svelte-dmhzg9"> </span>'),Nt=f('<span class="null svelte-dmhzg9">null</span>'),Jt=f("<li><!></li>"),Kt=f('<ul class="array svelte-dmhzg9"></ul>'),Qt=f('<div class="array empty svelte-dmhzg9"> </div>'),Yt=f('<dt class="key svelte-dmhzg9"> </dt> <dd class="svelte-dmhzg9"><!></dd>',1),Xt=f("<dl></dl>"),Zt=f('<span class="undefined">undefined</span>'),er=f('<span class="unknown"> </span>'),tr=f("<span> </span>"),rr=f('<span class="removed svelte-dmhzg9"> </span>'),ar=f('<span class="added svelte-dmhzg9"> </span>'),sr=f("<!> <!>",1),or=f('<dl class="changed"><dt class="svelte-dmhzg9"><!></dt> <dd class="svelte-dmhzg9"><!></dd> <dt class="svelte-dmhzg9"><!></dt> <dd class="svelte-dmhzg9"><!></dd></dl>'),nr=f('<dt><div class="icon svelte-dmhzg9"><!></div> <div class="path svelte-dmhzg9"><!></div></dt> <dd><!></dd>',1),lr=f("<dl></dl>");function vr(ie,c){qe(c,!0);const s=(I,a=ce,U)=>{let q=Ke(()=>Qe(U?.(),void 0));const W=n(()=>a()[0]==="metadata"?Ne.Metadata.getFromState(a()[1].toString()):void 0),X=n(()=>e(W)&&a()[2]==="options"&&e(q)?st("MetadataOption",ot(e(W).id,e(q))):void 0);var Z=j(),se=w(Z);he(se,17,a,Te,(oe,g,E)=>{var z=Ft(),M=w(z);{var G=p=>{var o=Pt(),A=v(o);wt(A,{}),l(o),r(p,o)};h(M,p=>{E>0&&p(G)})}var ne=ae(M,2);{var ee=p=>{const o=n(()=>at(e(W).id));var A=j(),Q=w(A);{var S=d=>{var V=Tt(),te=v(V,!0);l(V),B((H,J)=>{ye(V,"title",H),ye(V,"href",J),F(te,e(W).label||e(o).id)},[()=>e(y).t(327),()=>Se("/(app)/protocols/[id]/metadata/[metadata]",{id:e(o).namespace??Pe.params.id??"",metadata:e(o).id})]),r(d,V)},k=d=>{var V=j(),te=w(V);{var H=P=>{var Y=j(),de=w(Y);De(de,()=>e(X),null,(le,L)=>{var R=j(),K=w(R);{var O=_=>{var u=Bt(),m=v(u,!0);l(u),B((D,$)=>{ye(u,"title",D),ye(u,"href",$),F(m,e(L).label||e(L).key)},[()=>e(y).t(328),()=>Se("/(app)/protocols/[id]/metadata/[metadata]/options/[option]",{id:e(o).namespace??Pe.params.id??"",metadata:e(o).id,option:e(L).key})]),r(_,u)},x=_=>{var u=Lt(),m=v(u,!0);l(u),B(()=>F(m,e(g))),r(_,u)};h(K,_=>{e(L)?_(O):_(x,!1)})}r(le,R)}),r(P,Y)},J=P=>{var Y=Ot(),de=v(Y,!0);l(Y),B(()=>F(de,e(g))),r(P,Y)};h(te,P=>{E===3&&e(X)?P(H):P(J,!1)},!0)}r(d,V)};h(Q,d=>{E===1&&typeof e(g)=="string"?d(S):d(k,!1)})}r(p,A)},N=p=>{var o=j(),A=w(o);{var Q=k=>{var d=It(),V=v(d);{let te=n(()=>e(y).cx(329)),H=n(()=>[e(g)+1]);ve(V,{get x(){return e(te)},get a(){return e(H)}})}l(d),r(k,d)},S=k=>{var d=St(),V=v(d,!0);l(d),B(()=>F(V,e(g))),r(k,d)};h(A,k=>{typeof e(g)=="number"?k(Q):k(S,!1)},!0)}r(p,o)};h(ne,p=>{e(W)?p(ee):p(N,!1)})}r(oe,z)},oe=>{var g=qt();r(oe,g)}),r(I,Z)},i=(I,a=ce)=>{var U=j(),q=w(U);{var W=Z=>{var se=Ht(),oe=v(se),g=ae(oe);{let E=n(()=>e(y).t(330));kt(g,{get help(){return e(E)},onclick:()=>window.open(a(),"_blank","noopener"),children:(z,M)=>{_t(z,{})},$$slots:{default:!0}})}l(se),B(()=>F(oe,`${a()??""} `)),r(Z,se)},X=Z=>{var se=j(),oe=w(se);{var g=z=>{var M=Ut();let G;var ne=v(M);{var ee=p=>{var o=be();B(A=>F(o,A),[()=>e(y).t(331)]),r(p,o)},N=p=>{var o=be();B(()=>F(o,a())),r(p,o)};h(ne,p=>{a().length===0?p(ee):p(N,!1)})}l(M),B(()=>G=we(M,1,"string svelte-dmhzg9",null,G,{empty:a().length===0})),r(z,M)},E=z=>{var M=j(),G=w(M);{var ne=N=>{var p=Wt(),o=v(p,!0);l(p),B(()=>F(o,a())),r(N,p)},ee=N=>{var p=j(),o=w(p);{var A=S=>{var k=Gt(),d=v(k,!0);l(k),B(()=>F(d,a()?"true":"false")),r(S,k)},Q=S=>{var k=j(),d=w(k);{var V=H=>{var J=Nt();r(H,J)},te=H=>{var J=j(),P=w(J);{var Y=le=>{var L=j(),R=w(L);{var K=x=>{var _=Kt();he(_,21,a,Te,(u,m)=>{var D=Jt(),$=v(D);i($,()=>e(m)),l(D),r(u,D)}),l(_),r(x,_)},O=x=>{var _=Qt(),u=v(_,!0);l(_),B(m=>F(u,m),[()=>e(y).t(331)]),r(x,_)};h(R,x=>{a().length>0?x(K):x(O,!1)})}r(le,L)},de=le=>{var L=j(),R=w(L);{var K=x=>{var _=Xt();let u;he(_,21,()=>gt(a()),([m,D])=>m,(m,D)=>{var $=n(()=>Ye(e(D),2));let C=()=>e($)[0],T=()=>e($)[1];var re=Yt(),_e=w(re),pe=v(_e,!0);l(_e);var fe=ae(_e,2),ue=v(fe);i(ue,T),l(fe),B(()=>F(pe,C())),r(m,re)}),l(_),B(m=>u=we(_,1,"object svelte-dmhzg9",null,u,m),[()=>({nested:Object.values(a()).some(m=>typeof m=="object"&&m!==null)})]),r(x,_)},O=x=>{var _=j(),u=w(_);{var m=$=>{var C=Zt();r($,C)},D=$=>{var C=er(),T=v(C,!0);l(C),B(()=>F(T,a())),r($,C)};h(u,$=>{typeof a()>"u"?$(m):$(D,!1)},!0)}r(x,_)};h(R,x=>{typeof a()=="object"?x(K):x(O,!1)},!0)}r(le,L)};h(P,le=>{Array.isArray(a())?le(Y):le(de,!1)},!0)}r(H,J)};h(d,H=>{a()===null?H(V):H(te,!1)},!0)}r(S,k)};h(o,S=>{typeof a()=="boolean"?S(A):S(Q,!1)},!0)}r(N,p)};h(G,N=>{typeof a()=="number"?N(ne):N(ee,!1)},!0)}r(z,M)};h(oe,z=>{typeof a()=="string"?z(g):z(E,!1)},!0)}r(Z,se)};h(q,Z=>{typeof a()=="string"&&URL.canParse(a())?Z(W):Z(X,!1)})}r(I,U)},y=n(()=>Ue(We("main"))),t=Ge({value:{key:"string | number"}});var b=lr();he(b,21,()=>c.changes,I=>I.path.join("."),(I,a)=>{var U=nr(),q=w(U);let W;var X=v(q),Z=v(X);{var se=o=>{yt(o,{})},oe=o=>{var A=j(),Q=w(A);{var S=d=>{xt(d,{})},k=d=>{bt(d,{})};h(Q,d=>{e(a).type==="CREATE"?d(S):d(k,!1)},!0)}r(o,A)};h(Z,o=>{e(a).type==="REMOVE"?o(se):o(oe,!1)})}l(X);var g=ae(X,2),E=v(g);{var z=o=>{s(o,()=>e(a).path,()=>e(a).value.key)},M=o=>{s(o,()=>e(a).path)};h(E,o=>{t.allows(e(a))?o(z):o(M,!1)})}l(g),l(q);var G=ae(q,2);let ne;var ee=v(G);{var N=o=>{i(o,()=>e(a).value)},p=o=>{var A=j(),Q=w(A);{var S=d=>{i(d,()=>e(a).oldValue)},k=d=>{var V=j(),te=w(V);{var H=P=>{{let Y=n(()=>At.diffString(e(a).oldValue,e(a).value));Vt(P,()=>e(Y))}},J=P=>{var Y=j(),de=w(Y);{var le=L=>{var R=or(),K=v(R);{const C=T=>{Rt(T,{})};var O=v(K);{let T=n(()=>[C]),re=n(()=>e(y).cx(325));ve(O,{get t(){return e(T)},get x(){return e(re)}})}l(K)}var x=ae(K,2),_=v(x);i(_,()=>e(a).oldValue),l(x);var u=ae(x,2);{const C=T=>{Mt(T,{})};var m=v(u);{let T=n(()=>[C]),re=n(()=>e(y).cx(326));ve(m,{get t(){return e(T)},get x(){return e(re)}})}l(u)}var D=ae(u,2),$=v(D);i($,()=>e(a).value),l(D),l(R),r(L,R)};h(de,L=>{e(a).type==="CHANGE"&&L(le)},!0)}r(P,Y)};h(te,P=>{e(a).type==="CHANGE"&&typeof e(a).oldValue=="string"&&typeof e(a).value=="string"?P(H):P(J,!1)},!0)}r(d,V)};h(Q,d=>{e(a).type==="REMOVE"?d(S):d(k,!1)},!0)}r(o,A)};h(ee,o=>{e(a).type==="CREATE"?o(N):o(p,!1)})}l(G),B(()=>{W=we(q,1,"svelte-dmhzg9",null,W,{"removed-key":e(a).type==="REMOVE","added-key":e(a).type==="CREATE","changed-key":e(a).type==="CHANGE"}),ne=we(G,1,"svelte-dmhzg9",null,ne,{removed:e(a).type==="REMOVE","removed-value":e(a).type==="REMOVE","added-value":e(a).type==="CREATE"})}),r(I,U)}),l(b),Me(1,b,()=>Ve),r(ie,b),He()}var ir=f("<strong><!></strong>"),dr=f('<div class="action svelte-1cdpxjs"><!></div>'),_r=f('<div class="upgrade-check notice svelte-1cdpxjs"><!></div>'),pr=f('<div class="action svelte-1cdpxjs"><!></div>'),fr=f('<div class="upgrade-check warning svelte-1cdpxjs"><!></div>'),ur=f('<div class="upgrade-check ok svelte-1cdpxjs"><!></div>'),cr=f('<div class="upgrade-check warning svelte-1cdpxjs"><!></div>'),gr=f('<div class="upgrade-check loading svelte-1cdpxjs"><!></div>'),mr=f('<div class="action svelte-1cdpxjs"><!></div>'),hr=f('<div class="upgrade-check warning svelte-1cdpxjs"><!></div>'),xr=f('<span class="differences-count svelte-1cdpxjs"> </span>'),wr=f('<div class="loading svelte-1cdpxjs"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <div class="text"><p> </p> <code> </code></div></div>'),yr=f('<section class="changes-with-remote svelte-1cdpxjs"><h3 class="svelte-1cdpxjs"><!></h3> <!></section>'),br=f('<main class="svelte-1cdpxjs"><h2> </h2> <!> <!> <!></main>');function Xr(ie,c){qe(c,!0);const s=n(()=>Ue(We("main"))),i=n(()=>typeof c.data.source=="string"?c.data.source:c.data.source?.url);let y=n(()=>c.data.version),t=n(()=>c.data.id),b=Xe({hasMore:!1,changes:[],progress:0,get loading(){return this.progress>.02&&this.progress<1}});async function I(){const{changes:g,dirty:E}=await Pe.data.swarpc.diffProtocolWithRemote({protocolId:e(t)},z=>{b.progress=z});return b.hasMore=g.length>100,b.changes=g.slice(0,100),b.progress=1,await Ne.Protocol.update(e(t),"dirty",E),b.changes}const a={checking:"",upgrading:"Mise à jour...",uptodate:"",available:"Mise à jour disponible",error:"Erreur lors de la mise à jour"};var U=br(),q=v(U),W=v(q,!0);l(q);var X=ae(q,2);{let g=n(()=>e(s).t(314)),E=n(()=>e(i)??""),z=n(()=>me((M,G)=>{G?M.source=G:delete M.source}));pt(X,{check:!0,get label(){return e(g)},get value(){return e(E)},get onblur(){return e(z)}})}var Z=ae(X,2);{const g=z=>{var M=j(),G=w(M);{var ne=ee=>{var N=j(),p=w(N);De(p,()=>vt({version:e(y),source:e(i),id:e(t)}),null,(o,A)=>{var Q=n(()=>{var{upToDate:J,newVersion:P}=e(A);return{upToDate:J,newVersion:P}}),S=n(()=>e(Q).upToDate),k=n(()=>e(Q).newVersion),d=j(),V=w(d);{var te=J=>{var P=_r();{const de=R=>{zt(R,{})},le=(R,K=ce)=>{var O=ir(),x=v(O);{let _=n(()=>[e(k)]);ve(x,{get x(){return K()},n:!0,get a(){return e(_)}})}l(O),r(R,O)},L=(R,K=ce)=>{var O=dr();{const _=(u,m=ce)=>{{let D=n(()=>me($=>{$.version=e(k)}));Ce(u,{get onclick(){return e(D)},children:($,C)=>{Ie();var T=be();B(re=>F(T,re),[()=>e(s).tx(m())]),r($,T)},$$slots:{default:!0}})}};var x=v(O);{let u=n(()=>[_]);ve(x,{get t(){return e(u)},get x(){return K()},n:!0})}l(O)}r(R,O)};var Y=v(P);{let R=n(()=>[de,le,L]),K=n(()=>e(s).cx(317));ve(Y,{get t(){return e(R)},get x(){return e(K)}})}l(P)}r(J,P)},H=J=>{var P=j(),Y=w(P);{var de=L=>{var R=j(),K=w(R);De(K,I,O=>{var x=gr();{const u=m=>{ut(m,{get progress(){return b.progress}})};var _=v(x);{let m=n(()=>[u]),D=n(()=>e(s).cx(320));ve(_,{get t(){return e(m)},get x(){return e(D)}})}l(x)}r(O,x)},(O,x)=>{var _=j(),u=w(_);{var m=$=>{var C=fr();{const re=pe=>{Ae(pe,{})},_e=(pe,fe=ce)=>{var ue=pr();{const $e=(ge,ze=ce)=>{{let je=n(()=>me(xe=>{xe.version=e(y)+1,close?.()}));Ce(ge,{get onclick(){return e(je)},children:(xe,Ee)=>{{let Je=n(()=>[e(y)+1]);ve(xe,{get x(){return ze()},n:!0,get a(){return e(Je)}})}},$$slots:{default:!0}})}};var ke=v(ue);{let ge=n(()=>[$e]);ve(ke,{get t(){return e(ge)},get x(){return fe()},n:!0})}l(ue)}r(pe,ue)};var T=v(C);{let pe=n(()=>[re,_e]),fe=n(()=>e(s).cx(318));ve(T,{get t(){return e(pe)},get x(){return e(fe)}})}l(C)}r($,C)},D=$=>{var C=ur();{const re=_e=>{lt(_e,{})};var T=v(C);{let _e=n(()=>[re]),pe=n(()=>e(s).cx(319));ve(T,{get t(){return e(_e)},get x(){return e(pe)}})}l(C)}r($,C)};h(u,$=>{e(x).length>0?$(m):$(D,!1)})}r(O,_)},(O,x)=>{var _=cr();{const m=D=>{Ae(D,{})};var u=v(_);{let D=n(()=>[m]),$=n(()=>e(s).cx(321)),C=n(()=>[e(x).message]);ve(u,{get t(){return e(D)},get x(){return e($)},get a(){return e(C)}})}l(_)}r(O,_)}),r(L,R)},le=L=>{var R=hr();{const O=_=>{Ae(_,{})},x=_=>{var u=mr(),m=v(u);{const D=(C,T)=>{let re=()=>T?.().state,_e=()=>T?.().help,pe=()=>T?.().onclick;const fe=n(()=>a[re()]);var ue=j(),ke=w(ue);{var $e=ge=>{{let ze=n(()=>re()==="upgrading");Ce(ge,{get disabled(){return e(ze)},get help(){return _e()},get onclick(){return pe()},children:(je,xe)=>{Ie();var Ee=be();B(()=>F(Ee,e(fe))),r(je,Ee)},$$slots:{default:!0}})}};h(ke,ge=>{e(fe)&&ge($e)})}r(C,ue)};let $=n(()=>me((C,T)=>{C.version=T}));it(m,Ze(()=>({id:e(t),version:e(y),source:e(i)}),{get onupgrade(){return e($)},button:D,$$slots:{button:!0}}))}l(u),r(_,u)};var K=v(R);{let _=n(()=>[O,x]),u=n(()=>e(s).cx(322)),m=n(()=>[e(k)]);ve(K,{get t(){return e(_)},get x(){return e(u)},get a(){return e(m)}})}l(R)}r(L,R)};h(Y,L=>{e(S)?L(de):L(le,!1)},!0)}r(J,P)};h(V,J=>{e(y)>e(k)?J(te):J(H,!1)})}r(o,d)}),r(ee,N)};h(G,ee=>{e(i)&&e(y)&&ee(ne)})}r(z,M)};let E=n(()=>e(s).t(315));dt(Z,{get label(){return e(E)},hint:g,children:(z,M)=>{{let G=n(()=>e(s).t(316)),ne=n(()=>Ge("string.integer.parse")),ee=n(()=>e(y)?.toString()??""),N=n(()=>me((p,o)=>{o!==void 0?p.version=o:delete p.version}));ft(z,{monospace:!0,get label(){return e(G)},get Type(){return e(ne)},get value(){return e(ee)},get onblur(){return e(N)}})}}})}var se=ae(Z,2);{var oe=g=>{const E=n(()=>{const{changes:p,hasMore:o}=b;return{changes:p,hasMore:o}});var z=yr(),M=v(z);{const p=o=>{var A=j(),Q=w(A);{var S=k=>{var d=xr();let V;var te=v(d);l(d),B(H=>{V=tt(d,"",V,H),F(te,`${e(E).changes.length??""}${e(E).hasMore?"+":""}`)},[()=>({color:mt(ht(e(E).changes.length/20,0,1),"fg-neutral","fg-warning","fg-error")})]),r(k,d)};h(Q,k=>{b.progress>=1&&k(S)})}r(o,A)};var G=v(M);{let o=n(()=>[p]),A=n(()=>e(s).cx(323));ve(G,{get t(){return e(o)},get x(){return e(A)}})}l(M)}var ne=ae(M,2);{var ee=p=>{var o=wr(),A=v(o);et(A,()=>({"--size":"5rem"})),ct(A.lastChild,{get drawpercent(){return b.progress}}),l(A);var Q=ae(A,2),S=v(Q),k=v(S,!0);l(S);var d=ae(S,2),V=v(d,!0);l(d),l(Q),l(o),B((te,H)=>{F(k,te),F(V,H)},[()=>e(s).t(324),()=>nt(b.progress)]),Me(1,o,()=>Ve,()=>({duration:100})),r(p,o)},N=p=>{vr(p,{get changes(){return e(E).changes}})};h(ne,p=>{b.progress<1?p(ee):p(N,!1)})}l(z),r(g,z)};h(se,g=>{e(y)!==void 0&&(b.changes.length>0||b.loading)&&g(oe)})}l(U),B(g=>F(W,g),[()=>e(s).t(313)]),Me(1,U,()=>Ve,()=>({duration:100})),r(ie,U),He()}export{Xr as component};
