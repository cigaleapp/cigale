<script lang="ts">
	/**
	 * @type {{variant?: 'regular' | 'error' | "empty", drawpercent?: number, loading?: boolean }}
	 */
	let { variant = 'regular', drawpercent = $bindable(1), loading = false } = $props();

	const strokeDashoffset = variant === 'empty' ? 100 : 1206;

	let loadingLogoDrawingForwards = $state(true);
	if (loading) {
		$effect(() => {
			setInterval(() => {
				drawpercent = drawpercent + (loadingLogoDrawingForwards ? 1 : -1) * 0.03;
				if (drawpercent > 1) {
					loadingLogoDrawingForwards = !loadingLogoDrawingForwards;
					drawpercent = 0;
				}
			}, 10);
		});
	}
</script>

<svg viewBox="0 0 3204 2017" fill="var(--fill, none)" xmlns="http://www.w3.org/2000/svg">
	{#if variant === 'regular' || variant === 'empty'}
		<path
			d="M1020.07 294.532L1283.62 482.788V303.639C1261.34 270.383 1222.2 179.965 1303.91 115.305C1376.19 58.0998 1441.36 108.379 1471.37 133.436L1283.62 303.639V482.788L1217.18 724.197L1471.37 942.764L1308.87 1031.25L1020.07 1188.53L624.147 1067.03L937.818 724.197L696.449 707.796L370.907 724.197L81.6314 534.363L24.7183 279.146L211.153 282.028L1020.07 294.532Z"
			fill="var(--fill, none)"
		/>
		<path
			d="M2184.65 294.532L1921.1 482.788V303.639C1943.38 270.383 1982.52 179.965 1900.81 115.305C1828.53 58.0998 1763.35 108.379 1733.35 133.436L1921.1 303.639V482.788L1987.54 724.197L1733.35 942.764L1895.85 1031.25L2184.65 1188.53L2580.57 1067.03L2266.9 724.197L2508.27 707.796L2833.81 724.197L3123.09 534.363L3180 279.146L2993.56 282.028L2184.65 294.532Z"
			fill="var(--fill, none)"
		/>
		<path
			d="M1293.71 1314.18L1276.49 1635.46H1928.23L1911.01 1314.18H1293.71Z"
			fill="var(--fill, none)"
		/>
		<path
			d="M1602.29 1054.24L1471.37 942.764L1308.87 1031.25L1293.71 1314.18H1911.01L1895.85 1031.25L1733.35 942.764L1602.29 1054.24Z"
			fill="var(--fill, none)"
		/>
		<path
			d="M1276.49 1635.46L1602.36 1988.1L1928.23 1635.46H1276.49Z"
			fill="var(--fill, none)"
		/>
		<path
			d="M1283.62 482.788L1217.18 724.197L1471.37 942.764L1602.29 1054.24L1733.35 942.764L1987.54 724.197L1921.1 482.788H1283.62Z"
			fill="var(--fill, none)"
		/>
		<path
			d="M1283.62 303.639V482.788H1921.1V303.639L1733.35 133.436H1471.37L1283.62 303.639Z"
			fill="var(--fill, none)"
		/>
		<path
			d="M1020.07 294.532L1283.62 482.788M1020.07 294.532L211.153 282.028M1020.07 294.532L886.107 524.182M1283.62 482.788L1217.18 724.197M1283.62 482.788L886.107 524.182M1283.62 482.788V303.639M1283.62 482.788H1921.1M1217.18 724.197H937.818M1217.18 724.197L1471.37 942.764M937.818 724.197L696.449 707.796L370.907 724.197M937.818 724.197L637.929 550.025M937.818 724.197L624.147 1067.03L1020.07 1188.53L1308.87 1031.25M370.907 724.197L81.6314 534.363L24.7183 279.146L211.153 282.028M370.907 724.197L211.153 282.028M211.153 282.028L637.929 550.025M637.929 550.025L886.107 524.182M1471.37 942.764L1602.29 1054.24L1733.35 942.764M1471.37 942.764L1308.87 1031.25M1308.87 1031.25L1293.71 1314.18M1276.49 1635.46L1602.36 1988.1L1928.23 1635.46M1276.49 1635.46L1293.71 1314.18M1276.49 1635.46H1928.23M1283.62 303.639L1471.37 133.436M1283.62 303.639C1261.34 270.383 1222.2 179.965 1303.91 115.305C1376.19 58.0998 1441.36 108.379 1471.37 133.436M1471.37 133.436V0.368164M1471.37 133.436H1733.35M1293.71 1314.18H1911.01M2184.65 294.532L1921.1 482.788M2184.65 294.532L2993.56 282.028M2184.65 294.532L2318.61 524.182M1921.1 482.788L1987.54 724.197M1921.1 482.788L2318.61 524.182M1921.1 482.788V303.639M1987.54 724.197H2266.9M1987.54 724.197L1733.35 942.764M2266.9 724.197L2508.27 707.796L2833.81 724.197M2266.9 724.197L2566.79 550.025M2266.9 724.197L2580.57 1067.03L2184.65 1188.53L1895.85 1031.25M2833.81 724.197L3123.09 534.363L3180 279.146L2993.56 282.028M2833.81 724.197L2993.56 282.028M2993.56 282.028L2566.79 550.025M2566.79 550.025L2318.61 524.182M1733.35 942.764L1895.85 1031.25M1895.85 1031.25L1911.01 1314.18M1928.23 1635.46L1911.01 1314.18M1921.1 303.639L1733.35 133.436M1921.1 303.639C1943.38 270.383 1982.52 179.965 1900.81 115.305C1828.53 58.0998 1763.35 108.379 1733.35 133.436M1733.35 133.436V0.368164"
			stroke="var(--stroke, {variant === 'empty' ? 'var(--gray)' : 'var(--fg-neutral)'})"
			stroke-dasharray={strokeDashoffset}
			stroke-dashoffset={strokeDashoffset * (1 - drawpercent)}
			stroke-width="var(--stroke-width, 38)"
		/>
	{:else if variant === 'error'}
		<path
			d="M1019.82 427.621L1283.38 615.876M1019.82 427.621L210.907 415.116M1019.82 427.621L885.861 657.27M1283.38 615.876L1216.93 857.285M1283.38 615.876L885.861 657.27M1283.38 615.876V436.727M370.661 857.285L696.203 840.884L937.572 857.285L637.683 683.113M370.661 857.285L81.3853 667.452L24.4722 412.234L210.907 415.116M370.661 857.285L210.907 415.116M210.907 415.116L637.683 683.113M637.683 683.113L885.861 657.27M1471.13 1075.85L1602.04 1187.33L1733.1 1075.85M1308.63 1164.34L1293.46 1447.27M1276.25 1768.55L1602.11 2121.19L1927.98 1768.55M1276.25 1768.55L1293.46 1447.27M1276.25 1768.55H1927.98M1283.38 436.727L1471.13 266.524M1283.38 436.727C1261.09 403.471 1221.95 313.053 1303.66 248.394C1375.95 191.188 1441.12 241.468 1471.13 266.524M1471.13 266.524V133.457M1471.13 266.524H1733.1M1293.46 1447.27H1910.76M1920.85 615.876V436.727M1733.1 1075.85L1987.29 857.285H2266.65L2580.33 1200.11L2184.41 1321.62L1895.6 1164.34M1733.1 1075.85L1895.6 1164.34M1895.6 1164.34L1910.76 1447.27M1927.98 1768.55L1910.76 1447.27M1920.85 436.727L1733.1 266.524M1920.85 436.727C1943.13 403.471 1982.27 313.053 1900.57 248.394C1828.28 191.188 1763.11 241.468 1733.1 266.524M1733.1 266.524V133.457M1441.44 492.913L1774.13 825.603M1441.44 825.603L1774.13 492.913"
			stroke="var(--stroke, var(--fg-error))"
			stroke-width="var(--stroke-width, 38)"
		/>
		<path
			d="M2287.12 216.089L2096.32 477.812M2287.12 216.089L2902.6 23.8817M2287.12 216.089L2486.62 391.818M2096.32 477.812L2486.62 391.818M2096.32 477.812L2165.89 581.896L2235.46 685.979L2500.58 597.937M2500.58 597.937L2724.48 506.303L3038.6 419.273L2902.6 23.8817M2500.58 597.937L2730.3 338.13M2902.6 23.8817L2730.3 338.13M2730.3 338.13L2486.62 391.818"
			stroke="var(--stroke, var(--fg-error))"
			stroke-width="var(--stroke-width, 38)"
		/>
		<path
			d="M634.148 1120.58L894.263 1018.69L1210.67 1129.48L1091.64 1271.15L880.093 1522.92L467.133 1554.2L634.148 1120.58Z"
			stroke="var(--stroke, var(--fg-error))"
			stroke-width="var(--stroke-width, 38)"
		/>
	{/if}
</svg>

<style>
	svg {
		width: calc(var(--size, 1.2em) * 3204 / 2017);
		height: var(--size, 1.2em);
	}
</style>
