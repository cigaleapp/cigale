import{Bt as e,Dt as t,Et as n,Ht as r,I as i,Nt as a,Ot as o,Tt as s,en as c,fn as l,in as u,kt as d,ln as f,qt as p}from"../entry.CUq7HivD.js";import{u as m}from"./current.DC8NWKuj.js";var h={"font-mono":``},g={"op-fade":``,"text-xs":``,"ml0.5":``},_=1440*60*1e3,v=a({__name:`DurationBadge`,props:{ms:{},colorize:{type:Boolean,default:!0},mode:{default:`hour`}},setup(e){let t=e,a=[[180,`color-scale-neutral`],[365,`color-scale-low`],[365*3,`color-scale-medium`],[365*5,`color-scale-high`],[730*5,`color-scale-critical`]],c=s(()=>t.ms==null?0:Math.floor(t.ms/_)),u=s(()=>t.ms?c.value<1?t.mode===`day`?[`today`,``]:[Math.floor(t.ms/(1e3*60*60)),`hr`]:c.value>365?[+(c.value/365).toFixed(1),`yr`]:c.value>30?[Math.round(c.value/30),`mo`]:[c.value,`d`]:[``,``]),p=s(()=>{if(!i.value.colorizePackageSize&&!t.colorize)return a[0][1];for(let[e,t]of a)if(c.value<e)return t;return a[a.length-1][1]});return(t,i)=>e.ms?(r(),d(`div`,{key:0,class:f([p.value,`px-0.4em py-0.2em line-height-none bg-gray:5 text-sm`])},[n(`span`,h,l(u.value[0]),1),n(`span`,g,l(u.value[1]),1)],2)):o(``,!0)}}),y=Object.assign(v,{__name:`DisplayDurationBadge`}),b=a({__name:`DateBadge`,props:{pkg:{},time:{},colorize:{type:Boolean,default:!0}},setup(e){let n=e,i=s(()=>n.time?new Date(n.time):n.pkg?m(n.pkg):void 0),a=Intl.DateTimeFormat(`en-US`,{year:`numeric`,month:`long`,day:`numeric`}),l=s(()=>i.value?a.format(i.value):null);return(e,a)=>{let s=y,u=p(`tooltip`);return i.value?c((r(),t(s,{key:0,title:l.value,ms:Date.now()-+i.value,colorize:n.colorize,mode:`day`},null,8,[`title`,`ms`,`colorize`])),[[u,l.value]]):o(``,!0)}}}),x=Object.assign(b,{__name:`DisplayDateBadge`}),S=[`src`],C=a({__name:`SafeImage`,props:{src:{}},setup(t){let n=t,i=u(!1);return e(()=>{let e=new Image;e.src=n.src,e.onload=()=>{i.value=!0}}),(e,t)=>i.value?(r(),d(`img`,{key:0,src:n.src,onError:t[0]||=e=>i.value=!1},null,40,S)):o(``,!0)}}),w=Object.assign(C,{__name:`DisplaySafeImage`});export{x as n,y as r,w as t};