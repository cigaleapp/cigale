import{$t as e,Ct as t,Et as n,Gt as r,Ht as i,It as a,Mt as o,Nt as s,Tt as c,Wt as l,Yt as u,an as d,cn as f,en as p,g as m,in as h,kt as g,ln as _,tn as v,xt as y}from"../entry.CUq7HivD.js";import{d as b,t as x}from"./current.DC8NWKuj.js";import"./SourceTypeBadge.Ca65fnzz.js";import{t as S}from"./Item.CbxYP8u1.js";import{t as C}from"./PackageSelect.BIa0LS_W.js";import{n as w,t as T}from"./composables.BHkaCjSq.js";import"./PackageBorder.DRGNKOOj.js";var E={relative:``,"w-100":``},D={"h-12":``,border:`~ base rounded-full`,"bg-glass":``,shadow:``,"transition-all":``,"duration-300":``},O={p3:``,"flex-none":``,"rounded-full":``,"h-full":``,flex:`~ items-center gap-1.5`,"hover:bg-active":``},k=[`onKeydown`],A={mt5:``},j=[`onClick`],M=s({__name:`PackageMultiSelectInput`,props:a({payload:{},excludes:{}},{selected:{default:new Set},selectedModifiers:{}}),emits:[`update:selected`],setup(a){let s=u(a,`selected`),c=h(``);function d(e){s.value.add(e),c.value=``}return(u,f)=>{let m=C,h=S;return i(),g(`div`,E,[n(`div`,D,[o(m,{input:c.value,"onUpdate:input":f[2]||=e=>c.value=e,excludes:a.excludes,payload:a.payload,onSelect:d},{default:e(({onEnter:e})=>[n(`label`,O,[r(u.$slots,`icon`),p(n(`input`,{"onUpdate:modelValue":f[0]||=e=>c.value=e,placeholder:`Select package`,"w-full":``,"bg-transparent":``,"outline-none":``,class:`placeholder:text-#8886`,onKeydown:e},null,40,k),[[y,c.value]]),n(`button`,{"w-6":``,"h-6":``,"rounded-full":``,"hover:bg-active":``,flex:``,class:_(c.value?``:`op0`),onClick:f[1]||=e=>c.value=``},[...f[3]||=[n(`div`,{"i-ph-x":``,ma:``,"op-fade":``},null,-1)]],2)])]),_:3},8,[`input`,`excludes`,`payload`])]),n(`div`,A,[(i(!0),g(t,null,l(s.value,e=>(i(),g(`div`,{key:e.spec,flex:`~ gap-2 items-center`,p2:``},[o(h,{pkg:e,"flex-auto":``,"show-module-type":!1},null,8,[`pkg`]),n(`button`,{"flex-none":``,"op-fade":``,"rounded-full":``,p1:``,hover:`op100 bg-active`,onClick:t=>s.value.delete(e)},[...f[4]||=[n(`div`,{"i-ph-x":``},null,-1)]],8,j)]))),128))])])}}}),N=Object.assign(M,{__name:`OptionPackageMultiSelectInput`}),P={key:0,flex:`~ col items-center justify-center gap-10`,"mt-10":``},F={grid:`~ cols-[1fr_max-content_1fr] gap-2`},I=[`disabled`],L=s({__name:`compare`,setup(r){let a=b.available,s=d(new Set),l=d(new Set),u=c(()=>[...s,...l]),p=c(()=>[...m.state.compareA||[],...m.state.compareB||[]].map(e=>a.get(e)).filter(e=>!!e)),h=c(()=>m.state.compareA?.length&&m.state.compareB?.length);function _(){!s.size||!l.size||(x.value=void 0,m.state.compareA=Array.from(s).map(e=>e.spec),m.state.compareB=Array.from(l).map(e=>e.spec))}function y(){s.clear(),l.clear(),m.state.compareA?.forEach(e=>s.add(a.get(e))),m.state.compareB?.forEach(e=>l.add(a.get(e))),m.state.compareA=null,m.state.compareB=null}return(r,a)=>{let c=N,d=w;return h.value?(i(),g(t,{key:1},[o(d,{payload:f(b).filtered,"root-packages":p.value,"highlight-mode":`compare`},null,8,[`payload`,`root-packages`]),n(`div`,{border:`~ base rounded-full`,"z-panel-nav":``,fixed:``,"top-4":``,left:`50%`,transform:`-50%`,"bg-glass":``,shadow:``,"of-hidden":``},[n(`button`,{px5:``,py1:``,"text-lg":``,hover:`bg-active op100`,"op-fade":``,onClick:y},` Start a new compare `)])],64)):(i(),g(`div`,P,[a[7]||=n(`div`,{"text-center":``},[n(`h1`,{"text-2xl":``,"font-bold":``},` Select packages to compare `),n(`p`,{"op-fade":``},` Use the filters to select packages to compare `)],-1),n(`div`,F,[n(`div`,null,[a[3]||=n(`div`,{"text-yellow":``,p2:``,"text-center":``,op75:``},` Compare Group A `,-1),o(c,{selected:f(s),"onUpdate:selected":a[0]||=e=>v(s)?s.value=e:null,excludes:u.value},{icon:e(()=>[...a[2]||=[n(`div`,{"i-ph-package-duotone":``,"text-lg":``,"text-yellow":``,"flex-none":``},null,-1)]]),_:1},8,[`selected`,`excludes`])]),a[6]||=n(`div`,{p2:``,rounded:``,"op-fade":``,py13:``},` vs `,-1),n(`div`,null,[a[5]||=n(`div`,{"text-purple":``,p2:``,"text-center":``,op75:``},` Compare Group B `,-1),o(c,{selected:f(l),"onUpdate:selected":a[1]||=e=>v(l)?l.value=e:null,excludes:u.value},{icon:e(()=>[...a[4]||=[n(`div`,{"i-ph-package-duotone":``,"text-lg":``,"text-purple":``,"flex-none":``},null,-1)]]),_:1},8,[`selected`,`excludes`])])]),n(`button`,{disabled:!f(s).size||!f(l).size,class:`disabled:op-mute disabled:pointer-events-none`,px5:``,py1:``,"text-lg":``,border:`~ base rounded-full`,hover:`bg-active op100`,onClick:_},` Start Compare `,8,I)]))}}});export{L as default};