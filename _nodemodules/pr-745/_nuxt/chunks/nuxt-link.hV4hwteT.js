import{Bt as e,Kt as t,Nt as n,Pt as r,Tt as i,_t as a,c as o,ct as s,d as c,et as l,f as u,ft as d,gt as f,ht as p,in as m,mt as h,on as g,p as _,pt as v,rt as y,st as b,tt as x,u as S,zt as C}from"../entry.CUq7HivD.js";var w=(...e)=>e.find(e=>e!==void 0);function T(a){let d=a.componentName||`NuxtLink`;function f(e){return typeof e==`string`&&e.startsWith(`#`)}function _(e,t,n){let r=n??a.trailingSlash;if(!e||r!==`append`&&r!==`remove`)return e;if(typeof e==`string`)return D(e,r);let i=`path`in e&&e.path!==void 0?e.path:t(e).path;return{...e,name:void 0,path:D(i,r)}}function T(e){let n=y(),r=s(),o=i(()=>!!e.target&&e.target!==`_self`),c=i(()=>{let t=e.to||e.href||``;return typeof t==`string`&&v(t,{acceptRelative:!0})}),u=t(`RouterLink`),d=u&&typeof u!=`string`?u.useLink:void 0,p=i(()=>{if(e.external)return!0;let t=e.to||e.href||``;return typeof t==`object`?!1:t===``||c.value}),m=i(()=>{let t=e.to||e.href||``;return p.value?t:_(t,n.resolve,e.trailingSlash)}),g=p.value?void 0:d?.({...e,to:m}),b=i(()=>{let t=e.trailingSlash??a.trailingSlash;if(!m.value||c.value||f(m.value))return m.value;if(p.value){let e=typeof m.value==`object`&&`path`in m.value?x(m.value):m.value;return D(typeof e==`object`?n.resolve(e).href:e,t)}return typeof m.value==`object`?n.resolve(m.value)?.href??null:D(h(r.app.baseURL,m.value),t)});return{to:m,hasTarget:o,isAbsoluteUrl:c,isExternal:p,href:b,isActive:g?.isActive??i(()=>m.value===n.currentRoute.value.path),isExactActive:g?.isExactActive??i(()=>m.value===n.currentRoute.value.path),route:g?.route??i(()=>n.resolve(m.value)),async navigate(t){await l(b.value,{replace:e.replace,external:p.value||o.value})}}}return n({name:d,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:T,setup(n,{slots:i}){let s=y(),{to:l,href:d,navigate:h,isExternal:_,hasTarget:v,isAbsoluteUrl:E}=T(n),D=g(!1),k=m(null),j=e=>{k.value=n.custom?e?.$el?.nextElementSibling:e?.$el};function M(e){return!D.value&&(typeof n.prefetchOn==`string`?n.prefetchOn===e:n.prefetchOn?.[e]??a.prefetchOn?.[e])&&(n.prefetch??a.prefetch)!==!1&&n.noPrefetch!==!0&&n.target!==`_blank`&&!A()}async function N(e=b()){if(D.value)return;D.value=!0;let t=typeof l.value==`string`?l.value:_.value?x(l.value):s.resolve(l.value).fullPath,n=_.value?new URL(t,window.location.href).href:t;await Promise.all([e.hooks.callHook(`link:prefetch`,n).catch(()=>{}),!_.value&&!v.value&&o(l.value,s).catch(()=>{})])}if(M(`visibility`)){let t=b(),n,r=null;e(()=>{let e=O();S(()=>{n=u(()=>{k?.value?.tagName&&(r=e.observe(k.value,async()=>{r?.(),r=null,await N(t)}))})})}),C(()=>{n&&c(n),r?.(),r=null})}return()=>{if(!_.value&&!v.value&&!f(l.value)){let e={ref:j,to:l.value,activeClass:n.activeClass||a.activeClass,exactActiveClass:n.exactActiveClass||a.exactActiveClass,replace:n.replace,ariaCurrentValue:n.ariaCurrentValue,custom:n.custom};return n.custom||(M(`interaction`)&&(e.onPointerenter=N.bind(null,void 0),e.onFocus=N.bind(null,void 0)),D.value&&(e.class=n.prefetchedClass||a.prefetchedClass),e.rel=n.rel||void 0),r(t(`RouterLink`),e,i.default)}let e=n.target||null,o=w(n.noRel?``:n.rel,a.externalRelAttribute,E.value||v.value?`noopener noreferrer`:``)||null;return n.custom?i.default?i.default({href:d.value,navigate:h,prefetch:N,get route(){if(!d.value)return;let e=new URL(d.value,window.location.href);return{path:e.pathname,fullPath:e.pathname,get query(){return p(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:d.value}},rel:o,target:e,isExternal:_.value||v.value,isActive:!1,isExactActive:!1}):null:r(`a`,{ref:k,href:d.value||null,rel:o,target:e,onClick:e=>{if(!(_.value||v.value))return e.preventDefault(),n.replace?s.replace(d.value):s.push(d.value)}},i.default?.())}}})}var E=T(d);function D(e,t){let n=t===`append`?f:a;return v(e)&&!e.startsWith(`http`)?e:n(e,!0)}function O(){let e=b();if(e._observer)return e._observer;let t=null,n=new Map;return e._observer={observe:(e,r)=>(t||=new IntersectionObserver(e=>{for(let t of e){let e=n.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&e&&e()}}),n.set(e,r),t.observe(e),()=>{n.delete(e),t?.unobserve(e),n.size===0&&(t?.disconnect(),t=null)})}}var k=/2g/;function A(){let e=navigator.connection;return!!(e&&(e.saveData||k.test(e.effectiveType)))}export{E as t};